<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
  <title>UKIRT Observation Preparation</title>
  <meta content="text/html; charset=ISO-8859-1"
 http-equiv="content-type">
  <link href="http://www.jach.hawaii.edu/UKIRT/favicon.ico" rel="icon">
</head>
<body style="background-color: rgb(255, 255, 250); color: rgb(0, 0, 0);"
 alink="#0000ee" link="#0000ee" vlink="#551a8b">
<table border="0" cellpadding="2" cellspacing="5" width="100%">
  <tbody>
    <tr>
      <td><font size="+3"><font color="#ff0000">UKIRT</font></font><font
 size="+3"><font color="#ff0000"> OBSERVING PREPARATION</font></font></td>
      <td align="right"><img alt="" src="UKIRTheaderimage.png"
 height="86" width="138"> <br>
      </td>
    </tr>
  </tbody>
</table>
<br>
<hr align="left" size="2" width="100%"><span style="font-style: italic;"></span>
<div align="left"><br>
This document describes the preparation of UKIRT observations under the
UKIRT
Observing Tool. It assumes that you have already acquired
the software (see the <a href="download.html">download page</a>). Of
course if you are
using a JAC, UKIRT or JCMT machine, the software is already installed.
Email <a href="mailto:ukirtot@jach.hawaii.edu">ukirtot@jach.hawaii.edu</a>
with questions or problems.&nbsp;
<p> This guide is intended to be relatively complete without going
into the details of the science libraries on which most observing
is based. Those details can be found elsewhere (in the libraries
themselves
and on the <a href="http://www.jach.hawaii.edu/UKIRT/instruments/">instrument
web pages</a>
(http://www.jach.hawaii.edu/UKIRT/instruments/). The
topics covered apply equally whether you are preparing observations
remotely
or at the Observatory. We suggest you read through sequentially,
following
the "tours" as they come up. <br>
<br>
<span style="color: rgb(255, 0, 0);"> We </span><span
 style="font-style: italic; color: rgb(255, 0, 0);">strongly</span><span
 style="color: rgb(255, 0, 0);"> recommend that you use the online
version
of this document, stored on the UKIRT web pages (</span><a
 style="color: rgb(255, 0, 0);"
 href="http://www.jach.hawaii.edu/software/ukirtot">http://www.jach.hawaii.edu/software/ukirtot</a><span
 style="color: rgb(255, 0, 0);">)</span>. If you are reading these
notes within the OT's own help
system,
please be aware that the web version may be more up to date, and that
external links will not be accessible. Also, the native java browser
is not as user-friendly as Netscape, Mozilla or Internet Explorer. <br>
<br>
Finally - please be sure to read the list of known issues with the
current
release (you will find this at the end of the document). </p>
</div>
<br>
<hr style="width: 100%; height: 2px;"><br>
<b><font color="#000099"><a href="#intro">I. </a><a href="#intro">Introduction</a></font></b><br>
<br>
<font color="#000099"><b><a href="#obsprep">II. </a><a
 href="#II._The_Observing_Tool">The Observing Tool</a><br>
</b></font>
<blockquote><a href="#Startup_screens">Startup screens</a><br>
  <div style="margin-left: 40px;"><a href="#Which_File_Menu"></a> <a
 href="#Which_File_Menu"><span style="font-style: italic;">The
File Menus</span></a><br>
  </div>
  <a href="#Tour:_the_Science_programme_window">The science program
window <font color="#ff0000">[tour]</font></a><br>
  <blockquote> </blockquote>
  <a href="#Tour:_The_UKIRT_Template_Library_">The
Template Library <font color="#ff0000">[tour]</font></a><br>
  <a href="#Minimum_Schedulable_Blocks">Minimum
schedulable blocks</a><br>
  <a href="#Science_program_elements">Science
Program Elements</a><br>
  <a href="#Inheritance">Inheritance</a><br>
  <a href="#Administrative_components:_Scheduling">Administrative
components: Scheduling and Site Quality Components, and Priorities</a><br>
  <i> </i>
  <blockquote><i><a href="#Scheduling_constraints">Scheduling
constraints</a></i><br>
    <i><a href="#Site_Quality">Site
quality constraints</a></i><br>
    <i><a href="#Using_inheritance_with_the">Using
inheritance with administrative components</a><br>
    </i><i><a href="#Priority">Priorities</a><br>
    </i> </blockquote>
  <a href="#Tour:_A_more_complete_science_programme">Example
- a complete science program </a><font color="#ff0000"><a
 href="#Tour:_A_more_complete_science_programme">[tour]</a><br>
  </font>
  <div style="margin-left: 40px;"><i><a href="#Moving_Objects">Specifying
Moving Objects</a><br>
  </i><i><a href="#Proper_Motion">Allowing
for Proper Motion</a><br>
  </i> </div>
  <a href="#Tour:_Using_the_Position_Editor">Use of the Position Editor
  <font color="#ff0000">[tour]</font></a><br>
  <a href="#Large_Programmes">Large Programmes</a><br>
  <div style="margin-left: 40px;"><a
 href="#Generating_a_Program_from_a_Catalogue_on">Cloning an MSB</a><br>
  <a href="#Survey_Containers">Survey Containers</a><br>
  </div>
  <blockquote> </blockquote>
  <br>
  <a href="#IMPORTANT_-_Program_Documentation">IMPORTANT -
Program
Documentation</a><br>
  <a href="#Observer_notes_-_what_NOT_to_do">Observer notes - what NOT
to do</a><br>
  <a href="#A_Typical_Programme_Setup_Sequence">CHECKLIST - what to
look
for in a typical program</a><br>
  <a href="#Estimates_of_Execution_Time">Estimates of execution time</a><br>
  <a href="#Saving_and_Submitting_your_Program">Saving and Submitting
your
Program</a><br>
  <a href="#Click-by-click_worked_example">Click-by-click worked example</a><br>
</blockquote>
<font color="#000099"><b><a href="#advanced">III. </a><a
 href="#advanced">Advanced Topics
and
Usage Notes</a></b></font><br>
<blockquote><a href="#AND_and_OR_logic">AND and OR Logic</a><br>
  <a href="#Drag_and_drop">Drag and Drop</a><br>
  <a href="#Usage_through_a_firewall">Usage
through a firewall</a><br>
  <a href="#Aside:_Specifying_Spectroscopic_Standard">Specifying
Spectroscopic Standard Stars</a><br>
  <a href="#Notes_on_guide_stars_and_acquisition">Guide stars and
acquisition scenarios</a><br>
  <a href="#Instrument-Specific_Pages">Links to Instrument-specific OT
guides</a><br>
</blockquote>
<a style="font-weight: bold;" href="#IV._Release-Specific_Notes">IV. </a><a
 style="font-weight: bold;" href="#IV._Release-Specific_Notes">Release-specific
notes</a><br>
<br>
<div style="margin-left: 40px;"><a
 href="#Updates_in_the_January_2009_09A_WFCAM">Updates in the January
2009 (09A WFCAM) version</a><br>
<a href="#Updates_in_June_2008_08A_Cassegrain">Updates in June 2008
(08A Cassegrain block) version</a><br>
</div>
<div style="margin-left: 40px;"><a
 href="#Updates_in_November_2007_version">Updates in November 2007 (07B
Cassegrain block) version</a><br>
</div>
<div style="margin-left: 40px;"><a href="#Updates_in_April_2006_version">Updates
in
April 2006 version</a><br>
<a href="#Updates_in_05A_version">Updates in
05A version</a><br>
</div>
<div style="margin-left: 40px;"><a href="#Updates_in_04A_version">Updates
in
04A version</a><br>
</div>
<blockquote><a href="#Known_Bugs">Known bugs</a><br>
</blockquote>
<br>
<br>
<table style="width: 100%; text-align: left;" border="0" cellpadding="2"
 cellspacing="0">
  <tbody>
    <tr>
      <td
 style="vertical-align: top; background-color: rgb(204, 204, 204);"><br>
      </td>
    </tr>
  </tbody>
</table>
<br>
<br>
<h1 align="left"><font color="#333399"><a name="intro"></a>I.
Introduction</font></h1>
The central system in UKIRT Observing is a database of observations,
held at the &nbsp;summit of Mauna Kea. Observations are prepared
by the Principal Contact for each observing programme, using the
Observing Tool. The science program is stored on disk locally
(which can be anywhere in the world), and once complete, submitted into
the summit database. &nbsp;The observer at the summit &nbsp;uses
a database query tool to sort and extract observations to be done;
details of execution are instrument-specific and we do not discuss them
here. Once you are familiar with the information here, please consult
the <a href="http://www.jach.hawaii.edu/UKIRT/instruments/">instrument
pages</a> on the UKIRT home page for information specific to the
instrument
required by your program. You will also need to get a password for your
database
area, from the <a href="http://omp.jach.hawaii.edu/cgi-bin/issuepwd.pl">Password
Server</a>. Your program id is something like <span
 style="font-weight: bold;">u/yys/n</span> where "<span
 style="font-weight: bold;">yys</span>" identifies the semester (e.g.
07B) and <span style="font-weight: bold;">n</span> is the id number of
your telescope time proposal.<br>
<br>
Note for queue-scheduled PIs (PATT): once your programme is saved into
the database and the semester is under way, the local file version
should be considered a backup only. This is because the repeat count on
MSBs within the programme in the database will change as observations
are done. If you resubmit the file copy into the database you will
overwrite that status information and it is possible that an
already-executed MSB will be re-done inadvertently. So the
recommendations are: (i) use a local file copy only for backup
purposes. (ii)&nbsp; if you want to make changes to your project once
the semester is under way, fetch it from the database, make your
changes, and resubmit. And (iii) preferably do so when it is not night
time in Hawaii. If you see a message referring to "file has changed on
disk" when using database...submit, it probably means that the summit
observers are active on your project and a count has changed since you
fetched the project from the database. In these circumstances it is
probably wise not to submit the changes for reasons already stated. <br>
<div align="left"> <br>
</div>
<br>
<br>
<table style="width: 100%; text-align: left;" border="0" cellpadding="2"
 cellspacing="0">
  <tbody>
    <tr>
      <td
 style="vertical-align: top; background-color: rgb(204, 204, 204);"><br>
      </td>
    </tr>
  </tbody>
</table>
<br>
<br>
<br>
<div align="left"><br>
</div>
<h1 align="left"><a name="II._The_Observing_Tool"></a><font
 color="#333399"><a name="obsprep"></a>II. The
Observing
Tool</font></h1>
<div align="left"><br>
</div>
<h2 align="left"><a name="Startup_screens"></a>Startup screens</h2>
<div align="left">
<div align="left">When you run the OT (under UNIX, type <font
 color="#ff0000"><b>ukirtot</b></font>
in an xterm) you will see a splash screen which gives authorship etc.;
dismiss this and you will be left with the <b>OT main window</b>:<br>
</div>
<br>
<div align="center"><img alt="Main UKIRTOT window"
 src="ukirtot_main.gif" height="268" width="289"> <br>
</div>
<br>
<br>
When starting afresh, most of the useful actions reside under the
<b>"file"</b> menu.<br>
<br>
<div align="center"><img title="" style="width: 243px; height: 431px;"
 alt="file menu pulled down" src="ukirtot_menu.png"> <br>
<br>
</div>
<br>
<table border="0" cellpadding="2" cellspacing="5" width="100%">
  <tbody>
    <tr>
      <td align="center" bgcolor="#cccccc" valign="top"><b>File menu
Item<br>
      </b></td>
      <td bgcolor="#cccccc" valign="top"><b>Function<br>
      </b></td>
    </tr>
    <tr>
      <td align="center" bgcolor="#ffff99" valign="top" width="20%"><font
 color="#000000"><b>New Program<br>
      </b></font></td>
      <td valign="top">Creates a new science program. This is the
first thing you'll do when starting from scratch.<br>
      </td>
    </tr>
    <tr>
      <td align="center" bgcolor="#ffff99" valign="top" width="20%"><font
 color="#000000"><b>New Library<br>
      </b></font></td>
      <td valign="top">Ignore this; it is for UKIRT staff use only.<br>
      </td>
    </tr>
    <tr>
      <td align="center" bgcolor="#ffff99" valign="top" width="20%"><font
 color="#000000"><b>Open<br>
      </b></font></td>
      <td valign="top">Read in a science program file stored locally
on disk. Initially, your science program will be stored locally; only
when it is complete and validated will you submit to the database.<br>
      </td>
    </tr>
    <tr>
      <td align="center" bgcolor="#ffff99" valign="top" width="20%"><font
 color="#000000"><b>Open...library<br>
      </b></font></td>
      <td valign="top">These entries pop open windows onto the UKIRT
libraries which store recommended sequences and standard stars.<br>
      </td>
    </tr>
  </tbody>
</table>
<h3><br>
</h3>
<hr style="width: 100%; height: 2px;"><br>
<h3><a name="Which_File_Menu"></a>The File Menus</h3>
<div align="left"> A word of caution - both the <b>File </b>menus and
the
<b>Database </b>menus differ between the OT main window and the
Science
Program window. Here are the respective file menus:<br>
</div>
<br>
<table border="0" cellpadding="2" cellspacing="5" width="100%">
  <tbody>
    <tr>
      <td align="center" bgcolor="#cccccc" valign="top" width="25%"><b>OT
main window file menu</b><br>
      </td>
      <td align="center" bgcolor="#cccccc" valign="top" width="25%"><b>Science
Program file menu</b><br>
      </td>
    </tr>
    <tr>
      <td align="center" valign="top" width="25%"><img title=""
 style="width: 249px; height: 436px;" alt="OT file menu"
 src="ot_filemenu.png"> <br>
      </td>
      <td align="center" valign="top" width="25%"><img
 alt="science programme file menu" src="sp_filemenu.gif" height="228"
 width="211"> <br>
      </td>
    </tr>
  </tbody>
</table>
<br>
<div align="left"> So note that (sensibly, given the ability to have
more than one science program open at a time) the file menu which
contains "Save" and "Save as..." is the one on the Science Program
window. Similarly, the Database menu on the OT main window contains
only "Fetch", while the Database menu on the Science Program window
contains only "Store".<br>
</div>
<br>
<br>
<hr style="width: 100%; height: 2px;"><br>
<br>
</div>
<h2 align="left"><a name="Tour:_the_Science_programme_window"></a><font
 color="#ff0000">Tour:</font> the Science Program window</h2>
<div align="left">
<div align="left"> <a name="blankprogramme"></a> Select <b>"New
Program"</b> to create a new program. This produces a window like the
following (click
on the image for a description of the various component parts). The
main areas are<br>
</div>
<ol>
  <li>the menu and general tool bars at the top </li>
  <li>the component tool bar down the lefthand side </li>
  <li>the program display panel in the middle </li>
  <li>the editor panel on the right </li>
</ol>
<div style="text-align: center;"><span style="color: rgb(255, 0, 0);">CLICK
THIS IMAGE TO TAKE THE TOUR</span><br>
</div>
<div align="center"><a href="Science_Program_Window_basics.html"><img
 alt="new, empty science program" src="program_empty.gif"
 style="border: 0px solid ; width: 753px; height: 603px;"> </a> <br>
</div>
<br>
</div>
<p align="left">If you don't see exactly the above when creating a
science
program, look under the <span style="font-weight: bold;">"View"</span>
menu and alter the settings which
control
whether words, pictures or both are used to display the toolbars. <br>
</p>
<p align="left">Initially, the only thing in your program panel is a
"Science
Program" line. You will add to the program later. For now, take the
time
to fill in its administrative details in the Science Program editor
panel on the right. The most important field here is the Project ID
field.
<em>You have to get this right, or you will not be able to submit your
program to the summit database</em>. Your project ID was assigned when
you submitted your proposal for telescope time. It is of the form <b>u/yys/</b>
followed by the proposal number (<span style="font-weight: bold;">yys</span>
indicate the semester - e.g. 07B). You can also find your proposal
number
in
our web page of time allocations. Finally, note that the program itself
calculates an estimate of the total time required and displays this in
the administration panel.</p>
<p align="left"><br>
</p>
<hr style="width: 100%; height: 2px;">
<p align="left"><br>
</p>
<h2><a name="Tour:_The_UKIRT_Template_Library_"></a><font
 color="#ff0000">Tour: </font>The UKIRT Template Libraries<br>
</h2>
<div align="left">
<div align="left"> While it is possible to build up observing sequences
from
scratch, we strongly recommend that you adapt one of the
many "library sequences" found in the <b>UKIRT template libraries</b>,
which are found on the main <b>file</b> menu. As an example, the UIST
template library window is shown below, with all the libraries in their
initial non-expanded state. Click on the image for a short tour of the
library contents:<br>
</div>
<br>
<div style="text-align: center;"><span style="color: rgb(255, 0, 0);">CLICK
THIS IMAGE TO TAKE THE TOUR</span><br>
</div>
<div align="center"><a href="Template_library_basics.html"><img title=""
 style="border: 0px solid ; width: 788px; height: 655px;"
 alt="template library" src="templatelibrary.png"> </a>
<br>
</div>
<br>
<br>
<div align="left"> Typically, setting up your UKIRT program involves
opening the appropriate library, finding within it a sequence which
matches your requirements, and copy/pasting or drag/dropping
it into your new science program; then you are in a position to alter
instrument configurations, target lists and to document the program for
the observer's benefit. Refer back to the <a
 href="Science_Program_Window_basics.html"> Science program window tour</a>
for the locations of the cut, copy and paste buttons (or look at the
figure
above, where you'll see three buttons starting with the scissors). An
example
of a more complete science program is given below, but first we'll
introduce
some of the essential building blocks.<br>
</div>
<br>
<br>
<hr style="width: 100%; height: 2px;"><br>
<br>
<h2 align="left"><a name="Minimum_Schedulable_Blocks"></a>Minimum
Schedulable
Blocks</h2>
<div align="left"> The basic quantum of observing, both in classical
and flexible scheduling (though more natural to think of in flexing),
is the "minimum schedulable block". This is the smallest part of the
program which is complete, fully-reducible and thus stands alone. <em>In
most cases, an MSB will&nbsp; be executed at the telescope
in its entirety</em>. For example, a target observation would be
incomplete
without suitable calibrations, and so one might define the smallest
spectroscopic
MSB as comprising the spectrum of a target, combined with sufficient
flats,
arcs and a standard star to be fully reducible. For efficiency, the
observing system at the summit allows the observer to skip calibrations
if not required
(e.g. if executing a number of similar MSBs which can share an existing
calibration). Note that the UKIRT template library contains MSBs, not
just
Observations, so you will naturally be building up from these.<br>
</div>
<br>
<div align="left"> You should aim to produce a science program
consisting
of suitably-titled MSBs. The title will appear in the query tool when
observing at the telescope, so try to make your titles
as descriptive as possible.<br>
</div>
<br>
<br>
<hr style="width: 100%; height: 2px;"><br>
<h2><a name="Science_program_elements"></a>Science program elements</h2>
<p align="left">MSBs within your science program specify observing
conditions,
instrument configurations, telescope offset sequences and data
reduction recipes for all the observations you have been given time to
carry out. They do this through combinations of the following elements:<br>
</p>
<table border="0" cellpadding="2" cellspacing="5" width="100%">
  <tbody>
    <tr>
      <td align="center" bgcolor="#cccccc" valign="top"><b>Program&nbsp;icon<br>
      </b></td>
      <td bgcolor="#cccccc" valign="top"><b>Designated item<br>
      </b></td>
    </tr>
    <tr>
      <td align="center" bgcolor="#ffff99" valign="middle" width="20%"><img
 alt="observation icon" src="observation.gif" height="22" width="120"> <br>
      </td>
      <td valign="top">An <font color="#ff0000">"Observation" </font>(e.g.
of a target or a standard star)<br>
      </td>
    </tr>
    <tr>
      <td align="center" bgcolor="#ffff99" valign="middle" width="20%"><img
 alt="component icon" src="instrument.gif" height="22" width="110"> <br>
      </td>
      <td valign="top">A <font color="#ff0000">"Component" </font>-
in this case an Instrument component. These are used to "set scenes"
(in
the illustrated case, one or more instrument configurations which will
apply within an Observation).<br>
      </td>
    </tr>
    <tr>
      <td align="center" bgcolor="#ffff99" valign="middle" width="20%"><img
 alt="sequence icon" src="sequence.gif" height="22" width="117"> <br>
      </td>
      <td valign="top">A <font color="#ff0000">"Sequence" </font>-
this
contains the actions undertaken in an Observation - for example,
offsetting the telescope and taking data at each offset point. If you
omit a Sequence, no amount of configuration components will cause
anything to actually
happen at the telescope.<br>
      </td>
    </tr>
    <tr>
      <td align="center" bgcolor="#ffff99" valign="middle"><img
 alt="offset iterator icon" src="iterator_offset.gif" height="22"
 width="111"> <br>
      </td>
      <td valign="top">An <font color="#ff0000">"Iterator" </font>-
these
cause either the instrument, or the telescope, to loop through
a series of different configurations (in the case of the telescope,
the loop is through Offset positions). Everything inside the iterator
is repeated for each of its settings.<br>
      </td>
    </tr>
    <tr>
      <td align="center" bgcolor="#ffff99" valign="middle"><img
 alt="observe icon" src="observe.gif" height="22" width="110"> <br>
      </td>
      <td valign="top">An <font color="#ff0000">"Observe" </font>-
Each
Observe causes one data file to be produced. If there's no Observe in
your sequence, the telescope may well offset and the instrument may
well set to a configuration, but no data will result.<br>
      </td>
    </tr>
  </tbody>
</table>
<p align="left">Note that you will not, normally, have to insert any of
the
above into your program manually, because you will start from the
library
sequences which incorporate all the commonly-used data acquisition
methods.<br>
</p>
<p align="left"><br>
</p>
<div align="left"> To read a science program you have to understand
its hierarchy. An example:<br>
</div>
<table border="0" cellpadding="2" cellspacing="5" width="100%">
  <tbody>
    <tr>
      <td align="center" bgcolor="#ffff99" valign="middle" width="25%">
      <div align="center"><img alt="science programme hierarchy"
 src="hierarchy.gif" height="246" width="260"> <br>
      </div>
      </td>
      <td valign="top">Here, everything is <i>more indented</i> than
the <font color="#ff0000">Science Program</font> icon, therefore
everything
is <i>part of</i> the Science Program. By contrast, the two "dry
target" <font color="#ff0000">MSBs </font>are at the same indent
level, so are independent of each other within the program. &nbsp;The
second <font color="#ff0000">MSB </font>is not "expanded" - its
contents
are hidden pending a click on the lever to its left.<br>
      <br>
Within the first <font color="#ff0000">MSB, </font>and hence indented
further,
is an <font color="#ff0000">Observation,</font>which itself contains a
Target <font color="#ff0000">component, </font>an Instrument <font
 color="#ff0000">component </font>and a <font color="#ff0000">Sequence
      </font>(all three of these are at the same indent relative to the
      <font color="#ff0000">Observation</font>). The sequence in turn
contains an
offset <font color="#ff0000">iterator</font>which "contains" an <font
 color="#ff0000">Observe. </font>Recall that the <font color="#ff0000">Sequence
      </font>is just a formality, indicating that everything <i>within
      </i>it is executable. The <font color="#ff0000">Iterator, </font>however,
is
a loop - everything within it (usually but not always this is just an <font
 color="#ff0000">Observe<font color="#000000">)</font></font>is
done for every setting of the telescope offset iterator.<br>
      <br>
When executed at the telescope, this particular Observation sets the
instrument up, moves to a target, then takes data frames at each
position
of an offset pattern.<br>
      <br>
      </td>
    </tr>
  </tbody>
</table>
<br>
<br>
<hr style="width: 100%; height: 2px;"><br>
<br>
<h2 align="left"><a name="Inheritance"></a>Inheritance</h2>
<div align="left"> The observing tool allows MSBs to inherit properties
from the program environment they find themselves in. For example,
if a site quality component is present at the top of a science program
(as in the example above), then none of the MSBs within the program
need to have a site-quality component of their own; they inherit it
from this global one. Conversely, a site-quality component within an
MSB "trumps" such a global component. This also applies to Target
components;
a target given at the top of an MSB, outside the scope of Flat,
Standard
and Object Observations, will apply to all three (so when the flat/arc
observation
is run, the telescope will slew to your science target). <b><u>This
may
or may not be what you intend; check the logic carefully (obviously in
this example you would also want to override the global target in the
standard-star
Observation).</u></b><br>
</div>
<br>
</div>
<div align="left"><br>
<hr style="width: 100%; height: 2px;"><br>
<h2 align="left"><a name="Administrative_components:_Scheduling"></a>Administrative:
Scheduling and Site Quality Components, Priorities<br>
</h2>
<h2> </h2>
</div>
<h3><a name="Scheduling_constraints"></a>Scheduling constraints</h3>
The scheduling constraint component allows you to determine the
scheduling
of observing within your program by specifying both a range of dates
and elevation limits. Click the image below for more information on the
scheduling
component's editor panel.<br>
<br>
<table style="text-align: left; width: 100%;" border="0" cellpadding="2"
 cellspacing="5">
  <tbody>
    <tr>
      <td style="vertical-align: top;"><a
 href="Scheduling_Constraints_Editor.html"><img title=""
 style="border: 0px solid ; width: 205px; height: 121px;"
 alt="scheduling constraints" src="schedconstraints_inprog.png"> </a></td>
      <td style="vertical-align: middle; text-align: left;"><span
 style="color: rgb(255, 0, 0);">Note that most of the library MSBs do
not contain
scheduling constraints - this is because most programmes require the
same
constraints throughout. Therefore, once you have created a new program,
the
normal first step is to select a Scheduling Constraints component from
the
"Component" item on the left-hand toolbar.</span></td>
    </tr>
  </tbody>
</table>
<br>
<br>
<p><br>
<a href="Scheduling_Constraints_Editor.html"> </a> </p>
<h3><a name="Site_Quality"></a>Site Quality</h3>
Four constraints relating to site quality can also be specified
by making the appropriate selections in the site quality component.
Click the image below for more information on the Site Quality
component's editor panel.<br>
<br>
<table style="text-align: left; width: 100%;" border="0" cellpadding="2"
 cellspacing="5">
  <tbody>
    <tr>
      <td style="vertical-align: top;"><a
 href="Site_Quality_Editor.html"> <img title=""
 style="border: 0px solid ; width: 208px; height: 124px;"
 alt="site quality component filled in" src="sitequality_inprog.png"> </a></td>
      <td style="vertical-align: middle;"><span
 style="color: rgb(255, 0, 0);">Again, it is normal for the same site
quality
requirement to apply to all MSBs in a program, and so these components
are
not normally part of the library MSBs. The normal second step is
therefore
to insert one of these components into the top of the program (along
with
the scheduling constraints). This component is found under the
"Component"
list also.<br>
      <br>
PATT PIs beware: the Time Allocation Group may have assigned your
project a set of default observing conditions constraints. You will
have received notification of these constraints with your time
allocation. These are associated with your entire project in the OMP
database and will <span style="font-weight: bold;">override</span> any
more relaxed constraints you specify in your MSBs.&nbsp; Please ensure
that your site quality requests are consistent with those assigned by
the TAG. See the "allocations" page for details if you are unsure.<br>
      </span></td>
    </tr>
  </tbody>
</table>
<br>
<p> <a href="Site_Quality_Editor.html"> <br>
</a></p>
<h3><a name="Using_inheritance_with_the"></a>Using inheritance with the
administrative
components</h3>
As stated above, the majority of programs will require the same site
quality and scheduling settings for all MSBs. In those cases, the
inheritance mechanism avoids having to copy these components into every
MSB, but individual MSBs which require different conditions .<br>
<br>
<table border="0" cellpadding="2" cellspacing="5" width="100%">
  <tbody>
    <tr>
      <td align="center" bgcolor="#ffff99" valign="top" width="30%"><img
 alt="site quality inheritance" src="sitequal_inherit.gif" height="200"
 width="200"> <br>
      </td>
      <td valign="middle">In this (schematic and incomplete) example,
the site quality component at the top applies to the three MSBs which
don't have their own; only "wet target" overrides this global
component. <br>
      <br>
      <span style="color: rgb(255, 0, 0);">To insert a Site Quality (or
Scheduling
Constraints) into a given MSB, expand the MSB and highlight its title
line
(as in the figure here), then select the required component from the
"Component"
list on the left hand toolbar in the Program window.&nbsp;<br>
      </span> </td>
    </tr>
  </tbody>
</table>
<br>
<br>
NOTE - Site Quality and Scheduling Constraints cannot be included in an
Observation <span style="font-style: italic;">within an MSB</span>.
These components apply to MSBs, not Observations within MSBs. If you
break this rule, you will get a validation error.<br>
<br>
<h2><a name="Priority"></a>Priority</h2>
Your project has been allocated a TAG priority which specifies its
overall importance in the queue. However you can control the priority
of individual MSBs within the programme by using the "Priority" number
in the MSB top level window: <br>
<br>
<table style="width: 100%; text-align: left;" border="0" cellpadding="2"
 cellspacing="5">
  <tbody>
    <tr>
      <td style="vertical-align: top;"><span style="font-weight: bold;">Setting
priority on a given MSB. </span><br>
      <br>
Here the first MSB in the programme has been given just below medium
priority (55).<br>
      </td>
      <td style="vertical-align: top; text-align: right;"><img alt=""
 src="priority_setting1.png" style="width: 671px; height: 277px;"><br>
      </td>
    </tr>
  </tbody>
</table>
<br>
Note that if all your targets are up at the same time and all are
consistent with the prevailing conditions, the priority setting will
determine which is executed first. To automatically set priority on all
MSBs in your programme, use the "Auto Prioritize" facility.<br>
<br>
<table style="width: 100%; text-align: left;" border="0" cellpadding="2"
 cellspacing="5">
  <tbody>
    <tr>
      <td style="vertical-align: top;"><span style="font-weight: bold;">Setting
priority on all MSBs: </span><br>
      <br>
Click the "Prioritize" button (top right of this image). This assigns a
priority between 1 and 99 to all MSBs in the programme, working from
the top down.<br>
      </td>
      <td style="vertical-align: top; text-align: right;"><img alt=""
 src="priority_setting2.png" style="width: 376px; height: 237px;"><br>
      </td>
    </tr>
  </tbody>
</table>
<br>
<br>
<hr style="width: 100%; height: 2px;"><br>
<br>
<h2 align="left"><a name="Tour:_A_more_complete_science_programme"></a><font
 color="#ff0000"><a name="completeprogramme"></a>Tour:</font> A more
complete
science program</h2>
<div align="left">
<div align="left"> The figure below shows a science program which is
fairly
straightforward and a reasonable approximation to what one might expect
to have to set up for either classical or flexible observing. There
are ways to give programs "Logic" (different combinations of MSBs,
etc.)
- these are discussed in "Advanced Topics" at the end of this document,
and your support scientist will be happy to help with questions in this
area. Most programs will not need to use this type of logic, and
supplying
a flat set of MSBs as in this example will be fine.<br>
</div>
<br>
<div style="text-align: center;"><span
 style="font-weight: bold; color: rgb(255, 0, 0);">CLICK THIS IMAGE TO
TAKE THE TOUR</span><br>
</div>
<div align="center"><a href="Science_Program_Window_details.html"><img
 title="" style="border: 0px solid ; width: 797px; height: 655px;"
 alt="compact programme" src="program_compact.png"> </a>
<br>
</div>
<br>
<br>
<hr style="width: 100%; height: 2px;"><br>
<h3><a name="Moving_Objects"></a>Moving Objects</h3>
Moving objects (excepting planets and other bodies which are accessible
in the pull down menu in the Target component) are accommodated via
orbital elements. The format of these elements is fairly specific. An
example is given in the figure below.<br>
<br>
<div style="text-align: center; font-weight: bold;">Comet Tempel-1:
orbital elements<br>
</div>
<div align="center">
<table style="width: 100%; text-align: left;" border="0" cellpadding="2"
 cellspacing="5">
  <tbody>
    <tr>
      <td style="vertical-align: top;"><span style="font-weight: bold;">Top:</span>
Orbital elements as found, in
this example, on the <br>
      <a href="http://neo.jpl.nasa.gov/orbits/">NASA JPL NEO orbit
diagrams page</a></td>
      <td style="text-align: center; vertical-align: middle;"><img
 alt="Orbital elements from the neo site" src="orbitelements1.png"
 style="width: 485px; height: 464px;"><br>
      </td>
    </tr>
    <tr>
      <td style="vertical-align: top;"><span style="font-weight: bold;">Bottom:</span>
Elements specified in the
Target Component Elements tab. <br>
Note the different format for Epoch and Time of Perihelion Passage, in
particular.</td>
      <td style="text-align: center; vertical-align: middle;"><img
 alt="equivalent in the target component" src="orbitelements2.png"
 style="width: 655px; height: 162px;"><br>
      </td>
    </tr>
    <tr>
      <td style="vertical-align: top;"><br>
      </td>
      <td style="vertical-align: top;"><br>
      </td>
    </tr>
  </tbody>
</table>
</div>
<br>
The OT can use the Horizons database to resolve a given minor planet's
name into elements. An example is given below.<br>
<br>
<table style="width: 100%; text-align: left;" border="0" cellpadding="2"
 cellspacing="5">
  <tbody>
    <tr align="center">
      <td style="vertical-align: top; text-align: left;"><span
 style="font-weight: bold;">Name resolution for moving objects: </span>When
"Orbital elements" is the selected Target Type, the "Resolve name"
button queries the Horizons database for elements. <br>
      <br>
Note that the name format is somewhat picky and you may have to use
trial and error to get something that works for a particular target.
Also note that the OT uses a resource at JPL which is intended for
human reading, not computer processing. As such the output format is
subject to arbitrary changes, so there is no guarantee that this search
feature will work or that the results are accurate; for example it is
possible that elements may end up in the wrong field or omitted
completely. <br>
      <br>
      <span
 style="font-weight: bold; font-style: italic; text-decoration: underline;">Always
double check the returned values.</span><br>
      <br>
      <br>
      </td>
      <td style="vertical-align: top;"><img alt=""
 src="target_elements1.png" style="width: 684px; height: 562px;"><br>
      </td>
    </tr>
  </tbody>
</table>
<br>
<h3><a name="Proper_Motion"></a>Allowing for Proper Motion</h3>
Entries for the RA and Declination proper motion rates (in
milliarcseconds per year) can be made in your target component. <br>
<br>
<table style="text-align: left; width: 100%;" border="0" cellpadding="2"
 cellspacing="5">
  <tbody>
    <tr>
      <td style="vertical-align: top;"><span style="font-weight: bold;">Proper
motion</span> entered as milliarcseconds per year in the target
component. These values are taken into account when slewing the
telescope.<br>
      </td>
      <td style="vertical-align: top; text-align: right;"><img
 style="width: 488px; height: 159px;" alt=""
 src="target_propermotion.png"><br>
      </td>
    </tr>
  </tbody>
</table>
<br>
<hr style="width: 100%; height: 2px;"><br>
<br>
</div>
<h2 align="left"><a name="Tour:_Using_the_Position_Editor"></a><font
 color="#ff0000">Tour:</font> Using the Position Editor</h2>
<div align="left">
<div align="left"> The position editor is used to set up guide stars,
science
field orientations (slit angles etc.) and display catalogues of sources
in the field of your observations. It is started up either by clicking
the "plot" button in the target component page, or by clicking the
"image"
button on the main toolbar, as described in the <a
 href="#Tour:_the_Science_programme_window">tour of the science program
window</a>, above. Click on the image below to take a tour of the
position editor's facilities.<br>
</div>
<br>
<div style="text-align: center;"><span
 style="font-weight: bold; color: rgb(255, 0, 0);">CLICK THIS IMAGE TO
TAKE THE TOUR</span><br>
</div>
<div align="center"><a href="Position_Editor_details.html"><img title=""
 style="border: 0px solid ; height: 640px; width: 697px;"
 alt="position editor" src="positioneditor.png"> </a>
&nbsp; <br>
</div>
<br>
<br>
<br>
<div align="left"> By default the position editor loads images from the
digitized
sky survey. However it can also load any FITS image with an appropriate
WCS, from the <b>File</b> menu; this has entries for either files on
disk, or URLs which point to fits files. If, for example, you want
to import a SCUBA map in NDF format, convert it to FITS by using the
starlink convert utility with the following arguments: </div>
<div align="left">
<pre style="margin-left: 40px;"><font color="#ff0000"><b>convert <br>ndf2fits encoding=FITS-IRAF bitpix=32 comp=D<br><br><br></b></font></pre>
</div>
</div>
<div align="left"><br>
<hr style="width: 100%; height: 2px;"><br>
<h2>Catalogues</h2>
The OT has access to a wide variety of stellar and nonstellar
catalogues, including the Guide
Star Catalogue, USNO, NED etc. These are all accessible under the
Position
Editor's "Catalog" menu, using item "Catalogs".&nbsp; Select your
required
catalogue (from the nearest accessible server) and the stars will be
plotted on the PE display. To browse the catalogue in text form, run
the Catalog...Browse function. The Browse window is shown below. If you
click on a star in the PE display, the selected star will be
highlighted in the table (as shown below).<br>
<br>
<table style="width: 100%; text-align: left;" border="0" cellpadding="2"
 cellspacing="5">
  <tbody>
    <tr align="center">
      <td style="vertical-align: top;"><img
 alt="Catalogue broswer window" src="CatalogBrowse.png"
 style="width: 958px; height: 588px;"><br>
      </td>
    </tr>
    <tr style="color: rgb(255, 0, 0); font-weight: bold;" align="center">
      <td style="vertical-align: top;">The catalogue browser window.
Note that the column headings are "sort" buttons - here we have elected
to sort by magnitude.<br>
      </td>
    </tr>
  </tbody>
</table>
<br>
<br>
<hr style="width: 100%; height: 2px;">
<h2><a name="Large_Programmes"></a>Large Programmes</h2>
If your observing programme involves observations of a large number of
targets, you have two options. Either (i) clone a template MSB using a
text-file target list, or (ii) use survey containers to hold multiple
pointings in a single MSB or MSBs. Each of these options is described
below. For large surveys of contiguous areas of sky, you should use the
Survey definition tool (SDT) which is linked to at the top of this
document. <br>
<br>
<h3><a name="Generating_a_Program_from_a_Catalogue_on"></a>Cloning a
Program
from a Single MSB and a Catalogue in a Text File</h3>
If you have many sources which you wish to observe in a similar way and
do not wish to go through the rigmarole of creating a target component
for each one, there is a way to generate a science program from a
template MSB and a text (ASCII) catalog file. This uses a web service
at
the JAC
site - so you need an internet connection to do this.
<p> Start with a science program which contains a template MSB with a
blank
target component (for example, a template MSB you have retrieved from
the UFTI library). Your catalog file should be of the format: </p>
<blockquote>
  <pre>PKS0106         01 08 38.771 + 01 35 00.32 RJ<br>3C84            03 19 48.160 + 41 30 42.10 RJ<br>3C120           04 33 11.096 + 05 21 15.62 RJ<br>PKS0438         04 40 17.180 - 43 33 08.60 RJ</pre>
</blockquote>
The catalog format is not blank space sensitive - if you have existing
catalogues compatible with the JCMT's sourceplot package, they&nbsp;
will
work as is, provided they do not contain planets or objects with
orbital elements.
<p> Under the edit menu (in the Science Program window), there is an
option
called "Replicate from catalog". Choose this action and you will be
asked for the location of the catalog file. Once you have done this,
the OT will contact our site and after a short delay will pop up a new
science program window containing multiple MSBs. So if you had an MSB
with
one blank target component and a catalog file with 12 sources, you will
get back a science program with 12 MSBs, whose target components have
been filled in using the information from your catalog.</p>
<p> Of course you should tweak the MSBs further, such as giving them
more
informative titles, adding guide stars and tweaking the observation
parameters on each
source.<br>
<br>
</p>
<h3><a name="Survey_Containers"></a>Survey Containers</h3>
Survey Containers allow you to include multiple pointings at the top
level of an MSB, such that the Observation within the container will be
done at each pointing in the container. These are generally recommended
for doing a group of pointings which lie in the same part of the sky -
e.g. four pointings to generate a complete WFCAM "tile". The containers
are present in the WFCAM template library "Survey" templates:<br>
<br>
<div style="text-align: center;"><img
 style="width: 346px; height: 132px;" alt=""
 src="survey_container_1.png"><br>
<br>
<div style="text-align: left;"><br>
When an MSB like the above is fetched from the database at the summit,
it is expanded into N Observations, where N is the number of targets in
the Container. However the meaning of MSB remains the same: the whole
of the MSB must be doable for it to come up in the queue. Corollary: it
is a Bad Idea to include targets over a wide range of RA in one survey
container.<br>
<br>
Here is what you see when you click on the Container itself:<br>
<br>
<div style="text-align: center;"><img
 style="width: 569px; height: 548px;" alt=""
 src="survey_container_2.png"><br>
</div>
<br>
To manually add and remove positions, use "Add" and "Remove" buttons at
the bottom of the panel. Here is a completed container:<br>
<br>
<div style="text-align: center;"><img
 style="width: 548px; height: 587px;" alt=""
 src="survey_container_4.png"><br>
</div>
<br>
Note the "Target Information" Tab. Each target has its own target info,
in a format identical to the familiar Target Component:<br>
<br>
<div style="text-align: center;"><img
 style="width: 568px; height: 546px;" alt=""
 src="survey_container_3.png"><br>
</div>
<br>
On the <span style="font-weight: bold;">Survey Targets</span> tab,
there is a "load" button. This allows you, if you're not using the SDT
to populate your Container, to upload a set of targets from a text file
in the following format (slightly different from the format for MSB
cloning):<br>
<br>
<div style="margin-left: 40px;">
<pre>SURVEYID = Test<br>BASE BGPS3097&nbsp; 18:34:12.03&nbsp; -08:22:57.3 FK5<br>GUIDE GD2&nbsp; 18:31:12.06&nbsp; -07:59:05.2 FK5<br>BASE BGPS3100&nbsp; 18:34:19.16&nbsp; -08:23:27.9 FK5<br>GUIDE GD2&nbsp; 18:31:12.06&nbsp; -07:59:05.2 FK5</pre>
<pre>:</pre>
<pre>etc.</pre>
</div>
<pre>&nbsp;<br></pre>
The first line is the Survey ID, which will become the title of the
survey container. This is prefixed to every supplied target name as
follows:<br>
<br>
<div style="text-align: center;"><img
 style="width: 593px; height: 88px;" alt="" src="survey_container_5.png"><br>
</div>
<br>
(so it is best to keep it short!).<br>
<br>
Finally, note that there is a template MSB in the WFCAM template
library which uses a Survey Container to carry out a complete "tile"
(four WFCAM pointings). In this case, the diffferent pointings are
generated by using the "Offset" fields in the individual target tabs;
so the same base position should be entered into each tab if you use
this MSB.<br>
<br>
<br>
<br>
</div>
</div>
<hr style="width: 100%; height: 2px;"><br>
</div>
<h2><a name="IMPORTANT_-_Program_Documentation"></a>IMPORTANT - Program
Documentation</h2>
<div align="left"> There are two levels at which you <i>must</i>
document
your program's MSBs. These are (i) notes which the observer will see
and
(ii) internal notes which the support scientist will make use of when
vetting the program. The second type of note should be scattered
through
the program, identifying for your own benefit (and that of your support
astronomer)
why you have made particular selections of (e.g.) offset parameters or
library
sequence. <br>
<br>
The first type of note is what you get by selecting "Show to the
Observer"
in the Note component. We do not expect (or allow) summit observers to
access your program in the OT to find out what you're trying to do;
instead, your MSBs, individually, can each contain one note (flagged as
"show to Observer") which will pop up on the QT screen at the summit.
These notes should clearly contain rather generic information about
the program as a whole, plus any specific items for this particular
MSB; the following table gives examples of the two types of information.<br>
</div>
&nbsp;
<table border="0" cellpadding="2" cellspacing="5" width="100%">
  <tbody>
    <tr>
      <td align="center" bgcolor="#ffff99" valign="middle" width="20%"><b>Strategic&nbsp;</b></td>
      <td valign="middle">This program does spectroscopy of both faint
and bright emission knots in galaxies, looking for good detections of
line strengths in emission. Standard ABBA jitters are used. It is more
important to this program that you get to all the targets, than ensure
detection of each of them. So, spend an hour on each target unless the
lines come in quickly (S/N of 10 would do);&nbsp; if nothing after 1
hour
don't waste any more of my allocated time, just move on to the next
source
(unless you believe there is evidence that my conditions constraints
are
too relaxed, in which case please let the support astronomer know). If
you do see a line, stay on it as long as is necessary (within reason)
to
get a good detection. <br>
      </td>
    </tr>
    <tr>
      <td align="center" bgcolor="#ffff99" valign="middle" width="20%"><b><br>
MSB-specific <br>
      <br>
      </b> </td>
      <td valign="middle">I'm not sure how bright the lines in this
particular
target are, but there's a chance that the exposure time I've given is
too long. Please watch for saturation in the line peaks and reduce
exposure time if necessary.<br>
      </td>
    </tr>
  </tbody>
</table>
<br>
You would place this Observer note in each of your MSBs, with only the
MSB-specific part changing from one to the next. Don't overload the
observer
with information - the above is reasonable. <br>
<br>
When you click "show to observer" you are presented with four boxes in
which
we require you to place indications of your positional accuracy,
description
of your source's infrared appearance, brightness estimates (visual and
infrared)
and signal-to-noise requirements. This documentation has been a
requirement since Semester 03B; the aim is to ensure that
Observer
notes are of more uniform quality and detail - the above four items
were
considered particularly important for summit observers to know. Filling
these
boxes in accurately is a program-vetting checklist item.<br>
<br>
<table style="text-align: left; width: 100%;" border="0" cellpadding="2"
 cellspacing="2">
  <tbody>
    <tr>
      <td style="vertical-align: top;"><img
 style="width: 568px; height: 597px;" alt="" title=""
 src="program_note_panel.png"> <br>
      </td>
      <td style="vertical-align: middle;">A simple program note in the
note
editor panel. Show to Observer has been ticked and suitable entries
have
been made in the four resulting text fields.<br>
      <br>
If you have more than one "Show to Observer" note, the contents will be
concatenated
and all displayed at the summit. Since the observer will not have time
to
read long screeds of information during the course of observing, please
make
sure you do not overload them this way.<br>
      </td>
    </tr>
  </tbody>
</table>
<br>
<br>
<hr style="width: 100%; height: 2px;"><br>
<br>
<h2><a name="Observer_notes_-_what_NOT_to_do"></a>Observer notes - what
NOT to do</h2>
Here we list some common faults with observer notes. Please avoid these
if you can.<br>
<br>
<span style="font-weight: bold;">Instructions which aren't necessary</span><br>
Please <span style="font-style: italic;">don't</span> confuse the
observer by apparently issuing instructions in the observer notes which
are in fact implicit in what the MSB will do. For example: "Please
offset to nearby sky field for sky flats" is superfluous if that's what
the Observations in the MSB actually do. Instead, try something like
"The MSB will first offset the telescope to a nearby sky field and take
a sky flat jitter."<br>
<br>
<span style="font-weight: bold;">Concatenate incoherently</span><br>
If you include "show to observer" notes in the global position at the
top of the project and also within MSBs, they will be concatenated and
the observer will, when fetching a given MSB, see both the global one
and the MSB-specific one. There is nothing fundamentally wrong with
this but please make sure that the notes (i) are at least consistent
with each other (ii) don't duplicate information (iii) are coherent
when concatenated.<br>
<br>
<br>
<hr style="width: 100%; height: 2px;"><br>
<br>
<h2><a name="A_Typical_Programme_Setup_Sequence"></a>CHECKLIST - What
to
look out for in a Typical Program</h2>
<div align="left">Within a typical MSB, you should be attempting to
ensure
that:<br>
</div>
<ol>
  <li><u><font color="#ff0000"><b>The MSB's contents</b></font></u>
represent a complete, calibratable observation of a science target.
In most cases this means that all MSBs must contain Observations of
a Standard Star, though these observations can be flagged as Optional
(as described previously) to allow the observer to skip them if they
are sure that a suitable standard already exists. Note that time
observing standards from <i>your</i> MSBs is charged to <i>your</i>
program, so it
makes sense to use this flag !</li>
  <li><font color="#ff0000"><u><b>The MSB is well-documented.</b></u></font>
This means that you have used both informative notes within the details
of
the Observations, plus "Show to Observer" notes which will give the
observer
a summary of what you expect. The JAC will arrange a web page with some
typical data in your observing mode, but you should be as clear as
possible in the notes which pop up for observers what your expectations
are and whatever issues you foresee. &nbsp;Your support astronomer will
vet your program
as it enters the database, and will veto your observations if they are
insufficiently well-documented.&nbsp;</li>
  <li><u><font color="#ff0000"><b>Instrument components</b></font></u>
are
consistent<u> </u>from observation to observation within the MSB (this
is usually, though not always, the intention). Note that for most
instruments,
the instrument component is global to the MSB (see "Inheritance") and
so does not need to be copied into each Observation.&nbsp;&nbsp;</li>
  <li><u><font color="#ff0000"><b>flats and arcs</b></font></u>, if
present, have all had their settings set to the default<u> </u>for the
instrument configuration chosen (beware of making a small change, for
example altering a slit width, and finding that your flats are
overexposed).</li>
  <li><font color="#ff0000"><b><u>darks,</u></b></font> if present,
have
had their settings set to the detault for the instrument configuration
chosen.
For example, a change in the estimated magnitude of an imaging standard
can change the exposure time and this must be reflected in the dark.<br>
  </li>
  <li><font color="#ff0000"><b><u>target list components</u> </b></font>have
been set up, with guide stars in the case of faint objects<br>
  </li>
</ol>
The best way to do this is to set up one MSB, adhering to the
guidelines
above, and use the validation button to check it. This will pick up
common faults like dark exposures being inconsistent. If you're still
uncertain, your support scientist is available to help with queries.
Then (depending on the details of your program) you may be able to just
copy/paste
the MSB and edit target and instrument components to generate the rest.<br>
<br>
<div align="left"><br>
<hr style="width: 100%; height: 2px;"><br>
</div>
<div align="left"><br>
</div>
<h2><a name="Estimates_of_Execution_Time"></a>Estimates of Execution
Time</h2>
<br>
Your program builds up its total estimated elapsed time in stages.<br>
<br>
<ul>
  <li><img alt="*" src="observe_icon.png" height="17" width="23">&nbsp;&nbsp;
Observes
can be set to a number of repeats; generally this is one for
UKIRT instruments such as Michelle and UIST.
    <p> </p>
  </li>
  <li><img alt="*" src="iterator_icon.png" height="20" width="20">&nbsp;&nbsp;
Repeat
iterators specify the number of times the Observes within
them are carried out.&nbsp;
    <p> </p>
  </li>
  <li><img alt="*" src="observation_icon.png" height="19" width="19">&nbsp;&nbsp;
Observations
show you the estimated time of the sequence they contain. <br>
    <p> </p>
  </li>
  <li><img alt="*" src="msb_icon.png" height="19" width="18">&nbsp;&nbsp;
MSBs give
you the estimated time of the Observations they contain
- in this case the science observation plus any calibrations
observation.
To be clear: this is the estimated time of that single MSB.
    <p> </p>
  </li>
  <li><img alt="*" src="scienceprogram_icon.png" height="20" width="21">&nbsp;&nbsp;
Science
Programs give you the estimated time of all MSBs they contain,
including the number of repeats. So if you have a 1hr MSB and you
set the MSB counter to 2, your MSB estimated time will be 1hr and your
Science Program time will show 2hrs. </li>
</ul>
<br>
NOTE: while these estimates are quite accurate (to within 10%) in most
cases,
there are circumstances in which they can fail to represent the time
taken
to execute your MSBs. Example include programmes with large offsets
(the
crosshead takes a finite length of time to reach its guide star). It is
not
possible to take every such vagary into account in the time estimation.
In
the example quoted, the overhead of a sky nod could be brought down to
roughly
zero by ensuring that the guide star could not be reached in the sky
position,
but the OT cannot be expected to know what guide stars can be reached
and
which cannot. You should check your programme's quoted timing for
obvious
anomalies and contact your support astronomer if you find any.
Experience
shows that accessing your flexed data early and looking at elapsed and
on-source
times can show up efficiency faults at the 5-10% level. Since this can
cost
you an MSB or two at the end of your programme, you should make every
effort
to make such comparisons as early as possible in the semester, once
data
start to appear.<br>
<br>
<br>
<hr style="width: 100%; height: 2px;"><br>
<br>
<h2><a name="Saving_and_Submitting_your_Program"></a>Saving and
Submitting
your Program</h2>
<div align="left"> On completion of the program (and in general it's
also wise to do this as you go along), click&nbsp; <b>file...save</b>
in the program window, and save the program to a local xml file (name
it <b>&lt;whatever&gt;.xml</b> ; note that if you want the .xml suffix
then you have to type it). From this version on, the system will
automatically
save a <span style="font-weight: bold;">&lt;whatever.xml.BAK&gt;</span>
backup
file which is the program as it was at the time of the last successful
save.
<br>
<br>
To store to the summit database, click <b>database...store </b>on the
program window and enter your project password, which you can obtain
from the <a href="http://omp.jach.hawaii.edu/cgi-bin/issuepwd.pl">UKIRT
password server</a>. Once in the database, your support scientist will
vet the program, using a <a
 href="http://www.jach.hawaii.edu/UKIRT/observing/MSB_vetting.html">checklist</a>
which covers the issues above. <br>
</div>
<p align="left"><font color="#ff0000">Tip: while editing your science
program,
its title is displayed in italics, but it switches to normal font upon
saving. When you edit any component of your Science Program its title
changes font to indicate that you need to save your work.</font><br>
</p>
<br>
<hr style="width: 100%; height: 2px;"><br>
<br>
<h2><a name="Click-by-click_worked_example"></a> Click-by-click worked
example</h2>
The above gives a basic idea of the OT's capabilities and how to use
them.
Here is a click-by-click example of the creation of a simple MSB.
Further,
and better, examples are available in the instrument-specific web
pages.
The following covers the case of production of a UIST spectroscopy MSB.<br>
<br>
<table style="text-align: left; width: 100%;" border="0" cellpadding="2"
 cellspacing="10">
  <tbody>
    <tr>
      <td
 style="background-color: rgb(204, 204, 204); font-weight: bold; vertical-align: middle;">Action<br>
      </td>
      <td
 style="background-color: rgb(204, 204, 204); font-weight: bold; vertical-align: middle;">Menus,
clicks etc.<br>
      </td>
      <td
 style="text-align: center; background-color: rgb(204, 204, 204); font-weight: bold; vertical-align: middle;">Image<br>
      </td>
      <td
 style="background-color: rgb(204, 204, 204); font-weight: bold; vertical-align: middle;">Comment<br>
      </td>
    </tr>
    <tr>
      <td
 style="vertical-align: middle; background-color: rgb(255, 255, 153);">Create
a blank science program<br>
      </td>
      <td style="vertical-align: middle;">Main File...New<br>
      </td>
      <td
 style="text-align: center; vertical-align: middle; background-color: rgb(255, 255, 153);"><img
 style="width: 199px; height: 91px;" alt="" title="" src="worked_1.png">
      <br>
      </td>
      <td style="vertical-align: middle;"><br>
      </td>
    </tr>
    <tr>
      <td
 style="vertical-align: middle; background-color: rgb(255, 255, 153);">Open
the appropriate library<br>
      </td>
      <td style="vertical-align: middle;">Main File...&lt;library&gt;<br>
      </td>
      <td
 style="text-align: center; vertical-align: middle; background-color: rgb(255, 255, 153);"><img
 style="width: 238px; height: 160px;" alt="" title="" src="worked2.png">
      <br>
      </td>
      <td style="vertical-align: middle;"><br>
      </td>
    </tr>
    <tr>
      <td
 style="vertical-align: middle; background-color: rgb(255, 255, 153);">Insert
and fill in Site Quality component<br>
      </td>
      <td style="vertical-align: middle;">From the left tool bar in the
science
program window<br>
      </td>
      <td
 style="text-align: center; vertical-align: middle; background-color: rgb(255, 255, 153);"><img
 style="width: 210px; height: 112px;" alt="" title="" src="worked3.png">
      <br>
      </td>
      <td style="vertical-align: middle;">This is the pull-down menu
under
the "component" button<br>
      </td>
    </tr>
    <tr>
      <td
 style="vertical-align: middle; background-color: rgb(255, 255, 153);">Insert
and fill in (if necessary) Scheduling constraints component<br>
      </td>
      <td style="vertical-align: middle;">From the same components
list. <br>
      </td>
      <td
 style="text-align: center; vertical-align: middle; background-color: rgb(255, 255, 153);"><img
 style="width: 198px; height: 93px;" alt="" title="" src="worked4.png">
      <br>
      </td>
      <td style="vertical-align: middle;">The science program panel
after
insering the two admin components<br>
      </td>
    </tr>
    <tr>
      <td
 style="vertical-align: middle; background-color: rgb(255, 255, 153);">Find
a library MSB which matches your needs<br>
      </td>
      <td style="vertical-align: middle;"><br>
      </td>
      <td
 style="text-align: center; vertical-align: middle; background-color: rgb(255, 255, 153);"><img
 style="width: 194px; height: 195px;" alt="" title="" src="worked5.png">
      <br>
      </td>
      <td style="vertical-align: middle;">We're doing a point source
observation. <br>
      </td>
    </tr>
    <tr>
      <td
 style="vertical-align: middle; background-color: rgb(255, 255, 153);">Copy
and Paste into the program area<br>
      </td>
      <td style="vertical-align: middle;">Highlight the appropriate MSB
by
clicking on it once. Then click "copy", move to the main program,
highlight
the item after which you want it to appear, and click "paste"<br>
      </td>
      <td
 style="text-align: center; vertical-align: middle; background-color: rgb(255, 255, 153);"><img
 style="width: 208px; height: 86px;" alt="" title="" src="worked6.png">
      <br>
      </td>
      <td style="vertical-align: middle;">Alternatively, drag and drop
-
see the "Advanced Topics and Usage notes" in the main document<br>
      </td>
    </tr>
    <tr>
      <td
 style="vertical-align: middle; background-color: rgb(255, 255, 153);">Fill
in the administrative details in the main program window<br>
      </td>
      <td style="vertical-align: middle;">Click on "Science Program"
and
use the editor panel which appears on the right<br>
      </td>
      <td
 style="text-align: center; vertical-align: middle; background-color: rgb(255, 255, 153);"><img
 style="width: 149px; height: 115px;" alt="" title="" src="worked7.png">
      <br>
      </td>
      <td style="vertical-align: middle;">The title entered will be
reflected
at the top of the program display panel also. See the next step.<br>
      </td>
    </tr>
    <tr>
      <td
 style="vertical-align: middle; background-color: rgb(255, 255, 153);">Give
the first MSB a name<br>
      </td>
      <td style="vertical-align: middle;">Highlight the MSB and type
into
the MSB editor text field.<br>
      </td>
      <td
 style="text-align: center; vertical-align: middle; background-color: rgb(255, 255, 153);"><img
 style="width: 207px; height: 81px;" alt="" title="" src="worked8.png">
      <br>
      </td>
      <td style="vertical-align: middle;">The title entered replaces
the
MSB name given in the library. <br>
      </td>
    </tr>
    <tr>
      <td
 style="vertical-align: middle; background-color: rgb(255, 255, 153);">Open
the MSB up and enter target details<br>
      </td>
      <td style="vertical-align: middle;">Highlight the global target
component
- close to the top of the MSB, then use the editor panel on the right<br>
      </td>
      <td
 style="text-align: center; vertical-align: middle; background-color: rgb(255, 255, 153);"><img
 style="width: 169px; height: 93px;" alt="" title="" src="worked9.png">
      <br>
      </td>
      <td style="vertical-align: middle;">You can use <font
 color="#ff0000">name resolution</font> after typing in the target name
here.
Beware of this in the case of extragalactic objects, where there can be
big
differences between, e.g. Radio and optical positions.<br>
      </td>
    </tr>
    <tr>
      <td
 style="vertical-align: middle; background-color: rgb(255, 255, 153);">Set
the
instrument configuration<br>
      </td>
      <td style="vertical-align: middle;">Highlight the global
instrument
component - usually second item in the library MSB<br>
      </td>
      <td
 style="text-align: center; vertical-align: middle; background-color: rgb(255, 255, 153);"><img
 style="width: 152px; height: 97px;" alt="" title="" src="worked10.png">
      <br>
      </td>
      <td style="vertical-align: middle;">All UKIRT instruments have
source
brightness fields from which suitable settings are derived.<br>
      </td>
    </tr>
    <tr>
      <td
 style="vertical-align: middle; background-color: rgb(255, 255, 153);">Default
the flat and arc settings<br>
      </td>
      <td style="vertical-align: middle;">Highlight the flat component,
and
click "Use defaults" in the editor pane. Then do the same for the Arc.<br>
      </td>
      <td
 style="text-align: center; vertical-align: middle; background-color: rgb(255, 255, 153);"><img
 style="width: 198px; height: 223px;" alt="" title="" src="worked11.png">
      <br>
      </td>
      <td style="vertical-align: middle;">This is a
spectroscopy-specific
example but similar operations are necessary for short-wave imaging
(setting
the DARK exposure time).<br>
      </td>
    </tr>
    <tr>
      <td
 style="vertical-align: middle; background-color: rgb(255, 255, 153);">Enter
standard star name and resolve it<br>
      </td>
      <td style="vertical-align: middle;">Highlight the standard star
target
info and enter the name, then resolve.<br>
      </td>
      <td
 style="text-align: center; vertical-align: middle; background-color: rgb(255, 255, 153);"><img
 style="width: 223px; height: 102px;" alt="" title="" src="worked12.png">
      <br>
      </td>
      <td style="vertical-align: middle;">Note that since semester 03B,
name
resolution no longer replaces the name you entered with the Simbad name.<br>
      </td>
    </tr>
    <tr>
      <td
 style="vertical-align: middle; background-color: rgb(255, 255, 153);">Set
a
suitable imaging-acquisition exposure time<br>
      </td>
      <td style="vertical-align: middle;">Highlight the acquisition
eye,
then follow the instructions in the NOTE just above it.<br>
      </td>
      <td
 style="text-align: center; vertical-align: middle; background-color: rgb(255, 255, 153);"><img
 style="width: 212px; height: 96px;" alt="" title="" src="worked13.png">
      <br>
      </td>
      <td style="vertical-align: middle;">This is a UIST
spectroscopy-specific
operation which does not apply to other observing modes or instruments.<br>
      </td>
    </tr>
    <tr>
      <td
 style="vertical-align: middle; background-color: rgb(255, 255, 153);">Ensure
that the Standard Star exposure time is correctly set<br>
      </td>
      <td style="vertical-align: middle;">Highlight the UIST iterator
in
the sequence and select the target magnitude. <br>
      </td>
      <td
 style="text-align: center; vertical-align: middle; background-color: rgb(255, 255, 153);"><img
 style="width: 177px; height: 91px;" alt="" title="" src="worked14.png">
      <br>
      </td>
      <td style="vertical-align: middle;">This is an iterator. It's
needed
because the UIST component is global to the MSB but the Standard will
(usually)
be brighter than the target.<br>
      </td>
    </tr>
    <tr>
      <td
 style="vertical-align: middle; background-color: rgb(255, 255, 153);">Set
the
acquisition exposure time for the science target<br>
      </td>
      <td style="vertical-align: middle;">As two steps above but in the
Target
Observation rather than the Standard Star Observation.<br>
      </td>
      <td
 style="text-align: center; vertical-align: middle; background-color: rgb(255, 255, 153);"><br>
      </td>
      <td style="vertical-align: middle;"><br>
      </td>
    </tr>
    <tr>
      <td
 style="vertical-align: middle; background-color: rgb(255, 255, 153);">Check
that the science target offsets are correct. <br>
      </td>
      <td style="vertical-align: middle;"><br>
      </td>
      <td
 style="text-align: center; vertical-align: middle; background-color: rgb(255, 255, 153);"><img
 style="width: 160px; height: 139px;" alt="" title="" src="worked15.png">
      </td>
      <td style="vertical-align: middle;">The default settings move the
target
by integral number of detector rows but may be too small for extended
targets.<br>
      </td>
    </tr>
    <tr>
      <td
 style="vertical-align: top; background-color: rgb(255, 255, 153);"><br>
      </td>
      <td style="vertical-align: top;"><br>
      </td>
      <td
 style="vertical-align: top; text-align: center; background-color: rgb(255, 255, 153);"><br>
      </td>
      <td style="vertical-align: top;"><br>
      </td>
    </tr>
    <tr>
      <td
 style="vertical-align: top; background-color: rgb(255, 255, 153);"><br>
      <span style="font-weight: bold;">SUMMARY</span><br>
      <br>
      <br>
At this point the program is broadly ready to go, though if you click
the
Validation button you will find that you have forgotten to include a
"Show
to Observer" note, and that guide stars remain to be set up. <br>
      <br>
Once those are done, you are ready to either clone the MSB into a
complete
program, or copy it and edit new targets in manually, or whatever else
your
programme demands.<br>
      </td>
      <td colspan="3" rowspan="1"
 style="vertical-align: top; text-align: center; background-color: rgb(255, 255, 153);"><img
 style="width: 375px; height: 630px;" alt="" title="" src="worked16.png">
      <br>
      </td>
    </tr>
  </tbody>
</table>
<br>
<br>
<br>
<table style="width: 100%; text-align: left;" border="0" cellpadding="2"
 cellspacing="0">
  <tbody>
    <tr>
      <td
 style="vertical-align: top; background-color: rgb(192, 192, 192);"><br>
      </td>
    </tr>
  </tbody>
</table>
<br>
<br>
<br>
<div align="left"> </div>
<h1 align="left"><font color="#333399"><a name="advanced"></a>III.
Advanced
Topics and Usage Notes</font></h1>
<br>
<div align="left">
<div align="left"> Here we outline some facilities which are either
more advanced
than a typical program is likely to require, or more than the beginner
user might expect to use.<br>
</div>
<br>
<br>
<h2><a name="AND_and_OR_logic"></a>AND and OR logic</h2>
<div align="left"> Most programs will be catered for by simply creating
a
set of MSBs and at most specifying their relative priorities and
perhaps
some scheduling information. However, more complex programs can be
built up using the logic provided by "AND" and "OR" folders. The basic
function of these folders is as follows:<br>
</div>
<br>
<table border="0" cellpadding="2" cellspacing="5" width="100%">
  <tbody>
    <tr>
      <td bgcolor="#ffff99" valign="top"><br>
&nbsp;<img alt="" src="folder_or.png" height="47" width="96"> <br>
      <br>
      </td>
      <td valign="middle">Allows you to select one or more (default is
one) MSBs from a list. If the default is used, then once an MSB from
the folder has been done, the rest are marked as unavailable.<br>
      </td>
    </tr>
    <tr>
      <td bgcolor="#ffff99" valign="top"><br>
&nbsp;<img alt="" src="folder_and.png" height="50" width="96"> <br>
      <br>
      </td>
      <td valign="middle">Allows you to simply group MSBs together. In
general, ANDs make most sense when contained within an OR folder,
allowing
you to have two completely separate programs (potentially with many
MSBs each), only one of which gets done. For example, you may have a
set of
targets in two separate star-forming regions, don't need data in both
but
do need one region to be completed. ANDs inside an OR is the way to do
this.<br>
      </td>
    </tr>
  </tbody>
</table>
<br>
<br>
An example of the use of these folders:<br>
<br>
<table border="0" cellpadding="2" cellspacing="5" width="100%">
  <tbody>
    <tr>
      <td bgcolor="#ffffcc" valign="middle"><img alt=""
 src="and_or_program.png" height="347" width="385"> <br>
      </td>
      <td valign="top">Here, for the sake of illustration, a PI has
managed to convince the TAG that there is merit in granting time to two
rather different projects under the same banner. The resulting science
program contains two OR folders. These do not interact with one
another; completing the first OR doesn't mean that the second OR (which
is at
the same indent level) does not get done. All being well, the PI will
obtain data on both sub-projects; the details of what they get is
catered
for by the AND and OR logic.<br>
      <br>
      <font color="#ff0000">Within the (simpler) second OR folder</font>,
the PI has asked for two out of three MSBs to be done. Depending on the
timing, these could be Oph-elias 29 and Oph-BK44, or some other pair
from the three. The important point is that once two are done, the
third
is marked as unavailable. Selection of the number to do is done in the
OR folder's window.<br>
      <br>
      <font color="#ff0000">Within the first OR folder</font>, the PI
has
required only one of three things to happen: either (i) the single MSB
on NGC4594 knot 3, or (ii) one of the two programs on knots in NGC4565
or
NGC4321. So the minute an MSB from the NGC4565 program is done, both
the
NGC4594 single MSB and the NGC4321 program is marked as invalid.<br>
      </td>
    </tr>
  </tbody>
</table>
<br>
<b><br>
Formally:</b> <br>
<br>
ANDs were designed specifically to go inside ORs (to allow you to group
MSBs)
but are also available to group MSBs in general (to allow them to share
instrument
configs etc).<br>
<br>
<table border="0" cellpadding="2" cellspacing="5" width="100%">
  <tbody>
    <tr>
      <td align="center" bgcolor="#ffff99"><b>Folder type</b></td>
      <td bgcolor="#ffff99"><b>Can contain</b></td>
    </tr>
    <tr>
      <td align="center" bgcolor="#ffff99"><img alt=""
 src="folder_or.png" height="47" width="96"> </td>
      <td>ANDs, MSBs, Observations or general components (inheritance
works
in an OR folder)</td>
    </tr>
    <tr>
      <td align="center" bgcolor="#ffff99"><img alt=""
 src="folder_and.png" height="50" width="96"> </td>
      <td>Anything except an OR or AND</td>
    </tr>
  </tbody>
</table>
<br>
<br>
</div>
<div align="left">
<hr style="width: 100%; height: 2px;"><br>
<br>
</div>
<h2 align="left"><a name="Drag_and_drop"></a>Drag and drop</h2>
<div align="left">
<div align="left"> Components, observations and entire MSBs can be
dragged
from place to place, though many users will find the cut and paste
described above quite usable. Drag and drop works in much the same way
as it does in most graphical user interfaces, but note the following
points
of protocol:<br>
</div>
<br>
<div align="left"> - press <b><font color="#ff0000">ctrl</font></b> <i>during</i>
(after commencing) a drag and the <u>move</u> becomes a <u>copy.</u>
Note again that the key press has to happen <i>after</i> you
commence dragging the object.<br>
</div>
<br>
<div align="left"> - click on one object, then hold down <b><font
 color="#ff0000"> shift</font></b> and click on a second; everything
between
the first and second inclusive become selected.<br>
</div>
<br>
</div>
<div align="left">
<div align="left">What happens when you drop a dragged item is
indicated
by an arrow symbol:<br>
</div>
<br>
<table border="0" cellpadding="2" cellspacing="5" width="100%">
  <tbody>
    <tr>
      <td bgcolor="#ffff99" valign="middle"><img alt=""
 src="drag_into.png" height="112" width="203"> <br>
      </td>
      <td valign="middle">Dropping a dragged item (for example, a
target
component) with the arrow pointing diagonally means that it is dropped
at one indent level higher than, and therefore becomes a part of, the
highlighted item (in this case, the MSB).<br>
      </td>
    </tr>
    <tr>
      <td bgcolor="#ffff99" valign="middle"><img alt=""
 src="drag_under.png" height="119" width="206"> <br>
      </td>
      <td valign="middle">Dropping a dragged item (for example, an
Observation)
with the arrow pointing vertically down means that it is inserted into
the science program at the same indent level as the highlighted item
(in this case, the MSB).<br>
      </td>
    </tr>
  </tbody>
</table>
<br>
<div align="left"> You can control which of the symbols you get by
horizontal
movements of the dragging cursor; in the above example, you would find
that the symbol changed as the cursor was dragged past the "B" in "MSB
Folder (1X)".<br>
</div>
<br>
<br>
<hr style="width: 100%; height: 2px;"><br>
</div>
<br>
<h2><a name="Usage_through_a_firewall"></a>Usage through a firewall</h2>
If your Institution connects to the internet via a firewall, you may
find
that connections to catalogue servers etc. fail. If this is the case,
then
you can specify your proxy server and port number on the OT preferences
window
(accessed via the File menu). For a networked installation, you can
edit
the file ot.cfg and supply the server and port on the lines supplied
towards
the end of that file.<br>
<br>
<br>
<hr style="width: 100%; height: 2px;"><br>
<br>
<h2><a name="Aside:_Specifying_Spectroscopic_Standard"></a>Specifying
Spectroscopic
Standard Stars</h2>
If your programme is spectroscopic, &nbsp;and you wish to specify
standard
stars yourself rather than leaving the choice to the summit observer,
we
suggest the following rules as a way to guarantee a reasonable airmass
match
to your target observations:
<ol>
  <li>Determine an RA appropriate for the mid-point of your
observations
by <i>subtracting</i> <i>half</i> the target observation time from
your target RA.&nbsp; e.g. If your target has RA of 12 34 56 and your
total observation time on target is 40 minutes, then your standard
should have RA ~ 12h 15m. </li>
  <li>Look for a standard with the RA calculated as above and a similar
Declination
to your target, using either the <a
 href="http://www.jach.hawaii.edu/UKIRT/astronomy/">UKIRT
Standard
star lists</a>, the Standard star library in the OT, or the <a
 href="http://www.gemini.edu/sciops/instruments/nir/specstandards/telluricsearch.html">Gemini
Standard star finder</a>. Try to get as close as possible but at least
within
about 10 minutes in time for the RA and 10 degrees for the
Declination.&nbsp;
F stars are preferable to G or A as A have strong hydrogen lines and G
may have molecular bands.&nbsp; A types are preferable to G if there
are no
suitable F stars.&nbsp;&nbsp;</li>
</ol>
<br>
<hr style="width: 100%; height: 2px;"><br>
<h2><a name="Notes_on_guide_stars_and_acquisition"></a>Guide
stars
and acquisition scenarios</h2>
<div align="left">
<div align="left"> Your guide star may be chosen from plate material
which
is many years old, and even if more recent it may have surprisingly
poor positional accuracy (Guide Star Catalogue sources for instance can
have systematic errors of up to two arcseconds depending on their
location). In these cases, the details of how you centre on your source
and guide
star can be important depending on your mode of observing,
slit width etc. <br>
<br>
<span style="text-decoration: underline;">Guide-star brightness
(Cassegrain)</span><br>
Off-axis, UKIRT can guide down to 18th magnitude (moon and cloud
dependent). the UKIRT guide camera operates effectively in the R band.
Rule
of thumb: if your guide star clearly illuminates 9 pixels in the
position-editor DSS image with default cut levels, then it will
probably be guidable (this is clearly colour-dependent so this cannot
be guaranteed). If your guide star has a hint of diffraction spikes in
the DSS image then it is about 14th magnitude and will be easiy
guidable - it will also appear in the Guide Star Catalogue (in the
Position editor: <span style="font-weight: bold;">Catalog...Catalogs</span>,
followed by <span style="font-weight: bold;">Catalog...Browse</span>).
<br>
<br>
Note that for reasons of thermal hygiene, we currently use a gold
reflective patch in the centre of the field of view; this is larger
than the UIST detector FOV and vignettes approximately 2.5 magnitudes
of guide star signal. So if you need to use a guide star close to the
science field, please ensure that it is brighter than (say) 15.5
magnitudes in the R band.<br>
<br>
<span style="text-decoration: underline;">Guide-star brightness (WFCAM)</span><br>
WFCAM's guider functions well down to 16th magnitude but much below
that requires unhealthily low guide frequencies and image quality
suffers. We suggest sticking to R magnitudes (again, the guide camera
works in an approximation to the R band) of 16th or brighter.<br>
</div>
<br>
<u>CGS4</u><br>
<div align="left"> We have a set of recommended methods; CGS4-specific
details
are given <a
 href="http://www.jach.hawaii.edu/UKIRT/instruments/cgs4/optical/peakup.html">
here,</a> and a more general flowchart for acquisition modes is given
<a href="http://www.jach.hawaii.edu/%7Eadamson/Telescope">here</a> (the
latter
two links are available only through the online version of this page,
referred
to at the top of the document). You should identify in an observation
Note
which of the scenarios identified in the flowchart applies. <br>
</div>
<br>
<div align="left"> For example, if you are observing with CGS4, and
neither your guide star nor your target have accurate positions,
but the relative offset between them is accurate, then you should
identify <a
 href="http://www.jach.hawaii.edu/%7Eadamson/Telescope/S15.txt"><b><font
 color="#ff0000">"S15"</font></b></a> as the acquisition scenario (in
all
cases you should assume that the aperture position is known or has been
recently determined). <br>
</div>
<br>
<u>UIST</u><br>
<div align="left"> For UIST, acquisition is via the imaging mode and
peakup
is not in general necessary. </div>
<br>
<u>General</u> </div>
<div align="left">To help centring guide stars, the <font
 color="#ff0000"><b>pick object</b></font> option under <font
 color="#ff0000"><b>Catalogs</b></font> in the position editor is
useful compared
to positioning the cursor over the star and clicking. In general, stars
selected
this way come up relatively well centered and require little adjustment
of
the crosshead or telescope. This speeds observing still further and is
particularly
helpful for blind pointing to objects with good coordinates.<br>
</div>
<br>
<u>IRPOL</u><br>
<div align="left"> Polarimetry users should also be aware that the
waveplate
holder blocks much of the available field of view for off-axis guide
stars, as described in the <a
 href="http://www.jach.hawaii.edu/UKIRT/instruments/irpol/IRPOL_PARAMS.html#5">IRPOL
user manual.</a> <br>
</div>
<br>
<hr style="width: 100%; height: 2px;"><br>
<h2><a name="Instrument-Specific_Pages"></a>Instrument-Specific Pages</h2>
Some of the UKIRT instrument pages have instrument-specific notes on
preparation using the OT. These are linked to below for reference.
Please note that there is other information on instrument usage in the
individual instrument documents, which you are expected to have read
before preparing your observations.<br>
<br>
<table style="text-align: left; width: 100%;" border="0" cellpadding="2"
 cellspacing="5">
  <tbody>
    <tr>
      <td
 style="vertical-align: top; text-align: center; background-color: rgb(255, 255, 153);"><a
 href="http://www.jach.hawaii.edu/UKIRT/instruments/wfcam/user_guide/WFCAM_OT.html">WFCAM</a><br>
      </td>
      <td>Wide-field imager<br>
      </td>
    </tr>
    <tr>
      <td
 style="vertical-align: top; text-align: center; background-color: rgb(255, 255, 153);"><a
 href="http://www.jach.hawaii.edu/UKIRT/instruments/uist/imaging/uistot.html">UIST
(im)</a><br>
      <a
 href="http://www.jach.hawaii.edu/UKIRT/instruments/uist/spectroscopy/uistot.html">UIST
(sp)</a><br>
      <a
 href="http://www.jach.hawaii.edu/UKIRT/instruments/uist/ifu/uistot.html">UIST
(ifu)</a><br>
      <a
 href="http://www.jach.hawaii.edu/UKIRT/instruments/irpol/UIST/impol.html#1">UIST
(im pol)</a><br>
      <a
 href="http://www.jach.hawaii.edu/UKIRT/instruments/irpol/UIST/specpol.html#1">UIST
(spec pol)</a><br>
      </td>
      <td>Imager/spectrometer/integral-field
spectrometer/polarimeter/coronagraph<br>
      </td>
    </tr>
    <tr>
      <td
 style="vertical-align: top; text-align: center; background-color: rgb(255, 255, 153);"><a
 href="http://www.jach.hawaii.edu/UKIRT/instruments/ufti/OBSERVING.html#2">UFTI</a><br>
      </td>
      <td>Imager/polarimeter<br>
      </td>
    </tr>
    <tr>
      <td
 style="vertical-align: top; text-align: center; background-color: rgb(255, 255, 153);"><a
 href="http://www.jach.hawaii.edu/UKIRT/instruments/cgs4/orac-ot/printable.html">CGS4</a><br>
      </td>
      <td>Mixed-mode 1-5 micron spectrometer<br>
      </td>
    </tr>
  </tbody>
</table>
<br>
<br>
<table style="width: 100%; text-align: left;" border="0" cellpadding="2"
 cellspacing="0">
  <tbody>
    <tr>
      <td
 style="vertical-align: top; background-color: rgb(192, 192, 192);"><br>
      </td>
    </tr>
  </tbody>
</table>
<br>
<br>
<br>
<div align="left"> </div>
<h1 align="left"><a name="IV._Release-Specific_Notes"></a><font
 color="#333399">IV. Release-Specific Notes</font></h1>
<h2><a name="Updates_in_the_January_2009_09A_WFCAM"></a>Updates in the
January 2009 (09A WFCAM) version</h2>
<ul>
  <li>None</li>
</ul>
<h2><a name="Updates_in_June_2008_08A_Cassegrain"></a>Updates in June
2008 (08A Cassegrain block) version</h2>
<ul>
  <li>Additional changes to the UIST configuration files for thermal
imaging with the new controller</li>
  <li>Revised offsets for nod8 (1024 array)<br>
  </li>
  <li>Revised default exposure times documented in the thermal imaging
notes<br>
  </li>
  <li>FLIP recipes in the WFCAM library and DR component</li>
</ul>
<h2><a name="Updates_in_November_2007_version"></a>Updates in November
2007 version</h2>
<span style="font-weight: bold;">Updates include</span><br>
<ul>
  <li>New standards for Y band (UFTI &amp; UIST)<br>
  </li>
  <li>Corrected display of IRPOL orientation in the position editor</li>
  <li>In the UIST spectroscopy template library, slides in the offset
iterator for point source spectroscopy now move the source into the
upper half of the array, where the array sensitivity (QE) is slightly
higher.<br>
  </li>
</ul>
<h2><a name="Updates_in_April_2006_version"></a>Updates in April 2006
version</h2>
<span style="font-weight: bold;">Updates include</span><br>
<ul>
  <li>Assorted fixes to Science Program Validation.</li>
</ul>
<ul>
  <li>CGS4 and UIST slit position angles are rounded to a single
decimal place.</li>
</ul>
<ul>
  <li>Upgrade to <a href="http://archive.eso.org/JSky/">JSky 2.5</a></li>
</ul>
<ul>
  <li>It is no longer possible to accidently put sequences before
components causing invalid XML to be produced.</li>
</ul>
<ul>
  <li>Copying survey containers get properly cloned.</li>
</ul>
<ul>
  <li>Changes to the X-offsets of RA get applied as [ X-offset x cos(
Dec )
]</li>
</ul>
<ul>
  <li>When targetting, the RA and Dec no longer get corrupted causing
drift.</li>
</ul>
<ul>
  <li>Initial removal of ODB and OM code.</li>
</ul>
<ul>
  <li>Removal of SERVER options on the command line as part of ODB code
removal.</li>
</ul>
<ul>
  <li>XML Science Programs can now be opened from the command-line.</li>
</ul>
<ul>
  <li>When opening files locally, the default working directory is the
directory the user is in when the OT started.</li>
</ul>
<ul>
  <li>Removal of OMP as an option as it is now the default, as a result
the OT no longer supports SGML.</li>
</ul>
<br>
<h2><a name="Updates_in_05A_version"></a>Updates in 05A version</h2>
The 05A version of the OT was released at the beginning of February,
and caters specifically for WFCAM proposals. All other 05A projects can
continue to use the 04A OT unless they wish to take advantage of new
(non-WFCAM) features. <br>
<br>
NOTE - these updates will migrate to the main document or to the
relevant instrument page over time. Headers will be left here.<br>
<br>
<br>
<span style="font-weight: bold;">WFCAM-specific updates</span><br>
<ul>
  <li>WFCAM components have been added.&nbsp; This includes a WFCAM
instrument component, and WFCAM calibration eye, microstep iterators
and DR recipe components.</li>
</ul>
<ul>
  <li>Survey container added. This allows you to specify multiple
targets in a single container.&nbsp; This component also allows you to
elect to only observe some number from the list of targets.&nbsp; While
it is primarily for use with the Survey Definition Tool, it can also be
used on its own. It can either be placed at the top level of a science
program&nbsp; similar to an MSB), in which case it can contain at most
1 MSB (acting as an MSB iterator); or it can be placed inside an MSB
and can contain any number of observations (acting as a target
iterator).</li>
</ul>
<ul>
  <li>The target component now allows you to create "named
skies".&nbsp; That is,&nbsp; at the bottom of the target component
where you used to be able to select "GUIDE", you can now also add "SKY"
and/or "SKY_GUIDE".&nbsp; The sky position can input as either an
absolute value, or as an offset from the&nbsp; base.&nbsp; If you don't
want to use it, don't - in which case you can treat sky "eyes" just as
you used to.&nbsp; However, using them does allow some additional
functionality (described below).&nbsp; Each sky position specified will
be called SKYn, where n is an integer starting at 0. Similarly there is
a SKY_GUIDE which will allow you to guide on a patch of sky.&nbsp;
Again, this is primarily useful for survey work. </li>
</ul>
<ul>
  <li>The sky "eye" has changed to support the named skys.&nbsp; If you
don't specify a named sky in the target, this will have exactly the
same behaviour as the old sky eye, though it will look different.&nbsp;
If you do specify a named sky, the GUI allows you to select which sky
you want to observe.&nbsp; Depending on how you defined the sky, its
behaviour is somewhat different.&nbsp; If you specify an absolute sky
position, you will always go to that position.&nbsp; If you specify it
as an offset, then the three checkboxes on the user interface come into
play.&nbsp; These give you the following options:</li>
</ul>
<div style="margin-left: 80px;">a) No offset - you will always go to
the offset position relative to the BASE target<br>
</div>
<br>
<div style="margin-left: 80px;">b) Follow offset - if your target is
inside an offset iterator, the sky position be offset relative to the
BASE offset, scaled by a user defined amount.&nbsp; So for example if
you had an offset iterator with two component (0.0, 0.0) and (0.0,
20.0) and your sky had an offset of (0.0, 60.0), then the sky positions
observed would be at (0.0, 60.0) and (0.0, 80.0) with a scaling factor
of 1.0, or ( 0.0, 60.0) and (0.0, 70.0) for a scaling factor of 0.5)<br>
</div>
<br>
<div style="text-align: left; margin-left: 80px;">c) Random offset -
the sky offset will be at some random position centered on the defined
sky offset relative to the BASE, and with a box defined by box size.<br>
</div>
<br>
<br>
<span style="font-weight: bold;">General updates</span><br>
<ul>
  <li>MSB's marked as REMOVED can now be UNREMOVED and their count is
maintained.</li>
</ul>
<ul>
  <li>On the site quality component, a better explanation of the cloud
and moon constraints is given, and a new constraint, J-Band sky
brightness, is added.</li>
</ul>
<ul>
  <li>The 150 l/mm disperser has been removed from CGS4</li>
</ul>
<ul>
  <li>The chop settings tab on the target component has been disabled.</li>
</ul>
<ul>
  <li>Validation now uses an XML schema.&nbsp; There may be some
side-effects of this change which we have yet to uncover, and user
feedback will be appreciated. Since this is a web service any changes
will not require a new OT release.</li>
</ul>
<ul>
  <li>More than 1 observer note can now be specified (but they can not
be put inside a sequence). At the summit, these notes are concatenated.<br>
  </li>
</ul>
<ul>
  <li>Offset positions are now displayed around the position of the
guide star as well as around the target. This helps when deciding
whether a guide star will fall into an inaccessible area&nbsp; Guide
star offsets are displayed in blue. Highlight the offset iterator to
display these offsets.</li>
</ul>
<br>
<h2><a name="Updates_in_04A_version"></a>Updates in 04A version</h2>
<ul>
  <li>Time estimates now report both total time and time without
calibrations (estimated time)</li>
</ul>
<ul>
  <li>Improved schema validation for both telescopes. Validation is now
performed against the TOML schema over the web (Note:<br>
Failure of validation does not indicate that submission will fail).
Note that to validate against the most recent criteria requires you to
have a working network connection.<br>
  </li>
  <li>Improved layout on various components - now requires at least
Java version 1.4.1</li>
  <li>On start-up, we now check to ensure that the correct version of
Java is being used</li>
  <li>On submission and retrieval to/from the database, pressing
'enter' after the password now behaves the same as pressing the
"Commit" button.<br>
  </li>
</ul>
<br>
<hr style="width: 100%; height: 2px;"><br>
<br>
<h1><a name="Known_Bugs"></a>Known Bugs</h1>
<br>
<table style="width: 100%;" border="0" cellpadding="2" cellspacing="5">
  <tbody>
    <tr>
      <td
 style="text-align: center; background-color: rgb(255, 0, 0); font-weight: bold; vertical-align: middle;">Preference
settings<br>
      </td>
      <td style="vertical-align: middle;"><br>
      <span style="font-weight: bold; text-decoration: underline;">Bug:</span><br>
      <br>
      <span style="font-weight: bold;">File...Preference</span> setting
for
prompt-on-close is not effective. Closing an altered science program
window from its file menu always results in a prompt for whether you
intend to do this. <br>
      <br>
      </td>
    </tr>
    <tr>
      <td
 style="text-align: center; font-weight: bold; background-color: rgb(255, 0, 0); vertical-align: middle;">OT
Help system<br>
      </td>
      <td style="vertical-align: middle;"><br>
      <span style="font-weight: bold; text-decoration: underline;">Bug:</span><br>
      <br>
Scrolling in the OT bundled
help
system may be intermittently broken.&nbsp; We recommend using the
online (web) guide rather than the bundled help.<br>
      <br>
      </td>
    </tr>
    <tr>
      <td
 style="text-align: center; font-weight: bold; background-color: rgb(255, 0, 0); vertical-align: middle;">Position
editor<br>
      </td>
      <td style="vertical-align: middle;"><br>
      <span style="font-weight: bold; text-decoration: underline;">Bug:</span><br>
      <br>
Occasionally fails to pick up
the correct position when plotting a target. This results in a "base
position is out of view" message on the position editor screen and
either a blank field or an image from cache. <br>
      <br>
      <span style="font-weight: bold; text-decoration: underline;">Work
around:</span><br>
      <br>
This can be worked around
by closing the position editor, switching to another target component
and back again, and relaunching the editor. <br>
      <br>
      </td>
    </tr>
    <tr>
      <td
 style="vertical-align: middle; text-align: center; background-color: rgb(255, 0, 0);"><span
 style="font-weight: bold;">Variable name too long on startup</span><br>
      <br>
      <span style="color: rgb(255, 255, 255); font-weight: bold;">Added
Jan-2006</span><br>
      <br>
      </td>
      <td style="vertical-align: top;"><br>
      <span style="font-weight: bold; text-decoration: underline;">Bug:</span><br>
      <br>
You get the following error message:&nbsp; <span
 style="font-weight: bold;">set: Variable name too long</span>&nbsp;
when starting up on a Solaris machine.<br>
      <br>
      <span style="font-weight: bold; text-decoration: underline;">Workaround:</span><br>
      <br>
change the top line of the ot script (usually /somewhere/ompot/bin/ot)<br>
      <br>
from<br>
      <br>
      <span style="font-weight: bold;">#!/bin/csh -f</span><br>
to<br>
      <span style="font-weight: bold;">#!/bin/tcsh -f</span><br>
      <br>
(note that this assumes you have <span style="font-weight: bold;">tcsh</span>
installed).<br>
      <br>
      </td>
    </tr>
    <tr>
      <td
 style="background-color: rgb(255, 0, 0); vertical-align: middle; text-align: center;"><span
 style="font-weight: bold;">TOML messages in validation</span><br
 style="font-weight: bold;">
      <br style="font-weight: bold;">
      <span style="color: rgb(255, 255, 255); font-weight: bold;">Added
June 2008</span><br>
      </td>
      <td style="vertical-align: top;"><br>
      <span style="font-weight: bold; text-decoration: underline;">Bug:</span>
      <br>
      <br>
Additional schema validation errors (roughly 11 lines long when
validating an entire programme; these errors are not present when
validating MSB by MSB. <br>
      <br>
      <span style="font-weight: bold; text-decoration: underline;">Workaround:</span><br>
      <br>
These errors can generally be ignored. To be sure, try validating
individual MSBs.<br>
      <br>
      </td>
    </tr>
  </tbody>
</table>
<br>
<br>
<div align="left"><br>
</div>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
</body>
</html>
