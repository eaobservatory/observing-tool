<?xml version="1.0" encoding="ISO-8859-1"?>
<SpLibrary type="lb" subtype="none">
  <meta_gui_collapsed>false</meta_gui_collapsed>
  <meta_gui_filename>cgs4_new_library.xml</meta_gui_filename>
  <ot_version>20050120</ot_version>
  <telescope>ukirt</telescope>
  <SpLibraryFolder type="lf" subtype="none">
    <meta_gui_collapsed>false</meta_gui_collapsed>
    <title>CGS4</title>
    <SpNote type="no" subtype="none">
      <meta_gui_collapsed>false</meta_gui_collapsed>
      <note>This library contains basic CGS4 MSBs, for all four standard observing methods.
This is CGS4 library version 20021203

These MSBs make use of inheritence to help ensure that the correct configrations etc are used. There is a Target Component and a CGS4 Component at the top of the MSB that are inherited by default into the observations that follow within the MSB.

See the notes before each component for details.

Flats and arcs, and Standard Stars are all flagged as optional by default.

Echelle users: You will need to adjust the Offset components to offset an integer number of rows when using the echelle grating, with which the pixel scale depends strongly on grating angle.

Observer notes are included, which should be filled in to inform the observer at the telescope of any special requirements.

SITE QUALITY AND SCHEDULING CONSTRAINTS
------------------------------------------
These MSBs do not include site quality components; if you need these on an MSB-by-MSB basis then please add them from the component button once the MSBs are in your programme. If you have a global site quality requirement then this should be placed at the top of the programme and will apply to all the MSBs.

Scheduling constraint components are also not included by default, since they are unlikely to apply to more than a small minority of programmes.</note>
      <title>Contents and how to use them</title>
    </SpNote>
    <SpMSB remaining="1" type="og" subtype="msb">
      <meta_gui_collapsed>true</meta_gui_collapsed>
      <SpInstCGS4Ref idref="1"/>
      <SpTelescopeObsCompRef idref="0"/>
      <estimatedDuration units="seconds">6658.400000000001</estimatedDuration>
      <library_version>$Revision$</library_version>
      <priority>99</priority>
      <title>Low res, point source, nod along slit</title>
      <totalDuration units="seconds">6835.880000000001</totalDuration>
      <SpNote observeInstruction="true" type="no" subtype="none">
        <meta_gui_collapsed>false</meta_gui_collapsed>
        <note></note>
        <title>OBSERVER NOTES</title>
      </SpNote>
      <SpNote type="no" subtype="none">
        <meta_gui_collapsed>false</meta_gui_collapsed>
        <note>Specify your science target instrument configuration here. This is inherited into all the observations within this MSB. 

You can adjust details for the flat and arc within the flat and arc observe components. 

You can adjust the exposure time and coadds for the standard star using the CGS4 iterator component in the standard star observation.

NB: Use ND_STARE mode for integer exposure times greater than 1 second. Use STARE mode otherwise.</note>
        <title>This CGS4 component</title>
      </SpNote>
      <SpInstCGS4 id="1" type="oc" subtype="inst.CGS4">
        <meta_gui_collapsed>false</meta_gui_collapsed>
        <meta_unique>true</meta_unique>
        <meta_version>1.0</meta_version>
        <acqMode>NDSTARE</acqMode>
        <centralWavelength>2.1</centralWavelength>
        <coadds>1</coadds>
        <cvfOffset>0.0</cvfOffset>
        <cvfWavelength>2.1</cvfWavelength>
        <disperser>40lpmm</disperser>
        <exposureTime>35.0</exposureTime>
        <filter>B2</filter>
        <instAper>
          <value>-0.81</value>
          <value>12.32</value>
          <value>0.0</value>
          <value>2.1</value>
        </instAper>
        <instPntgOffset>
          <value>0.0</value>
          <value>0.0</value>
        </instPntgOffset>
        <instPort>South</instPort>
        <mask>1pixel</mask>
        <neutralDensity>false</neutralDensity>
        <order>1</order>
        <polariser>none</polariser>
        <posAngle>0.0</posAngle>
        <sampling>2x2</sampling>
        <sourceMag>8-9</sourceMag>
      </SpInstCGS4>
      <SpNote type="no" subtype="none">
        <meta_gui_collapsed>false</meta_gui_collapsed>
        <note>Enter your  STANDARD STAR co-ordinates below (this is so that the flat and arc are executed at the location of the standard).  

These coordinates will be inherited by the  three observations (flat and arc, standard star and target spectroscopy) UNLESS they are over-written by a Target component inside the observation.  Obviously, this should be the case for the science target.   .

Note - for the standard, you don't need to specify a guide star;  the telescope will know to guide on the standard itself.

</note>
        <title>Standard Star Target component</title>
      </SpNote>
      <SpTelescopeObsComp id="0" type="oc" subtype="targetList">
        <meta_gui_collapsed>false</meta_gui_collapsed>
        <meta_gui_selectedTelescopePos>Base</meta_gui_selectedTelescopePos>
        <meta_unique>true</meta_unique>
        <BASE TYPE="Base">
          <target>
            <targetName>Standard star</targetName>
            <spherSystem SYSTEM="J2000">
              <c1>0:00:00</c1>
              <c2>0:00:00</c2>
            </spherSystem>
          </target>
        </BASE>
      </SpTelescopeObsComp>
      <SpObs msb="false" optional="true" remaining="1" type="ob" subtype="none">
        <meta_gui_collapsed>true</meta_gui_collapsed>
        <estimatedDuration units="seconds">89.80000000000001</estimatedDuration>
        <standard>false</standard>
        <title>flat and an arc</title>
        <SpNote type="no" subtype="none">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <note>Simply takes a flat field and an arc lamp frame.

Will inherit the standard target, so that the telescope orientation (and thus instrument flexure) will be the same in the flat and arc as in the standard starframes.

Will also inherit the CGS4 configuration from the component at the top of the MSB, thus guaranteeing that the correct config is used. Edit the exposure times and other details in the flat and arc observe components if necessary.

Be sure to hit the default button in the flat and arc editors if you change the configuration.

If your exposure times are less than 1 second or non-integers, yse STARE mode, otherwise use ND_STARE mode.</note>
          <title>Flat and Arc</title>
        </SpNote>
        <SpDRRecipe type="oc" subtype="DRRecipe">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <meta_unique>true</meta_unique>
          <ArcInGroup>false</ArcInGroup>
          <ArcRecipe>REDUCE_ARC</ArcRecipe>
          <BiasInGroup>false</BiasInGroup>
          <BiasRecipe>REDUCE_BIAS</BiasRecipe>
          <DarkInGroup>false</DarkInGroup>
          <DarkRecipe>REDUCE_DARK</DarkRecipe>
          <FlatInGroup>false</FlatInGroup>
          <FlatRecipe>REDUCE_FLAT</FlatRecipe>
          <FocusInGroup>false</FocusInGroup>
          <FocusRecipe>REDUCE_FOCUS</FocusRecipe>
          <ObjectInGroup>true</ObjectInGroup>
          <ObjectRecipe>REDUCE_SINGLE_FRAME</ObjectRecipe>
          <SkyInGroup>true</SkyInGroup>
          <SkyRecipe>REDUCE_SKY</SkyRecipe>
          <title>REDUCE_SINGLE_FRAME</title>
        </SpDRRecipe>
        <SpIterFolder type="if" subtype="none">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <SpIterCGS4CalObs type="ic" subtype="CGS4calUnitObs">
            <meta_gui_collapsed>false</meta_gui_collapsed>
            <acqMode>NDSTARE</acqMode>
            <calType>Flat</calType>
            <coadds>5</coadds>
            <cvfWavelength>2.1</cvfWavelength>
            <exposureTime>0.25</exposureTime>
            <filter>B2</filter>
            <flatSampling>AS_OBJECT</flatSampling>
            <lamp>Black Body (1.3)</lamp>
            <neutralDensity>false</neutralDensity>
            <repeatCount>1</repeatCount>
          </SpIterCGS4CalObs>
          <SpIterCGS4CalObs type="ic" subtype="CGS4calUnitObs">
            <meta_gui_collapsed>false</meta_gui_collapsed>
            <acqMode>NDSTARE</acqMode>
            <calType>Arc</calType>
            <coadds>5</coadds>
            <cvfWavelength>2.1</cvfWavelength>
            <exposureTime>0.5</exposureTime>
            <filter>B2</filter>
            <flatSampling>AS_OBJECT</flatSampling>
            <lamp>Argon Arc</lamp>
            <neutralDensity>false</neutralDensity>
            <repeatCount>1</repeatCount>
          </SpIterCGS4CalObs>
        </SpIterFolder>
      </SpObs>
      <SpObs msb="false" optional="true" remaining="1" type="ob" subtype="none">
        <meta_gui_collapsed>true</meta_gui_collapsed>
        <estimatedDuration units="seconds">87.68</estimatedDuration>
        <standard>true</standard>
        <title>standard star</title>
        <SpNote type="no" subtype="none">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <note>Takes a standard star observation.

Inherits the CGS4 component from above. Use the CGS4 itterator in the standard star sequence to specify the exposure time and coadds for the standard star.
</note>
          <title>Standard Star</title>
        </SpNote>
        <SpDRRecipe type="oc" subtype="DRRecipe">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <meta_unique>true</meta_unique>
          <ArcInGroup>false</ArcInGroup>
          <ArcRecipe>REDUCE_ARC</ArcRecipe>
          <BiasInGroup>false</BiasInGroup>
          <BiasRecipe>REDUCE_BIAS</BiasRecipe>
          <DRRecipe>JITTER_SELF_FLAT</DRRecipe>
          <DarkInGroup>false</DarkInGroup>
          <DarkRecipe>REDUCE_DARK</DarkRecipe>
          <FlatInGroup>false</FlatInGroup>
          <FlatRecipe>REDUCE_FLAT</FlatRecipe>
          <FocusInGroup>false</FocusInGroup>
          <FocusRecipe>REDUCE_FOCUS</FocusRecipe>
          <ObjectInGroup>true</ObjectInGroup>
          <ObjectRecipe>STANDARD_STAR</ObjectRecipe>
          <SkyInGroup>true</SkyInGroup>
          <SkyRecipe>REDUCE_SKY</SkyRecipe>
          <title>STANDARD_STAR</title>
        </SpDRRecipe>
        <SpIterFolder type="if" subtype="none">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <SpNote type="no" subtype="none">
            <meta_gui_collapsed>false</meta_gui_collapsed>
            <note>Use this iterator to adjust the exposure time, coadds and readout mode for your standard star observations. For integer exposure times greater than 1 second use ND_STARE, otherwise use STARE mode.</note>
            <title>This CGS4 iterator</title>
          </SpNote>
          <SpIterCGS4 type="ic" subtype="instCGS4">
            <meta_gui_collapsed>false</meta_gui_collapsed>
            <acqModeIter>STARE</acqModeIter>
            <coaddsIter>1</coaddsIter>
            <exposureTimeIter>1</exposureTimeIter>
            <iterConfigList>
              <value>exposureTimeIter</value>
              <value>coaddsIter</value>
              <value>acqModeIter</value>
            </iterConfigList>
          </SpIterCGS4>
          <SpIterRepeat type="ic" subtype="repeat">
            <meta_gui_collapsed>false</meta_gui_collapsed>
            <repeatCount>2</repeatCount>
            <title>Repeat 2X</title>
            <SpIterOffset type="ic" subtype="offset">
              <meta_gui_collapsed>false</meta_gui_collapsed>
              <meta_gui_selectedOffsetPos>Offset2</meta_gui_selectedOffsetPos>
              <obsArea>
                <PA>0.0</PA>
                <OFFSET>
                  <DC1>0.0</DC1>
                  <DC2>0.0</DC2>
                </OFFSET>
                <OFFSET>
                  <DC1>0.0</DC1>
                  <DC2>-11.74</DC2>
                </OFFSET>
                <OFFSET>
                  <DC1>0.0</DC1>
                  <DC2>-11.74</DC2>
                </OFFSET>
                <OFFSET>
                  <DC1>0.0</DC1>
                  <DC2>0.0</DC2>
                </OFFSET>
              </obsArea>
              <SpIterObserve type="ic" subtype="observe">
                <meta_gui_collapsed>false</meta_gui_collapsed>
                <repeatCount>1</repeatCount>
              </SpIterObserve>
            </SpIterOffset>
          </SpIterRepeat>
        </SpIterFolder>
      </SpObs>
      <SpObs msb="false" optional="false" remaining="1" type="ob" subtype="none">
        <meta_gui_collapsed>true</meta_gui_collapsed>
        <estimatedDuration units="seconds">6178.400000000001</estimatedDuration>
        <standard>false</standard>
        <title>Science Target</title>
        <SpNote type="no" subtype="none">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <note>This is the Science Target Observation.

This is the "Point source, nod along slit" science target. By default, it goes 11.74" along the slit. Edit the offset iterator containing the sky observations to change this. If you highlight the offset iterator whilst having the Target Information Plot window open, it will display the offset positions.</note>
          <title>Science Target</title>
        </SpNote>
        <SpNote type="no" subtype="none">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <note>This is the Science Target Observation. You should enter your science target coordinates here along with a guide star if necessary.</note>
          <title>Science Target Component</title>
        </SpNote>
        <SpTelescopeObsComp type="oc" subtype="targetList">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <meta_gui_selectedTelescopePos>Base</meta_gui_selectedTelescopePos>
          <meta_unique>true</meta_unique>
          <BASE TYPE="Base">
            <target>
              <targetName>Science target</targetName>
              <spherSystem SYSTEM="J2000">
                <c1>0:00:00</c1>
                <c2>0:00:00</c2>
              </spherSystem>
            </target>
          </BASE>
        </SpTelescopeObsComp>
        <SpDRRecipe type="oc" subtype="DRRecipe">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <meta_unique>true</meta_unique>
          <ArcInGroup>false</ArcInGroup>
          <ArcRecipe>REDUCE_ARC</ArcRecipe>
          <BiasInGroup>false</BiasInGroup>
          <BiasRecipe>REDUCE_BIAS</BiasRecipe>
          <DRRecipe>JITTER_SELF_FLAT</DRRecipe>
          <DarkInGroup>false</DarkInGroup>
          <DarkRecipe>REDUCE_DARK</DarkRecipe>
          <FlatInGroup>false</FlatInGroup>
          <FlatRecipe>REDUCE_FLAT</FlatRecipe>
          <FocusInGroup>false</FocusInGroup>
          <FocusRecipe>REDUCE_FOCUS</FocusRecipe>
          <ObjectInGroup>true</ObjectInGroup>
          <ObjectRecipe>POINT_SOURCE</ObjectRecipe>
          <SkyInGroup>false</SkyInGroup>
          <SkyRecipe>REDUCE_SKY</SkyRecipe>
          <title>POINT_SOURCE</title>
        </SpDRRecipe>
        <SpIterFolder type="if" subtype="none">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <SpIterRepeat type="ic" subtype="repeat">
            <meta_gui_collapsed>false</meta_gui_collapsed>
            <repeatCount>10</repeatCount>
            <title>Repeat 10X</title>
            <SpIterOffset type="ic" subtype="offset">
              <meta_gui_collapsed>false</meta_gui_collapsed>
              <meta_gui_selectedOffsetPos>Offset2</meta_gui_selectedOffsetPos>
              <obsArea>
                <PA>0.0</PA>
                <OFFSET>
                  <DC1>0.0</DC1>
                  <DC2>0.0</DC2>
                </OFFSET>
                <OFFSET>
                  <DC1>0.0</DC1>
                  <DC2>-11.74</DC2>
                </OFFSET>
                <OFFSET>
                  <DC1>0.0</DC1>
                  <DC2>-11.74</DC2>
                </OFFSET>
                <OFFSET>
                  <DC1>0.0</DC1>
                  <DC2>0.0</DC2>
                </OFFSET>
              </obsArea>
              <SpIterObserve type="ic" subtype="observe">
                <meta_gui_collapsed>false</meta_gui_collapsed>
                <repeatCount>1</repeatCount>
              </SpIterObserve>
            </SpIterOffset>
          </SpIterRepeat>
        </SpIterFolder>
      </SpObs>
    </SpMSB>
    <SpMSB remaining="1" type="og" subtype="msb">
      <meta_gui_collapsed>true</meta_gui_collapsed>
      <SpInstCGS4Ref idref="1"/>
      <SpTelescopeObsCompRef idref="0"/>
      <estimatedDuration units="seconds">6611.6</estimatedDuration>
      <library_version>$Revision$</library_version>
      <priority>99</priority>
      <title>Low res, point source, nod to blank sky</title>
      <totalDuration units="seconds">6789.08</totalDuration>
      <SpNote observeInstruction="true" type="no" subtype="none">
        <meta_gui_collapsed>false</meta_gui_collapsed>
        <note></note>
        <title>OBSERVER NOTES</title>
      </SpNote>
      <SpNote type="no" subtype="none">
        <meta_gui_collapsed>false</meta_gui_collapsed>
        <note>Specify your science target instrument configuration here. This is inherited into all the observations within this MSB. 

You can adjust details for the flat and arc within the flat and arc observe components. 

You can adjust the exposure time and coadds for the standard star using the CGS4 iterator component in the standard star observation.

NB: Use ND_STARE mode for integer exposure times greater than 1 second. Use STARE mode otherwise.</note>
        <title>This CGS4 component</title>
      </SpNote>
      <SpNote type="no" subtype="none">
        <meta_gui_collapsed>false</meta_gui_collapsed>
        <note>Enter your  STANDARD STAR co-ordinates below (this is so that the flat and arc are executed at the location of the standard).  

These coordinates will be inherited by the  three observations (flat and arc, standard star and target spectroscopy) UNLESS they are over-written by a Target component inside the observation.  Obviously, this should be the case for the science target.   .

Note - for the standard, you don't need to specify a guide star;  the telescope will know to guide on the standard itself.

</note>
        <title>Standard Star Target component</title>
      </SpNote>
      <SpTelescopeObsComp id="0" type="oc" subtype="targetList">
        <meta_gui_collapsed>false</meta_gui_collapsed>
        <meta_gui_selectedTelescopePos>Base</meta_gui_selectedTelescopePos>
        <meta_unique>true</meta_unique>
        <BASE TYPE="Base">
          <target>
            <targetName>Standard star</targetName>
            <spherSystem SYSTEM="J2000">
              <c1>0:00:00</c1>
              <c2>0:00:00</c2>
            </spherSystem>
          </target>
        </BASE>
      </SpTelescopeObsComp>
      <SpInstCGS4 id="1" type="oc" subtype="inst.CGS4">
        <meta_gui_collapsed>false</meta_gui_collapsed>
        <meta_unique>true</meta_unique>
        <meta_version>1.0</meta_version>
        <acqMode>NDSTARE</acqMode>
        <centralWavelength>2.1</centralWavelength>
        <coadds>1</coadds>
        <cvfOffset>0.0</cvfOffset>
        <cvfWavelength>2.1</cvfWavelength>
        <disperser>40lpmm</disperser>
        <exposureTime>35.0</exposureTime>
        <filter>B2</filter>
        <instAper>
          <value>-0.81</value>
          <value>12.32</value>
          <value>0.0</value>
          <value>2.1</value>
        </instAper>
        <instPntgOffset>
          <value>0.0</value>
          <value>0.0</value>
        </instPntgOffset>
        <instPort>South</instPort>
        <mask>1pixel</mask>
        <neutralDensity>false</neutralDensity>
        <order>1</order>
        <polariser>none</polariser>
        <posAngle>0.0</posAngle>
        <sampling>2x2</sampling>
        <sourceMag>8-9</sourceMag>
      </SpInstCGS4>
      <SpObs msb="false" optional="true" remaining="1" type="ob" subtype="none">
        <meta_gui_collapsed>true</meta_gui_collapsed>
        <estimatedDuration units="seconds">89.80000000000001</estimatedDuration>
        <standard>false</standard>
        <title>flat and an arc</title>
        <SpNote type="no" subtype="none">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <note>Simply takes a flat field and an arc lamp frame.

Will inherit the science target, so that the telescope orientation (and thus instrument flexure) will be the same in the flat and arc as in the science frames.

Will also inherit the CGS4 configuration from the component at the top of the MSB, thus guaranteeing that the correct config is used. Edit the exposure times and other details in the flat and arc observe components if necessary.

Be sure to hit the default button in the flat and arc editors if you change the configuration.

If your exposure times are less than 1 second or non-integers, yse STARE mode, otherwise use ND_STARE mode.</note>
          <title>Flat and Arc</title>
        </SpNote>
        <SpDRRecipe type="oc" subtype="DRRecipe">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <meta_unique>true</meta_unique>
          <ArcInGroup>false</ArcInGroup>
          <ArcRecipe>REDUCE_ARC</ArcRecipe>
          <BiasInGroup>false</BiasInGroup>
          <BiasRecipe>REDUCE_BIAS</BiasRecipe>
          <DarkInGroup>false</DarkInGroup>
          <DarkRecipe>REDUCE_DARK</DarkRecipe>
          <FlatInGroup>false</FlatInGroup>
          <FlatRecipe>REDUCE_FLAT</FlatRecipe>
          <FocusInGroup>false</FocusInGroup>
          <FocusRecipe>REDUCE_FOCUS</FocusRecipe>
          <ObjectInGroup>true</ObjectInGroup>
          <ObjectRecipe>REDUCE_SINGLE_FRAME</ObjectRecipe>
          <SkyInGroup>true</SkyInGroup>
          <SkyRecipe>REDUCE_SKY</SkyRecipe>
          <title>REDUCE_SINGLE_FRAME</title>
        </SpDRRecipe>
        <SpIterFolder type="if" subtype="none">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <SpIterCGS4CalObs type="ic" subtype="CGS4calUnitObs">
            <meta_gui_collapsed>false</meta_gui_collapsed>
            <acqMode>NDSTARE</acqMode>
            <calType>Flat</calType>
            <coadds>5</coadds>
            <cvfWavelength>2.1</cvfWavelength>
            <exposureTime>0.25</exposureTime>
            <filter>B2</filter>
            <flatSampling>AS_OBJECT</flatSampling>
            <lamp>Black Body (1.3)</lamp>
            <neutralDensity>false</neutralDensity>
            <repeatCount>1</repeatCount>
          </SpIterCGS4CalObs>
          <SpIterCGS4CalObs type="ic" subtype="CGS4calUnitObs">
            <meta_gui_collapsed>false</meta_gui_collapsed>
            <acqMode>NDSTARE</acqMode>
            <calType>Arc</calType>
            <coadds>5</coadds>
            <cvfWavelength>2.1</cvfWavelength>
            <exposureTime>0.5</exposureTime>
            <filter>B2</filter>
            <flatSampling>AS_OBJECT</flatSampling>
            <lamp>Argon Arc</lamp>
            <neutralDensity>false</neutralDensity>
            <repeatCount>1</repeatCount>
          </SpIterCGS4CalObs>
        </SpIterFolder>
      </SpObs>
      <SpObs msb="false" optional="true" remaining="1" type="ob" subtype="none">
        <meta_gui_collapsed>true</meta_gui_collapsed>
        <estimatedDuration units="seconds">87.68</estimatedDuration>
        <standard>true</standard>
        <title>standard star</title>
        <SpNote type="no" subtype="none">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <note>Takes a standard star observation.

Inherits the CGS4 component from above. Use the CGS4 itterator in the standard star sequence to specify the exposure time and coadds for the standard star.
</note>
          <title>Standard Star</title>
        </SpNote>
        <SpDRRecipe type="oc" subtype="DRRecipe">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <meta_unique>true</meta_unique>
          <ArcInGroup>false</ArcInGroup>
          <ArcRecipe>REDUCE_ARC</ArcRecipe>
          <BiasInGroup>false</BiasInGroup>
          <BiasRecipe>REDUCE_BIAS</BiasRecipe>
          <DRRecipe>JITTER_SELF_FLAT</DRRecipe>
          <DarkInGroup>false</DarkInGroup>
          <DarkRecipe>REDUCE_DARK</DarkRecipe>
          <FlatInGroup>false</FlatInGroup>
          <FlatRecipe>REDUCE_FLAT</FlatRecipe>
          <FocusInGroup>false</FocusInGroup>
          <FocusRecipe>REDUCE_FOCUS</FocusRecipe>
          <ObjectInGroup>true</ObjectInGroup>
          <ObjectRecipe>STANDARD_STAR</ObjectRecipe>
          <SkyInGroup>true</SkyInGroup>
          <SkyRecipe>REDUCE_SKY</SkyRecipe>
          <title>STANDARD_STAR</title>
        </SpDRRecipe>
        <SpIterFolder type="if" subtype="none">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <SpNote type="no" subtype="none">
            <meta_gui_collapsed>false</meta_gui_collapsed>
            <note>Use this iterator to adjust the exposure time, coadds and readout mode for your standard star observations. For integer exposure times greater than 1 second use ND_STARE, otherwise use STARE mode.</note>
            <title>This CGS4 iterator</title>
          </SpNote>
          <SpIterCGS4 type="ic" subtype="instCGS4">
            <meta_gui_collapsed>false</meta_gui_collapsed>
            <acqModeIter>STARE</acqModeIter>
            <coaddsIter>1</coaddsIter>
            <exposureTimeIter>1</exposureTimeIter>
            <iterConfigList>
              <value>exposureTimeIter</value>
              <value>coaddsIter</value>
              <value>acqModeIter</value>
            </iterConfigList>
          </SpIterCGS4>
          <SpIterRepeat type="ic" subtype="repeat">
            <meta_gui_collapsed>false</meta_gui_collapsed>
            <repeatCount>2</repeatCount>
            <title>Repeat 2X</title>
            <SpIterOffset type="ic" subtype="offset">
              <meta_gui_collapsed>false</meta_gui_collapsed>
              <meta_gui_selectedOffsetPos>Offset2</meta_gui_selectedOffsetPos>
              <obsArea>
                <PA>0.0</PA>
                <OFFSET>
                  <DC1>0.0</DC1>
                  <DC2>0.0</DC2>
                </OFFSET>
                <OFFSET>
                  <DC1>0.0</DC1>
                  <DC2>-11.74</DC2>
                </OFFSET>
                <OFFSET>
                  <DC1>0.0</DC1>
                  <DC2>-11.74</DC2>
                </OFFSET>
                <OFFSET>
                  <DC1>0.0</DC1>
                  <DC2>0.0</DC2>
                </OFFSET>
              </obsArea>
              <SpIterObserve type="ic" subtype="observe">
                <meta_gui_collapsed>false</meta_gui_collapsed>
                <repeatCount>1</repeatCount>
              </SpIterObserve>
            </SpIterOffset>
          </SpIterRepeat>
        </SpIterFolder>
      </SpObs>
      <SpObs msb="false" optional="false" remaining="1" type="ob" subtype="none">
        <meta_gui_collapsed>true</meta_gui_collapsed>
        <estimatedDuration units="seconds">6131.6</estimatedDuration>
        <standard>false</standard>
        <title>Science Target</title>
        <SpNote type="no" subtype="none">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <note>This is the Science Target Observation.

This is the "Point source, nod to blank sky" science target. By default, it goes 60" perpendicular to the slit. Edit the offset iterator containing the sky observations to change this. If you highlight the offset iterator whilst having the Target Information Plot window open, it will display the offset positions.</note>
          <title>Science Target</title>
        </SpNote>
        <SpNote type="no" subtype="none">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <note>This is the Science Target Observation. You should enter your science target coordinates here along with a guide star if necessary.</note>
          <title>Target information</title>
        </SpNote>
        <SpTelescopeObsComp type="oc" subtype="targetList">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <meta_gui_selectedTelescopePos>Base</meta_gui_selectedTelescopePos>
          <meta_unique>true</meta_unique>
          <BASE TYPE="Base">
            <target>
              <targetName>Science target</targetName>
              <spherSystem SYSTEM="J2000">
                <c1>0:00:00</c1>
                <c2>0:00:00</c2>
              </spherSystem>
            </target>
          </BASE>
        </SpTelescopeObsComp>
        <SpDRRecipe type="oc" subtype="DRRecipe">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <meta_unique>true</meta_unique>
          <ArcInGroup>false</ArcInGroup>
          <ArcRecipe>REDUCE_ARC</ArcRecipe>
          <BiasInGroup>false</BiasInGroup>
          <BiasRecipe>REDUCE_BIAS</BiasRecipe>
          <DRRecipe>JITTER_SELF_FLAT</DRRecipe>
          <DarkInGroup>false</DarkInGroup>
          <DarkRecipe>REDUCE_DARK</DarkRecipe>
          <FlatInGroup>false</FlatInGroup>
          <FlatRecipe>REDUCE_FLAT</FlatRecipe>
          <FocusInGroup>false</FocusInGroup>
          <FocusRecipe>REDUCE_FOCUS</FocusRecipe>
          <ObjectInGroup>true</ObjectInGroup>
          <ObjectRecipe>POINT_SOURCE</ObjectRecipe>
          <SkyInGroup>true</SkyInGroup>
          <SkyRecipe>POINT_SOURCE</SkyRecipe>
          <title>POINT_SOURCE</title>
        </SpDRRecipe>
        <SpIterFolder type="if" subtype="none">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <SpIterRepeat type="ic" subtype="repeat">
            <meta_gui_collapsed>false</meta_gui_collapsed>
            <repeatCount>10</repeatCount>
            <title>Repeat 10X</title>
            <SpIterOffset type="ic" subtype="offset">
              <meta_gui_collapsed>false</meta_gui_collapsed>
              <meta_gui_selectedOffsetPos>Offset0</meta_gui_selectedOffsetPos>
              <obsArea>
                <PA>0.0</PA>
                <OFFSET>
                  <DC1>0.0</DC1>
                  <DC2>0.0</DC2>
                </OFFSET>
              </obsArea>
              <SpIterObserve type="ic" subtype="observe">
                <meta_gui_collapsed>false</meta_gui_collapsed>
                <repeatCount>1</repeatCount>
              </SpIterObserve>
            </SpIterOffset>
            <SpIterOffset type="ic" subtype="offset">
              <meta_gui_collapsed>false</meta_gui_collapsed>
              <meta_gui_selectedOffsetPos>Offset0</meta_gui_selectedOffsetPos>
              <obsArea>
                <PA>0.0</PA>
                <OFFSET>
                  <DC1>60.0</DC1>
                  <DC2>0.0</DC2>
                </OFFSET>
              </obsArea>
              <SpIterSky type="ic" subtype="sky">
                <meta_gui_collapsed>false</meta_gui_collapsed>
                <repeatCount>2</repeatCount>
              </SpIterSky>
            </SpIterOffset>
            <SpIterOffset type="ic" subtype="offset">
              <meta_gui_collapsed>false</meta_gui_collapsed>
              <meta_gui_selectedOffsetPos>Offset0</meta_gui_selectedOffsetPos>
              <obsArea>
                <PA>0.0</PA>
                <OFFSET>
                  <DC1>0.0</DC1>
                  <DC2>0.0</DC2>
                </OFFSET>
              </obsArea>
              <SpIterObserve type="ic" subtype="observe">
                <meta_gui_collapsed>false</meta_gui_collapsed>
                <repeatCount>1</repeatCount>
              </SpIterObserve>
            </SpIterOffset>
          </SpIterRepeat>
        </SpIterFolder>
      </SpObs>
    </SpMSB>
    <SpMSB remaining="1" type="og" subtype="msb">
      <meta_gui_collapsed>true</meta_gui_collapsed>
      <SpInstCGS4Ref idref="1"/>
      <SpTelescopeObsCompRef idref="0"/>
      <estimatedDuration units="seconds">6611.6</estimatedDuration>
      <library_version>$Revision$</library_version>
      <priority>99</priority>
      <title>Low res, extended source, nod to blank sky</title>
      <totalDuration units="seconds">6789.08</totalDuration>
      <SpNote observeInstruction="true" type="no" subtype="none">
        <meta_gui_collapsed>false</meta_gui_collapsed>
        <note></note>
        <title>OBSERVER NOTES</title>
      </SpNote>
      <SpNote type="no" subtype="none">
        <meta_gui_collapsed>false</meta_gui_collapsed>
        <note>Specify your science target instrument configuration here. This is inherited into all the observations within this MSB. 

You can adjust details for the flat and arc within the flat and arc observe components. 

You can adjust the exposure time and coadds for the standard star using the CGS4 iterator component in the standard star observation.

NB: Use ND_STARE mode for integer exposure times greater than 1 second. Use STARE mode otherwise.</note>
        <title>This CGS4 component</title>
      </SpNote>
      <SpInstCGS4 id="1" type="oc" subtype="inst.CGS4">
        <meta_gui_collapsed>false</meta_gui_collapsed>
        <meta_unique>true</meta_unique>
        <meta_version>1.0</meta_version>
        <acqMode>NDSTARE</acqMode>
        <centralWavelength>2.1</centralWavelength>
        <coadds>1</coadds>
        <cvfOffset>0.0</cvfOffset>
        <cvfWavelength>2.1</cvfWavelength>
        <disperser>40lpmm</disperser>
        <exposureTime>35.0</exposureTime>
        <filter>B2</filter>
        <instAper>
          <value>-0.81</value>
          <value>12.32</value>
          <value>0.0</value>
          <value>2.1</value>
        </instAper>
        <instPntgOffset>
          <value>0.0</value>
          <value>0.0</value>
        </instPntgOffset>
        <instPort>South</instPort>
        <mask>1pixel</mask>
        <neutralDensity>false</neutralDensity>
        <order>1</order>
        <polariser>none</polariser>
        <posAngle>0.0</posAngle>
        <sampling>2x2</sampling>
        <sourceMag>8-9</sourceMag>
      </SpInstCGS4>
      <SpNote type="no" subtype="none">
        <meta_gui_collapsed>false</meta_gui_collapsed>
        <note>Enter your  STANDARD STAR co-ordinates below (this is so that the flat and arc are executed at the location of the standard).  

These coordinates will be inherited by the  three observations (flat and arc, standard star and target spectroscopy) UNLESS they are over-written by a Target component inside the observation.  Obviously, this should be the case for the science target.   .

Note - for the standard, you don't need to specify a guide star;  the telescope will know to guide on the standard itself.

</note>
        <title>Standard Star Target component</title>
      </SpNote>
      <SpTelescopeObsComp id="0" type="oc" subtype="targetList">
        <meta_gui_collapsed>false</meta_gui_collapsed>
        <meta_gui_selectedTelescopePos>Base</meta_gui_selectedTelescopePos>
        <meta_unique>true</meta_unique>
        <BASE TYPE="Base">
          <target>
            <targetName>Standard star</targetName>
            <spherSystem SYSTEM="J2000">
              <c1>0:00:00</c1>
              <c2>0:00:00</c2>
            </spherSystem>
          </target>
        </BASE>
      </SpTelescopeObsComp>
      <SpObs msb="false" optional="true" remaining="1" type="ob" subtype="none">
        <meta_gui_collapsed>true</meta_gui_collapsed>
        <estimatedDuration units="seconds">89.80000000000001</estimatedDuration>
        <standard>false</standard>
        <title>flat and an arc</title>
        <SpNote type="no" subtype="none">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <note>Simply takes a flat field and an arc lamp frame.

Will inherit the science target, so that the telescope orientation (and thus instrument flexure) will be the same in the flat and arc as in the science frames.

Will also inherit the CGS4 configuration from the component at the top of the MSB, thus guaranteeing that the correct config is used. Edit the exposure times and other details in the flat and arc observe components if necessary.

Be sure to hit the default button in the flat and arc editors if you change the configuration.

If your exposure times are less than 1 second or non-integers, yse STARE mode, otherwise use ND_STARE mode.</note>
          <title>Flat and Arc</title>
        </SpNote>
        <SpDRRecipe type="oc" subtype="DRRecipe">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <meta_unique>true</meta_unique>
          <ArcInGroup>false</ArcInGroup>
          <ArcRecipe>REDUCE_ARC</ArcRecipe>
          <BiasInGroup>false</BiasInGroup>
          <BiasRecipe>REDUCE_BIAS</BiasRecipe>
          <DarkInGroup>false</DarkInGroup>
          <DarkRecipe>REDUCE_DARK</DarkRecipe>
          <FlatInGroup>false</FlatInGroup>
          <FlatRecipe>REDUCE_FLAT</FlatRecipe>
          <FocusInGroup>false</FocusInGroup>
          <FocusRecipe>REDUCE_FOCUS</FocusRecipe>
          <ObjectInGroup>true</ObjectInGroup>
          <ObjectRecipe>REDUCE_SINGLE_FRAME</ObjectRecipe>
          <SkyInGroup>true</SkyInGroup>
          <SkyRecipe>REDUCE_SKY</SkyRecipe>
          <title>REDUCE_SINGLE_FRAME</title>
        </SpDRRecipe>
        <SpIterFolder type="if" subtype="none">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <SpIterCGS4CalObs type="ic" subtype="CGS4calUnitObs">
            <meta_gui_collapsed>false</meta_gui_collapsed>
            <acqMode>NDSTARE</acqMode>
            <calType>Flat</calType>
            <coadds>5</coadds>
            <cvfWavelength>2.1</cvfWavelength>
            <exposureTime>0.25</exposureTime>
            <filter>B2</filter>
            <flatSampling>AS_OBJECT</flatSampling>
            <lamp>Black Body (1.3)</lamp>
            <neutralDensity>false</neutralDensity>
            <repeatCount>1</repeatCount>
          </SpIterCGS4CalObs>
          <SpIterCGS4CalObs type="ic" subtype="CGS4calUnitObs">
            <meta_gui_collapsed>false</meta_gui_collapsed>
            <acqMode>NDSTARE</acqMode>
            <calType>Arc</calType>
            <coadds>5</coadds>
            <cvfWavelength>2.1</cvfWavelength>
            <exposureTime>0.5</exposureTime>
            <filter>B2</filter>
            <flatSampling>AS_OBJECT</flatSampling>
            <lamp>Argon Arc</lamp>
            <neutralDensity>false</neutralDensity>
            <repeatCount>1</repeatCount>
          </SpIterCGS4CalObs>
        </SpIterFolder>
      </SpObs>
      <SpObs msb="false" optional="true" remaining="1" type="ob" subtype="none">
        <meta_gui_collapsed>true</meta_gui_collapsed>
        <estimatedDuration units="seconds">87.68</estimatedDuration>
        <standard>true</standard>
        <title>standard star</title>
        <SpNote type="no" subtype="none">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <note>Takes a standard star observation.

Inherits the CGS4 component from above. Use the CGS4 itterator in the standard star sequence to specify the exposure time and coadds for the standard star.
</note>
          <title>Standard Star</title>
        </SpNote>
        <SpDRRecipe type="oc" subtype="DRRecipe">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <meta_unique>true</meta_unique>
          <ArcInGroup>false</ArcInGroup>
          <ArcRecipe>REDUCE_ARC</ArcRecipe>
          <BiasInGroup>false</BiasInGroup>
          <BiasRecipe>REDUCE_BIAS</BiasRecipe>
          <DRRecipe>JITTER_SELF_FLAT</DRRecipe>
          <DarkInGroup>false</DarkInGroup>
          <DarkRecipe>REDUCE_DARK</DarkRecipe>
          <FlatInGroup>false</FlatInGroup>
          <FlatRecipe>REDUCE_FLAT</FlatRecipe>
          <FocusInGroup>false</FocusInGroup>
          <FocusRecipe>REDUCE_FOCUS</FocusRecipe>
          <ObjectInGroup>true</ObjectInGroup>
          <ObjectRecipe>STANDARD_STAR</ObjectRecipe>
          <SkyInGroup>true</SkyInGroup>
          <SkyRecipe>REDUCE_SKY</SkyRecipe>
          <title>STANDARD_STAR</title>
        </SpDRRecipe>
        <SpIterFolder type="if" subtype="none">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <SpNote type="no" subtype="none">
            <meta_gui_collapsed>false</meta_gui_collapsed>
            <note>Use this iterator to adjust the exposure time, coadds and readout mode for your standard star observations. For integer exposure times greater than 1 second use ND_STARE, otherwise use STARE mode.</note>
            <title>This CGS4 iterator</title>
          </SpNote>
          <SpIterCGS4 type="ic" subtype="instCGS4">
            <meta_gui_collapsed>false</meta_gui_collapsed>
            <acqModeIter>STARE</acqModeIter>
            <coaddsIter>1</coaddsIter>
            <exposureTimeIter>1</exposureTimeIter>
            <iterConfigList>
              <value>exposureTimeIter</value>
              <value>coaddsIter</value>
              <value>acqModeIter</value>
            </iterConfigList>
          </SpIterCGS4>
          <SpIterRepeat type="ic" subtype="repeat">
            <meta_gui_collapsed>false</meta_gui_collapsed>
            <repeatCount>2</repeatCount>
            <title>Repeat 2X</title>
            <SpIterOffset type="ic" subtype="offset">
              <meta_gui_collapsed>false</meta_gui_collapsed>
              <meta_gui_selectedOffsetPos>Offset2</meta_gui_selectedOffsetPos>
              <obsArea>
                <PA>0.0</PA>
                <OFFSET>
                  <DC1>0.0</DC1>
                  <DC2>0.0</DC2>
                </OFFSET>
                <OFFSET>
                  <DC1>0.0</DC1>
                  <DC2>-11.74</DC2>
                </OFFSET>
                <OFFSET>
                  <DC1>0.0</DC1>
                  <DC2>-11.74</DC2>
                </OFFSET>
                <OFFSET>
                  <DC1>0.0</DC1>
                  <DC2>0.0</DC2>
                </OFFSET>
              </obsArea>
              <SpIterObserve type="ic" subtype="observe">
                <meta_gui_collapsed>false</meta_gui_collapsed>
                <repeatCount>1</repeatCount>
              </SpIterObserve>
            </SpIterOffset>
          </SpIterRepeat>
        </SpIterFolder>
      </SpObs>
      <SpObs msb="false" optional="false" remaining="1" type="ob" subtype="none">
        <meta_gui_collapsed>true</meta_gui_collapsed>
        <estimatedDuration units="seconds">6131.6</estimatedDuration>
        <standard>false</standard>
        <title>Science Target</title>
        <SpNote type="no" subtype="none">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <note>This is the Science Target Observation.

This is the "Extended source, nod to blank sky" science target. By default, it goes 60" perpendicular to the slit. Edit the offset iterator containing the sky observations to change this. If you highlight the offset iterator whilst having the Target Information Plot window open, it will display the offset positions.</note>
          <title>Science Target Component</title>
        </SpNote>
        <SpNote type="no" subtype="none">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <note>This is the Science Target Observation. You should enter your science target coordinates here along with a guide star if necessary.</note>
          <title>Target information</title>
        </SpNote>
        <SpTelescopeObsComp type="oc" subtype="targetList">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <meta_gui_selectedTelescopePos>Base</meta_gui_selectedTelescopePos>
          <meta_unique>true</meta_unique>
          <BASE TYPE="Base">
            <target>
              <targetName>Science target</targetName>
              <spherSystem SYSTEM="J2000">
                <c1>0:00:00</c1>
                <c2>0:00:00</c2>
              </spherSystem>
            </target>
          </BASE>
        </SpTelescopeObsComp>
        <SpDRRecipe type="oc" subtype="DRRecipe">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <meta_unique>true</meta_unique>
          <ArcInGroup>false</ArcInGroup>
          <ArcRecipe>REDUCE_ARC</ArcRecipe>
          <BiasInGroup>false</BiasInGroup>
          <BiasRecipe>REDUCE_BIAS</BiasRecipe>
          <DRRecipe>JITTER_SELF_FLAT</DRRecipe>
          <DarkInGroup>false</DarkInGroup>
          <DarkRecipe>REDUCE_DARK</DarkRecipe>
          <FlatInGroup>false</FlatInGroup>
          <FlatRecipe>REDUCE_FLAT</FlatRecipe>
          <FocusInGroup>false</FocusInGroup>
          <FocusRecipe>REDUCE_FOCUS</FocusRecipe>
          <ObjectInGroup>true</ObjectInGroup>
          <ObjectRecipe>EXTENDED_SOURCE</ObjectRecipe>
          <SkyInGroup>true</SkyInGroup>
          <SkyRecipe>EXTENDED_SOURCE</SkyRecipe>
          <title>EXTENDED_SOURCE</title>
        </SpDRRecipe>
        <SpIterFolder type="if" subtype="none">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <SpIterRepeat type="ic" subtype="repeat">
            <meta_gui_collapsed>false</meta_gui_collapsed>
            <repeatCount>10</repeatCount>
            <title>Repeat 10X</title>
            <SpIterOffset type="ic" subtype="offset">
              <meta_gui_collapsed>false</meta_gui_collapsed>
              <meta_gui_selectedOffsetPos>Offset0</meta_gui_selectedOffsetPos>
              <obsArea>
                <PA>0.0</PA>
                <OFFSET>
                  <DC1>0.0</DC1>
                  <DC2>0.0</DC2>
                </OFFSET>
              </obsArea>
              <SpIterObserve type="ic" subtype="observe">
                <meta_gui_collapsed>false</meta_gui_collapsed>
                <repeatCount>1</repeatCount>
              </SpIterObserve>
            </SpIterOffset>
            <SpIterOffset type="ic" subtype="offset">
              <meta_gui_collapsed>false</meta_gui_collapsed>
              <meta_gui_selectedOffsetPos>Offset0</meta_gui_selectedOffsetPos>
              <obsArea>
                <PA>0.0</PA>
                <OFFSET>
                  <DC1>60.0</DC1>
                  <DC2>0.0</DC2>
                </OFFSET>
              </obsArea>
              <SpIterSky type="ic" subtype="sky">
                <meta_gui_collapsed>false</meta_gui_collapsed>
                <repeatCount>2</repeatCount>
              </SpIterSky>
            </SpIterOffset>
            <SpIterOffset type="ic" subtype="offset">
              <meta_gui_collapsed>false</meta_gui_collapsed>
              <meta_gui_selectedOffsetPos>Offset0</meta_gui_selectedOffsetPos>
              <obsArea>
                <PA>0.0</PA>
                <OFFSET>
                  <DC1>0.0</DC1>
                  <DC2>0.0</DC2>
                </OFFSET>
              </obsArea>
              <SpIterObserve type="ic" subtype="observe">
                <meta_gui_collapsed>false</meta_gui_collapsed>
                <repeatCount>1</repeatCount>
              </SpIterObserve>
            </SpIterOffset>
          </SpIterRepeat>
        </SpIterFolder>
      </SpObs>
    </SpMSB>
    <SpMSB remaining="1" type="og" subtype="msb">
      <meta_gui_collapsed>true</meta_gui_collapsed>
      <SpInstCGS4Ref idref="1"/>
      <SpTelescopeObsCompRef idref="0"/>
      <estimatedDuration units="seconds">14338.400000000014</estimatedDuration>
      <library_version>$Revision$</library_version>
      <priority>99</priority>
      <title>Echelle, point source, nod along slit</title>
      <totalDuration units="seconds">14525.880000000014</totalDuration>
      <SpNote observeInstruction="true" type="no" subtype="none">
        <meta_gui_collapsed>false</meta_gui_collapsed>
        <note></note>
        <title>OBSERVER NOTES</title>
      </SpNote>
      <SpNote type="no" subtype="none">
        <meta_gui_collapsed>false</meta_gui_collapsed>
        <note>Specify your science target instrument configuration here. This is inherited into all the observations within this MSB. 

You can adjust details for the flat and arc within the flat and arc observe components. 

You can adjust the exposure time and coadds for the standard star using the CGS4 iterator component in the standard star observation.

NB: Use ND_STARE mode for integer exposure times greater than 1 second. Use STARE mode otherwise.</note>
        <title>This CGS4 component</title>
      </SpNote>
      <SpInstCGS4 id="1" type="oc" subtype="inst.CGS4">
        <meta_gui_collapsed>false</meta_gui_collapsed>
        <meta_unique>true</meta_unique>
        <meta_version>1.0</meta_version>
        <acqMode>NDSTARE</acqMode>
        <centralWavelength>2.1</centralWavelength>
        <coadds>1</coadds>
        <cvfOffset>0.0</cvfOffset>
        <cvfWavelength>2.1</cvfWavelength>
        <disperser>echelle</disperser>
        <exposureTime>83.0</exposureTime>
        <filter>open</filter>
        <instAper>
          <value>-10.98</value>
          <value>-5.26</value>
          <value>0.0</value>
          <value>2.1</value>
        </instAper>
        <instPntgOffset>
          <value>0.0</value>
          <value>0.0</value>
        </instPntgOffset>
        <instPort>South</instPort>
        <mask>1pixel</mask>
        <neutralDensity>false</neutralDensity>
        <order>26</order>
        <polariser>none</polariser>
        <posAngle>0.0</posAngle>
        <sampling>2x2</sampling>
        <sourceMag>8-9</sourceMag>
      </SpInstCGS4>
      <SpNote type="no" subtype="none">
        <meta_gui_collapsed>false</meta_gui_collapsed>
        <note>Enter your  STANDARD STAR co-ordinates below (this is so that the flat and arc are executed at the location of the standard).  

These coordinates will be inherited by the  three observations (flat and arc, standard star and target spectroscopy) UNLESS they are over-written by a Target component inside the observation.  Obviously, this should be the case for the science target.   .

Note - for the standard, you don't need to specify a guide star;  the telescope will know to guide on the standard itself.

</note>
        <title>Standard Star Target component</title>
      </SpNote>
      <SpTelescopeObsComp id="0" type="oc" subtype="targetList">
        <meta_gui_collapsed>false</meta_gui_collapsed>
        <meta_gui_selectedTelescopePos>Base</meta_gui_selectedTelescopePos>
        <meta_unique>true</meta_unique>
        <BASE TYPE="Base">
          <target>
            <targetName>Standard star</targetName>
            <spherSystem SYSTEM="J2000">
              <c1>0:00:00</c1>
              <c2>0:00:00</c2>
            </spherSystem>
          </target>
        </BASE>
      </SpTelescopeObsComp>
      <SpObs msb="false" optional="true" remaining="1" type="ob" subtype="none">
        <meta_gui_collapsed>true</meta_gui_collapsed>
        <estimatedDuration units="seconds">99.80000000000001</estimatedDuration>
        <standard>false</standard>
        <title>flat and an arc</title>
        <SpNote type="no" subtype="none">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <note>Simply takes a flat field and an arc lamp frame.

Will inherit the standard target, so that the telescope orientation (and thus instrument flexure) will be the same in the flat and arc as in the standard starframes.

Will also inherit the CGS4 configuration from the component at the top of the MSB, thus guaranteeing that the correct config is used. Edit the exposure times and other details in the flat and arc observe components if necessary.

Be sure to hit the default button in the flat and arc editors if you change the configuration.

If your exposure times are less than 1 second or non-integers, yse STARE mode, otherwise use ND_STARE mode.</note>
          <title>Flat and Arc</title>
        </SpNote>
        <SpDRRecipe type="oc" subtype="DRRecipe">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <meta_unique>true</meta_unique>
          <ArcInGroup>false</ArcInGroup>
          <ArcRecipe>REDUCE_ARC</ArcRecipe>
          <BiasInGroup>false</BiasInGroup>
          <BiasRecipe>REDUCE_BIAS</BiasRecipe>
          <DarkInGroup>false</DarkInGroup>
          <DarkRecipe>REDUCE_DARK</DarkRecipe>
          <FlatInGroup>false</FlatInGroup>
          <FlatRecipe>REDUCE_FLAT</FlatRecipe>
          <FocusInGroup>false</FocusInGroup>
          <FocusRecipe>REDUCE_FOCUS</FocusRecipe>
          <ObjectInGroup>true</ObjectInGroup>
          <ObjectRecipe>REDUCE_SINGLE_FRAME</ObjectRecipe>
          <SkyInGroup>true</SkyInGroup>
          <SkyRecipe>REDUCE_SKY</SkyRecipe>
          <title>REDUCE_SINGLE_FRAME</title>
        </SpDRRecipe>
        <SpIterFolder type="if" subtype="none">
          <meta_gui_collapsed>true</meta_gui_collapsed>
          <SpIterCGS4CalObs type="ic" subtype="CGS4calUnitObs">
            <meta_gui_collapsed>false</meta_gui_collapsed>
            <acqMode>NDSTARE</acqMode>
            <calType>Flat</calType>
            <coadds>5</coadds>
            <cvfWavelength>2.1</cvfWavelength>
            <exposureTime>0.25</exposureTime>
            <filter>open</filter>
            <flatSampling>AS_OBJECT</flatSampling>
            <lamp>Black Body (3.2)</lamp>
            <neutralDensity>false</neutralDensity>
            <repeatCount>1</repeatCount>
          </SpIterCGS4CalObs>
          <SpIterCGS4CalObs type="ic" subtype="CGS4calUnitObs">
            <meta_gui_collapsed>false</meta_gui_collapsed>
            <acqMode>NDSTARE</acqMode>
            <calType>Arc</calType>
            <coadds>5</coadds>
            <cvfWavelength>2.1</cvfWavelength>
            <exposureTime>1.0</exposureTime>
            <filter>open</filter>
            <flatSampling>AS_OBJECT</flatSampling>
            <lamp>Argon Arc</lamp>
            <neutralDensity>false</neutralDensity>
            <repeatCount>1</repeatCount>
          </SpIterCGS4CalObs>
        </SpIterFolder>
      </SpObs>
      <SpObs msb="false" optional="true" remaining="1" type="ob" subtype="none">
        <meta_gui_collapsed>true</meta_gui_collapsed>
        <estimatedDuration units="seconds">87.68</estimatedDuration>
        <standard>true</standard>
        <title>standard star</title>
        <SpNote type="no" subtype="none">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <note>Takes a standard star observation.

Inherits the CGS4 component from above. Use the CGS4 itterator in the standard star sequence to specify the exposure time and coadds for the standard star.
</note>
          <title>Standard Star</title>
        </SpNote>
        <SpDRRecipe type="oc" subtype="DRRecipe">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <meta_unique>true</meta_unique>
          <ArcInGroup>false</ArcInGroup>
          <ArcRecipe>REDUCE_ARC</ArcRecipe>
          <BiasInGroup>false</BiasInGroup>
          <BiasRecipe>REDUCE_BIAS</BiasRecipe>
          <DRRecipe>JITTER_SELF_FLAT</DRRecipe>
          <DarkInGroup>false</DarkInGroup>
          <DarkRecipe>REDUCE_DARK</DarkRecipe>
          <FlatInGroup>false</FlatInGroup>
          <FlatRecipe>REDUCE_FLAT</FlatRecipe>
          <FocusInGroup>false</FocusInGroup>
          <FocusRecipe>REDUCE_FOCUS</FocusRecipe>
          <ObjectInGroup>true</ObjectInGroup>
          <ObjectRecipe>STANDARD_STAR</ObjectRecipe>
          <SkyInGroup>true</SkyInGroup>
          <SkyRecipe>REDUCE_SKY</SkyRecipe>
          <title>STANDARD_STAR</title>
        </SpDRRecipe>
        <SpIterFolder type="if" subtype="none">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <SpNote type="no" subtype="none">
            <meta_gui_collapsed>false</meta_gui_collapsed>
            <note>Use this iterator to adjust the exposure time, coadds and readout mode for your standard star observations. For integer exposure times greater than 1 second use ND_STARE, otherwise use STARE mode.</note>
            <title>This CGS4 iterator</title>
          </SpNote>
          <SpIterCGS4 type="ic" subtype="instCGS4">
            <meta_gui_collapsed>false</meta_gui_collapsed>
            <acqModeIter>STARE</acqModeIter>
            <coaddsIter>1</coaddsIter>
            <exposureTimeIter>1</exposureTimeIter>
            <iterConfigList>
              <value>exposureTimeIter</value>
              <value>coaddsIter</value>
              <value>acqModeIter</value>
            </iterConfigList>
          </SpIterCGS4>
          <SpIterRepeat type="ic" subtype="repeat">
            <meta_gui_collapsed>false</meta_gui_collapsed>
            <repeatCount>2</repeatCount>
            <title>Repeat 2X</title>
            <SpIterOffset type="ic" subtype="offset">
              <meta_gui_collapsed>false</meta_gui_collapsed>
              <meta_gui_selectedOffsetPos>Offset2</meta_gui_selectedOffsetPos>
              <obsArea>
                <PA>0.0</PA>
                <OFFSET>
                  <DC1>0.0</DC1>
                  <DC2>0.0</DC2>
                </OFFSET>
                <OFFSET>
                  <DC1>0.0</DC1>
                  <DC2>-11.74</DC2>
                </OFFSET>
                <OFFSET>
                  <DC1>0.0</DC1>
                  <DC2>-11.74</DC2>
                </OFFSET>
                <OFFSET>
                  <DC1>0.0</DC1>
                  <DC2>0.0</DC2>
                </OFFSET>
              </obsArea>
              <SpIterObserve type="ic" subtype="observe">
                <meta_gui_collapsed>false</meta_gui_collapsed>
                <repeatCount>1</repeatCount>
              </SpIterObserve>
            </SpIterOffset>
          </SpIterRepeat>
        </SpIterFolder>
      </SpObs>
      <SpObs msb="false" optional="false" remaining="1" type="ob" subtype="none">
        <meta_gui_collapsed>true</meta_gui_collapsed>
        <estimatedDuration units="seconds">13858.400000000014</estimatedDuration>
        <standard>false</standard>
        <title>Science Target</title>
        <SpNote type="no" subtype="none">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <note>This is the Science Target Observation.

This is the "Point source, nod along slit" science target. By default, it goes 11.74" along the slit. Edit the offset iterator containing the sky observations to change this. If you highlight the offset iterator whilst having the Target Information Plot window open, it will display the offset positions.</note>
          <title>Science Target</title>
        </SpNote>
        <SpNote type="no" subtype="none">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <note>This is the Science Target Observation. You should enter your science target coordinates here along with a guide star if necessary.</note>
          <title>Science Target Component</title>
        </SpNote>
        <SpTelescopeObsComp type="oc" subtype="targetList">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <meta_gui_selectedTelescopePos>Base</meta_gui_selectedTelescopePos>
          <meta_unique>true</meta_unique>
          <BASE TYPE="Base">
            <target>
              <targetName>Science target</targetName>
              <spherSystem SYSTEM="J2000">
                <c1>0:00:00</c1>
                <c2>0:00:00</c2>
              </spherSystem>
            </target>
          </BASE>
        </SpTelescopeObsComp>
        <SpDRRecipe type="oc" subtype="DRRecipe">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <meta_unique>true</meta_unique>
          <ArcInGroup>false</ArcInGroup>
          <ArcRecipe>REDUCE_ARC</ArcRecipe>
          <BiasInGroup>false</BiasInGroup>
          <BiasRecipe>REDUCE_BIAS</BiasRecipe>
          <DRRecipe>JITTER_SELF_FLAT</DRRecipe>
          <DarkInGroup>false</DarkInGroup>
          <DarkRecipe>REDUCE_DARK</DarkRecipe>
          <FlatInGroup>false</FlatInGroup>
          <FlatRecipe>REDUCE_FLAT</FlatRecipe>
          <FocusInGroup>false</FocusInGroup>
          <FocusRecipe>REDUCE_FOCUS</FocusRecipe>
          <ObjectInGroup>true</ObjectInGroup>
          <ObjectRecipe>POINT_SOURCE</ObjectRecipe>
          <SkyInGroup>false</SkyInGroup>
          <SkyRecipe>REDUCE_SKY</SkyRecipe>
          <title>POINT_SOURCE</title>
        </SpDRRecipe>
        <SpIterFolder type="if" subtype="none">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <SpIterRepeat type="ic" subtype="repeat">
            <meta_gui_collapsed>false</meta_gui_collapsed>
            <repeatCount>10</repeatCount>
            <title>Repeat 10X</title>
            <SpIterOffset type="ic" subtype="offset">
              <meta_gui_collapsed>false</meta_gui_collapsed>
              <meta_gui_selectedOffsetPos>Offset2</meta_gui_selectedOffsetPos>
              <obsArea>
                <PA>0.0</PA>
                <OFFSET>
                  <DC1>0.0</DC1>
                  <DC2>0.0</DC2>
                </OFFSET>
                <OFFSET>
                  <DC1>0.0</DC1>
                  <DC2>-11.74</DC2>
                </OFFSET>
                <OFFSET>
                  <DC1>0.0</DC1>
                  <DC2>-11.74</DC2>
                </OFFSET>
                <OFFSET>
                  <DC1>0.0</DC1>
                  <DC2>0.0</DC2>
                </OFFSET>
              </obsArea>
              <SpIterObserve type="ic" subtype="observe">
                <meta_gui_collapsed>false</meta_gui_collapsed>
                <repeatCount>1</repeatCount>
              </SpIterObserve>
            </SpIterOffset>
          </SpIterRepeat>
        </SpIterFolder>
      </SpObs>
    </SpMSB>
    <SpMSB remaining="1" type="og" subtype="msb">
      <meta_gui_collapsed>true</meta_gui_collapsed>
      <SpInstCGS4Ref idref="1"/>
      <SpTelescopeObsCompRef idref="0"/>
      <estimatedDuration units="seconds">14291.600000000013</estimatedDuration>
      <library_version>$Revision$</library_version>
      <priority>99</priority>
      <title>Echelle, point source, nod to blank sky</title>
      <totalDuration units="seconds">14479.080000000013</totalDuration>
      <SpNote observeInstruction="true" type="no" subtype="none">
        <meta_gui_collapsed>false</meta_gui_collapsed>
        <note></note>
        <title>OBSERVER NOTES</title>
      </SpNote>
      <SpNote type="no" subtype="none">
        <meta_gui_collapsed>false</meta_gui_collapsed>
        <note>Specify your science target instrument configuration here. This is inherited into all the observations within this MSB. 

You can adjust details for the flat and arc within the flat and arc observe components. 

You can adjust the exposure time and coadds for the standard star using the CGS4 iterator component in the standard star observation.

NB: Use ND_STARE mode for integer exposure times greater than 1 second. Use STARE mode otherwise.</note>
        <title>This CGS4 component</title>
      </SpNote>
      <SpNote type="no" subtype="none">
        <meta_gui_collapsed>false</meta_gui_collapsed>
        <note>Enter your  STANDARD STAR co-ordinates below (this is so that the flat and arc are executed at the location of the standard).  

These coordinates will be inherited by the  three observations (flat and arc, standard star and target spectroscopy) UNLESS they are over-written by a Target component inside the observation.  Obviously, this should be the case for the science target.   .

Note - for the standard, you don't need to specify a guide star;  the telescope will know to guide on the standard itself.

</note>
        <title>Standard Star Target component</title>
      </SpNote>
      <SpTelescopeObsComp id="0" type="oc" subtype="targetList">
        <meta_gui_collapsed>false</meta_gui_collapsed>
        <meta_gui_selectedTelescopePos>Base</meta_gui_selectedTelescopePos>
        <meta_unique>true</meta_unique>
        <BASE TYPE="Base">
          <target>
            <targetName>Standard star</targetName>
            <spherSystem SYSTEM="J2000">
              <c1>0:00:00</c1>
              <c2>0:00:00</c2>
            </spherSystem>
          </target>
        </BASE>
      </SpTelescopeObsComp>
      <SpInstCGS4 id="1" type="oc" subtype="inst.CGS4">
        <meta_gui_collapsed>false</meta_gui_collapsed>
        <meta_unique>true</meta_unique>
        <meta_version>1.0</meta_version>
        <acqMode>NDSTARE</acqMode>
        <centralWavelength>2.1</centralWavelength>
        <coadds>1</coadds>
        <cvfOffset>0.0</cvfOffset>
        <cvfWavelength>2.1</cvfWavelength>
        <disperser>echelle</disperser>
        <exposureTime>83.0</exposureTime>
        <filter>open</filter>
        <instAper>
          <value>-10.98</value>
          <value>-5.26</value>
          <value>0.0</value>
          <value>2.1</value>
        </instAper>
        <instPntgOffset>
          <value>0.0</value>
          <value>0.0</value>
        </instPntgOffset>
        <instPort>South</instPort>
        <mask>1pixel</mask>
        <neutralDensity>false</neutralDensity>
        <order>26</order>
        <polariser>none</polariser>
        <posAngle>0.0</posAngle>
        <sampling>2x2</sampling>
        <sourceMag>8-9</sourceMag>
      </SpInstCGS4>
      <SpObs msb="false" optional="true" remaining="1" type="ob" subtype="none">
        <meta_gui_collapsed>false</meta_gui_collapsed>
        <estimatedDuration units="seconds">99.80000000000001</estimatedDuration>
        <standard>false</standard>
        <title>flat and an arc</title>
        <SpNote type="no" subtype="none">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <note>Simply takes a flat field and an arc lamp frame.

Will inherit the science target, so that the telescope orientation (and thus instrument flexure) will be the same in the flat and arc as in the science frames.

Will also inherit the CGS4 configuration from the component at the top of the MSB, thus guaranteeing that the correct config is used. Edit the exposure times and other details in the flat and arc observe components if necessary.

Be sure to hit the default button in the flat and arc editors if you change the configuration.

If your exposure times are less than 1 second or non-integers, yse STARE mode, otherwise use ND_STARE mode.</note>
          <title>Flat and Arc</title>
        </SpNote>
        <SpDRRecipe type="oc" subtype="DRRecipe">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <meta_unique>true</meta_unique>
          <ArcInGroup>false</ArcInGroup>
          <ArcRecipe>REDUCE_ARC</ArcRecipe>
          <BiasInGroup>false</BiasInGroup>
          <BiasRecipe>REDUCE_BIAS</BiasRecipe>
          <DarkInGroup>false</DarkInGroup>
          <DarkRecipe>REDUCE_DARK</DarkRecipe>
          <FlatInGroup>false</FlatInGroup>
          <FlatRecipe>REDUCE_FLAT</FlatRecipe>
          <FocusInGroup>false</FocusInGroup>
          <FocusRecipe>REDUCE_FOCUS</FocusRecipe>
          <ObjectInGroup>true</ObjectInGroup>
          <ObjectRecipe>REDUCE_SINGLE_FRAME</ObjectRecipe>
          <SkyInGroup>true</SkyInGroup>
          <SkyRecipe>REDUCE_SKY</SkyRecipe>
          <title>REDUCE_SINGLE_FRAME</title>
        </SpDRRecipe>
        <SpIterFolder type="if" subtype="none">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <SpIterCGS4CalObs type="ic" subtype="CGS4calUnitObs">
            <meta_gui_collapsed>false</meta_gui_collapsed>
            <acqMode>NDSTARE</acqMode>
            <calType>Flat</calType>
            <coadds>5</coadds>
            <cvfWavelength>2.1</cvfWavelength>
            <exposureTime>0.25</exposureTime>
            <filter>open</filter>
            <flatSampling>AS_OBJECT</flatSampling>
            <lamp>Black Body (3.2)</lamp>
            <neutralDensity>false</neutralDensity>
            <repeatCount>1</repeatCount>
          </SpIterCGS4CalObs>
          <SpIterCGS4CalObs type="ic" subtype="CGS4calUnitObs">
            <meta_gui_collapsed>false</meta_gui_collapsed>
            <acqMode>NDSTARE</acqMode>
            <calType>Arc</calType>
            <coadds>5</coadds>
            <cvfWavelength>2.1</cvfWavelength>
            <exposureTime>1.0</exposureTime>
            <filter>open</filter>
            <flatSampling>AS_OBJECT</flatSampling>
            <lamp>Argon Arc</lamp>
            <neutralDensity>false</neutralDensity>
            <repeatCount>1</repeatCount>
          </SpIterCGS4CalObs>
        </SpIterFolder>
      </SpObs>
      <SpObs msb="false" optional="true" remaining="1" type="ob" subtype="none">
        <meta_gui_collapsed>true</meta_gui_collapsed>
        <estimatedDuration units="seconds">87.68</estimatedDuration>
        <standard>true</standard>
        <title>standard star</title>
        <SpNote type="no" subtype="none">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <note>Takes a standard star observation.

Inherits the CGS4 component from above. Use the CGS4 itterator in the standard star sequence to specify the exposure time and coadds for the standard star.
</note>
          <title>Standard Star</title>
        </SpNote>
        <SpDRRecipe type="oc" subtype="DRRecipe">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <meta_unique>true</meta_unique>
          <ArcInGroup>false</ArcInGroup>
          <ArcRecipe>REDUCE_ARC</ArcRecipe>
          <BiasInGroup>false</BiasInGroup>
          <BiasRecipe>REDUCE_BIAS</BiasRecipe>
          <DRRecipe>JITTER_SELF_FLAT</DRRecipe>
          <DarkInGroup>false</DarkInGroup>
          <DarkRecipe>REDUCE_DARK</DarkRecipe>
          <FlatInGroup>false</FlatInGroup>
          <FlatRecipe>REDUCE_FLAT</FlatRecipe>
          <FocusInGroup>false</FocusInGroup>
          <FocusRecipe>REDUCE_FOCUS</FocusRecipe>
          <ObjectInGroup>true</ObjectInGroup>
          <ObjectRecipe>STANDARD_STAR</ObjectRecipe>
          <SkyInGroup>true</SkyInGroup>
          <SkyRecipe>REDUCE_SKY</SkyRecipe>
          <title>STANDARD_STAR</title>
        </SpDRRecipe>
        <SpIterFolder type="if" subtype="none">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <SpNote type="no" subtype="none">
            <meta_gui_collapsed>false</meta_gui_collapsed>
            <note>Use this iterator to adjust the exposure time, coadds and readout mode for your standard star observations. For integer exposure times greater than 1 second use ND_STARE, otherwise use STARE mode.</note>
            <title>This CGS4 iterator</title>
          </SpNote>
          <SpIterCGS4 type="ic" subtype="instCGS4">
            <meta_gui_collapsed>false</meta_gui_collapsed>
            <acqModeIter>STARE</acqModeIter>
            <coaddsIter>1</coaddsIter>
            <exposureTimeIter>1</exposureTimeIter>
            <iterConfigList>
              <value>exposureTimeIter</value>
              <value>coaddsIter</value>
              <value>acqModeIter</value>
            </iterConfigList>
          </SpIterCGS4>
          <SpIterRepeat type="ic" subtype="repeat">
            <meta_gui_collapsed>false</meta_gui_collapsed>
            <repeatCount>2</repeatCount>
            <title>Repeat 2X</title>
            <SpIterOffset type="ic" subtype="offset">
              <meta_gui_collapsed>false</meta_gui_collapsed>
              <meta_gui_selectedOffsetPos>Offset2</meta_gui_selectedOffsetPos>
              <obsArea>
                <PA>0.0</PA>
                <OFFSET>
                  <DC1>0.0</DC1>
                  <DC2>0.0</DC2>
                </OFFSET>
                <OFFSET>
                  <DC1>0.0</DC1>
                  <DC2>-11.74</DC2>
                </OFFSET>
                <OFFSET>
                  <DC1>0.0</DC1>
                  <DC2>-11.74</DC2>
                </OFFSET>
                <OFFSET>
                  <DC1>0.0</DC1>
                  <DC2>0.0</DC2>
                </OFFSET>
              </obsArea>
              <SpIterObserve type="ic" subtype="observe">
                <meta_gui_collapsed>false</meta_gui_collapsed>
                <repeatCount>1</repeatCount>
              </SpIterObserve>
            </SpIterOffset>
          </SpIterRepeat>
        </SpIterFolder>
      </SpObs>
      <SpObs msb="false" optional="false" remaining="1" type="ob" subtype="none">
        <meta_gui_collapsed>true</meta_gui_collapsed>
        <estimatedDuration units="seconds">13811.600000000013</estimatedDuration>
        <standard>false</standard>
        <title>Science Target</title>
        <SpNote type="no" subtype="none">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <note>This is the Science Target Observation.

This is the "Point source, nod to blank sky" science target. By default, it goes 60" perpendicular to the slit. Edit the offset iterator containing the sky observations to change this. If you highlight the offset iterator whilst having the Target Information Plot window open, it will display the offset positions.</note>
          <title>Science Target</title>
        </SpNote>
        <SpNote type="no" subtype="none">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <note>This is the Science Target Observation. You should enter your science target coordinates here along with a guide star if necessary.</note>
          <title>Target information</title>
        </SpNote>
        <SpTelescopeObsComp type="oc" subtype="targetList">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <meta_gui_selectedTelescopePos>Base</meta_gui_selectedTelescopePos>
          <meta_unique>true</meta_unique>
          <BASE TYPE="Base">
            <target>
              <targetName>Science target</targetName>
              <spherSystem SYSTEM="J2000">
                <c1>0:00:00</c1>
                <c2>0:00:00</c2>
              </spherSystem>
            </target>
          </BASE>
        </SpTelescopeObsComp>
        <SpDRRecipe type="oc" subtype="DRRecipe">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <meta_unique>true</meta_unique>
          <ArcInGroup>false</ArcInGroup>
          <ArcRecipe>REDUCE_ARC</ArcRecipe>
          <BiasInGroup>false</BiasInGroup>
          <BiasRecipe>REDUCE_BIAS</BiasRecipe>
          <DRRecipe>JITTER_SELF_FLAT</DRRecipe>
          <DarkInGroup>false</DarkInGroup>
          <DarkRecipe>REDUCE_DARK</DarkRecipe>
          <FlatInGroup>false</FlatInGroup>
          <FlatRecipe>REDUCE_FLAT</FlatRecipe>
          <FocusInGroup>false</FocusInGroup>
          <FocusRecipe>REDUCE_FOCUS</FocusRecipe>
          <ObjectInGroup>true</ObjectInGroup>
          <ObjectRecipe>POINT_SOURCE</ObjectRecipe>
          <SkyInGroup>true</SkyInGroup>
          <SkyRecipe>POINT_SOURCE</SkyRecipe>
          <title>POINT_SOURCE</title>
        </SpDRRecipe>
        <SpIterFolder type="if" subtype="none">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <SpIterRepeat type="ic" subtype="repeat">
            <meta_gui_collapsed>false</meta_gui_collapsed>
            <repeatCount>10</repeatCount>
            <title>Repeat 10X</title>
            <SpIterOffset type="ic" subtype="offset">
              <meta_gui_collapsed>false</meta_gui_collapsed>
              <meta_gui_selectedOffsetPos>Offset0</meta_gui_selectedOffsetPos>
              <obsArea>
                <PA>0.0</PA>
                <OFFSET>
                  <DC1>0.0</DC1>
                  <DC2>0.0</DC2>
                </OFFSET>
              </obsArea>
              <SpIterObserve type="ic" subtype="observe">
                <meta_gui_collapsed>false</meta_gui_collapsed>
                <repeatCount>1</repeatCount>
              </SpIterObserve>
            </SpIterOffset>
            <SpIterOffset type="ic" subtype="offset">
              <meta_gui_collapsed>false</meta_gui_collapsed>
              <meta_gui_selectedOffsetPos>Offset0</meta_gui_selectedOffsetPos>
              <obsArea>
                <PA>0.0</PA>
                <OFFSET>
                  <DC1>60.0</DC1>
                  <DC2>0.0</DC2>
                </OFFSET>
              </obsArea>
              <SpIterSky type="ic" subtype="sky">
                <meta_gui_collapsed>false</meta_gui_collapsed>
                <repeatCount>2</repeatCount>
              </SpIterSky>
            </SpIterOffset>
            <SpIterOffset type="ic" subtype="offset">
              <meta_gui_collapsed>false</meta_gui_collapsed>
              <meta_gui_selectedOffsetPos>Offset0</meta_gui_selectedOffsetPos>
              <obsArea>
                <PA>0.0</PA>
                <OFFSET>
                  <DC1>0.0</DC1>
                  <DC2>0.0</DC2>
                </OFFSET>
              </obsArea>
              <SpIterObserve type="ic" subtype="observe">
                <meta_gui_collapsed>false</meta_gui_collapsed>
                <repeatCount>1</repeatCount>
              </SpIterObserve>
            </SpIterOffset>
          </SpIterRepeat>
        </SpIterFolder>
      </SpObs>
    </SpMSB>
    <SpMSB remaining="1" type="og" subtype="msb">
      <meta_gui_collapsed>true</meta_gui_collapsed>
      <SpInstCGS4Ref idref="1"/>
      <SpTelescopeObsCompRef idref="0"/>
      <estimatedDuration units="seconds">14291.600000000013</estimatedDuration>
      <library_version>$Revision$</library_version>
      <priority>99</priority>
      <title>Echelle, extended source, nod to blank sky</title>
      <totalDuration units="seconds">14479.080000000013</totalDuration>
      <SpNote observeInstruction="true" type="no" subtype="none">
        <meta_gui_collapsed>false</meta_gui_collapsed>
        <note></note>
        <title>OBSERVER NOTES</title>
      </SpNote>
      <SpNote type="no" subtype="none">
        <meta_gui_collapsed>false</meta_gui_collapsed>
        <note>Specify your science target instrument configuration here. This is inherited into all the observations within this MSB. 

You can adjust details for the flat and arc within the flat and arc observe components. 

You can adjust the exposure time and coadds for the standard star using the CGS4 iterator component in the standard star observation.

NB: Use ND_STARE mode for integer exposure times greater than 1 second. Use STARE mode otherwise.</note>
        <title>This CGS4 component</title>
      </SpNote>
      <SpInstCGS4 id="1" type="oc" subtype="inst.CGS4">
        <meta_gui_collapsed>false</meta_gui_collapsed>
        <meta_unique>true</meta_unique>
        <meta_version>1.0</meta_version>
        <acqMode>NDSTARE</acqMode>
        <centralWavelength>2.1</centralWavelength>
        <coadds>1</coadds>
        <cvfOffset>0.0</cvfOffset>
        <cvfWavelength>2.1</cvfWavelength>
        <disperser>echelle</disperser>
        <exposureTime>83.0</exposureTime>
        <filter>open</filter>
        <instAper>
          <value>-10.98</value>
          <value>-5.26</value>
          <value>0.0</value>
          <value>2.1</value>
        </instAper>
        <instPntgOffset>
          <value>0.0</value>
          <value>0.0</value>
        </instPntgOffset>
        <instPort>South</instPort>
        <mask>1pixel</mask>
        <neutralDensity>false</neutralDensity>
        <order>26</order>
        <polariser>none</polariser>
        <posAngle>0.0</posAngle>
        <sampling>2x2</sampling>
        <sourceMag>8-9</sourceMag>
      </SpInstCGS4>
      <SpNote type="no" subtype="none">
        <meta_gui_collapsed>false</meta_gui_collapsed>
        <note>Enter your  STANDARD STAR co-ordinates below (this is so that the flat and arc are executed at the location of the standard).  

These coordinates will be inherited by the  three observations (flat and arc, standard star and target spectroscopy) UNLESS they are over-written by a Target component inside the observation.  Obviously, this should be the case for the science target.   .

Note - for the standard, you don't need to specify a guide star;  the telescope will know to guide on the standard itself.

</note>
        <title>Standard Star Target component</title>
      </SpNote>
      <SpTelescopeObsComp id="0" type="oc" subtype="targetList">
        <meta_gui_collapsed>false</meta_gui_collapsed>
        <meta_gui_selectedTelescopePos>Base</meta_gui_selectedTelescopePos>
        <meta_unique>true</meta_unique>
        <BASE TYPE="Base">
          <target>
            <targetName>Standard star</targetName>
            <spherSystem SYSTEM="J2000">
              <c1>0:00:00</c1>
              <c2>0:00:00</c2>
            </spherSystem>
          </target>
        </BASE>
      </SpTelescopeObsComp>
      <SpObs msb="false" optional="true" remaining="1" type="ob" subtype="none">
        <meta_gui_collapsed>true</meta_gui_collapsed>
        <estimatedDuration units="seconds">99.80000000000001</estimatedDuration>
        <standard>false</standard>
        <title>flat and an arc</title>
        <SpNote type="no" subtype="none">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <note>Simply takes a flat field and an arc lamp frame.

Will inherit the science target, so that the telescope orientation (and thus instrument flexure) will be the same in the flat and arc as in the science frames.

Will also inherit the CGS4 configuration from the component at the top of the MSB, thus guaranteeing that the correct config is used. Edit the exposure times and other details in the flat and arc observe components if necessary.

Be sure to hit the default button in the flat and arc editors if you change the configuration.

If your exposure times are less than 1 second or non-integers, yse STARE mode, otherwise use ND_STARE mode.</note>
          <title>Flat and Arc</title>
        </SpNote>
        <SpDRRecipe type="oc" subtype="DRRecipe">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <meta_unique>true</meta_unique>
          <ArcInGroup>false</ArcInGroup>
          <ArcRecipe>REDUCE_ARC</ArcRecipe>
          <BiasInGroup>false</BiasInGroup>
          <BiasRecipe>REDUCE_BIAS</BiasRecipe>
          <DarkInGroup>false</DarkInGroup>
          <DarkRecipe>REDUCE_DARK</DarkRecipe>
          <FlatInGroup>false</FlatInGroup>
          <FlatRecipe>REDUCE_FLAT</FlatRecipe>
          <FocusInGroup>false</FocusInGroup>
          <FocusRecipe>REDUCE_FOCUS</FocusRecipe>
          <ObjectInGroup>true</ObjectInGroup>
          <ObjectRecipe>REDUCE_SINGLE_FRAME</ObjectRecipe>
          <SkyInGroup>true</SkyInGroup>
          <SkyRecipe>REDUCE_SKY</SkyRecipe>
          <title>REDUCE_SINGLE_FRAME</title>
        </SpDRRecipe>
        <SpIterFolder type="if" subtype="none">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <SpIterCGS4CalObs type="ic" subtype="CGS4calUnitObs">
            <meta_gui_collapsed>false</meta_gui_collapsed>
            <acqMode>NDSTARE</acqMode>
            <calType>Flat</calType>
            <coadds>5</coadds>
            <cvfWavelength>2.1</cvfWavelength>
            <exposureTime>0.25</exposureTime>
            <filter>open</filter>
            <flatSampling>AS_OBJECT</flatSampling>
            <lamp>Black Body (3.2)</lamp>
            <neutralDensity>false</neutralDensity>
            <repeatCount>1</repeatCount>
          </SpIterCGS4CalObs>
          <SpIterCGS4CalObs type="ic" subtype="CGS4calUnitObs">
            <meta_gui_collapsed>false</meta_gui_collapsed>
            <acqMode>NDSTARE</acqMode>
            <calType>Arc</calType>
            <coadds>5</coadds>
            <cvfWavelength>2.1</cvfWavelength>
            <exposureTime>1.0</exposureTime>
            <filter>open</filter>
            <flatSampling>AS_OBJECT</flatSampling>
            <lamp>Argon Arc</lamp>
            <neutralDensity>false</neutralDensity>
            <repeatCount>1</repeatCount>
          </SpIterCGS4CalObs>
        </SpIterFolder>
      </SpObs>
      <SpObs msb="false" optional="true" remaining="1" type="ob" subtype="none">
        <meta_gui_collapsed>true</meta_gui_collapsed>
        <estimatedDuration units="seconds">87.68</estimatedDuration>
        <standard>true</standard>
        <title>standard star</title>
        <SpNote type="no" subtype="none">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <note>Takes a standard star observation.

Inherits the CGS4 component from above. Use the CGS4 itterator in the standard star sequence to specify the exposure time and coadds for the standard star.
</note>
          <title>Standard Star</title>
        </SpNote>
        <SpDRRecipe type="oc" subtype="DRRecipe">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <meta_unique>true</meta_unique>
          <ArcInGroup>false</ArcInGroup>
          <ArcRecipe>REDUCE_ARC</ArcRecipe>
          <BiasInGroup>false</BiasInGroup>
          <BiasRecipe>REDUCE_BIAS</BiasRecipe>
          <DRRecipe>JITTER_SELF_FLAT</DRRecipe>
          <DarkInGroup>false</DarkInGroup>
          <DarkRecipe>REDUCE_DARK</DarkRecipe>
          <FlatInGroup>false</FlatInGroup>
          <FlatRecipe>REDUCE_FLAT</FlatRecipe>
          <FocusInGroup>false</FocusInGroup>
          <FocusRecipe>REDUCE_FOCUS</FocusRecipe>
          <ObjectInGroup>true</ObjectInGroup>
          <ObjectRecipe>STANDARD_STAR</ObjectRecipe>
          <SkyInGroup>true</SkyInGroup>
          <SkyRecipe>REDUCE_SKY</SkyRecipe>
          <title>STANDARD_STAR</title>
        </SpDRRecipe>
        <SpIterFolder type="if" subtype="none">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <SpNote type="no" subtype="none">
            <meta_gui_collapsed>false</meta_gui_collapsed>
            <note>Use this iterator to adjust the exposure time, coadds and readout mode for your standard star observations. For integer exposure times greater than 1 second use ND_STARE, otherwise use STARE mode.</note>
            <title>This CGS4 iterator</title>
          </SpNote>
          <SpIterCGS4 type="ic" subtype="instCGS4">
            <meta_gui_collapsed>false</meta_gui_collapsed>
            <acqModeIter>STARE</acqModeIter>
            <coaddsIter>1</coaddsIter>
            <exposureTimeIter>1</exposureTimeIter>
            <iterConfigList>
              <value>exposureTimeIter</value>
              <value>coaddsIter</value>
              <value>acqModeIter</value>
            </iterConfigList>
          </SpIterCGS4>
          <SpIterRepeat type="ic" subtype="repeat">
            <meta_gui_collapsed>false</meta_gui_collapsed>
            <repeatCount>2</repeatCount>
            <title>Repeat 2X</title>
            <SpIterOffset type="ic" subtype="offset">
              <meta_gui_collapsed>false</meta_gui_collapsed>
              <meta_gui_selectedOffsetPos>Offset2</meta_gui_selectedOffsetPos>
              <obsArea>
                <PA>0.0</PA>
                <OFFSET>
                  <DC1>0.0</DC1>
                  <DC2>0.0</DC2>
                </OFFSET>
                <OFFSET>
                  <DC1>0.0</DC1>
                  <DC2>-11.74</DC2>
                </OFFSET>
                <OFFSET>
                  <DC1>0.0</DC1>
                  <DC2>-11.74</DC2>
                </OFFSET>
                <OFFSET>
                  <DC1>0.0</DC1>
                  <DC2>0.0</DC2>
                </OFFSET>
              </obsArea>
              <SpIterObserve type="ic" subtype="observe">
                <meta_gui_collapsed>false</meta_gui_collapsed>
                <repeatCount>1</repeatCount>
              </SpIterObserve>
            </SpIterOffset>
          </SpIterRepeat>
        </SpIterFolder>
      </SpObs>
      <SpObs msb="false" optional="false" remaining="1" type="ob" subtype="none">
        <meta_gui_collapsed>true</meta_gui_collapsed>
        <estimatedDuration units="seconds">13811.600000000013</estimatedDuration>
        <standard>false</standard>
        <title>Science Target</title>
        <SpNote type="no" subtype="none">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <note>This is the Science Target Observation.

This is the "Extended source, nod to blank sky" science target. By default, it goes 60" perpendicular to the slit. Edit the offset iterator containing the sky observations to change this. If you highlight the offset iterator whilst having the Target Information Plot window open, it will display the offset positions.</note>
          <title>Science Target Component</title>
        </SpNote>
        <SpNote type="no" subtype="none">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <note>This is the Science Target Observation. You should enter your science target coordinates here along with a guide star if necessary.</note>
          <title>Target information</title>
        </SpNote>
        <SpTelescopeObsComp type="oc" subtype="targetList">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <meta_gui_selectedTelescopePos>Base</meta_gui_selectedTelescopePos>
          <meta_unique>true</meta_unique>
          <BASE TYPE="Base">
            <target>
              <targetName>Science target</targetName>
              <spherSystem SYSTEM="J2000">
                <c1>0:00:00</c1>
                <c2>0:00:00</c2>
              </spherSystem>
            </target>
          </BASE>
        </SpTelescopeObsComp>
        <SpDRRecipe type="oc" subtype="DRRecipe">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <meta_unique>true</meta_unique>
          <ArcInGroup>false</ArcInGroup>
          <ArcRecipe>REDUCE_ARC</ArcRecipe>
          <BiasInGroup>false</BiasInGroup>
          <BiasRecipe>REDUCE_BIAS</BiasRecipe>
          <DRRecipe>JITTER_SELF_FLAT</DRRecipe>
          <DarkInGroup>false</DarkInGroup>
          <DarkRecipe>REDUCE_DARK</DarkRecipe>
          <FlatInGroup>false</FlatInGroup>
          <FlatRecipe>REDUCE_FLAT</FlatRecipe>
          <FocusInGroup>false</FocusInGroup>
          <FocusRecipe>REDUCE_FOCUS</FocusRecipe>
          <ObjectInGroup>true</ObjectInGroup>
          <ObjectRecipe>EXTENDED_SOURCE</ObjectRecipe>
          <SkyInGroup>true</SkyInGroup>
          <SkyRecipe>EXTENDED_SOURCE</SkyRecipe>
          <title>EXTENDED_SOURCE</title>
        </SpDRRecipe>
        <SpIterFolder type="if" subtype="none">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <SpIterRepeat type="ic" subtype="repeat">
            <meta_gui_collapsed>false</meta_gui_collapsed>
            <repeatCount>10</repeatCount>
            <title>Repeat 10X</title>
            <SpIterOffset type="ic" subtype="offset">
              <meta_gui_collapsed>false</meta_gui_collapsed>
              <meta_gui_selectedOffsetPos>Offset0</meta_gui_selectedOffsetPos>
              <obsArea>
                <PA>0.0</PA>
                <OFFSET>
                  <DC1>0.0</DC1>
                  <DC2>0.0</DC2>
                </OFFSET>
              </obsArea>
              <SpIterObserve type="ic" subtype="observe">
                <meta_gui_collapsed>false</meta_gui_collapsed>
                <repeatCount>1</repeatCount>
              </SpIterObserve>
            </SpIterOffset>
            <SpIterOffset type="ic" subtype="offset">
              <meta_gui_collapsed>false</meta_gui_collapsed>
              <meta_gui_selectedOffsetPos>Offset0</meta_gui_selectedOffsetPos>
              <obsArea>
                <PA>0.0</PA>
                <OFFSET>
                  <DC1>60.0</DC1>
                  <DC2>0.0</DC2>
                </OFFSET>
              </obsArea>
              <SpIterSky type="ic" subtype="sky">
                <meta_gui_collapsed>false</meta_gui_collapsed>
                <repeatCount>2</repeatCount>
              </SpIterSky>
            </SpIterOffset>
            <SpIterOffset type="ic" subtype="offset">
              <meta_gui_collapsed>false</meta_gui_collapsed>
              <meta_gui_selectedOffsetPos>Offset0</meta_gui_selectedOffsetPos>
              <obsArea>
                <PA>0.0</PA>
                <OFFSET>
                  <DC1>0.0</DC1>
                  <DC2>0.0</DC2>
                </OFFSET>
              </obsArea>
              <SpIterObserve type="ic" subtype="observe">
                <meta_gui_collapsed>false</meta_gui_collapsed>
                <repeatCount>1</repeatCount>
              </SpIterObserve>
            </SpIterOffset>
          </SpIterRepeat>
        </SpIterFolder>
      </SpObs>
    </SpMSB>
    <SpMSB remaining="1" type="og" subtype="msb">
      <meta_gui_collapsed>true</meta_gui_collapsed>
      <SpInstCGS4Ref idref="1"/>
      <SpTelescopeObsCompRef idref="0"/>
      <estimatedDuration units="seconds">20930.4</estimatedDuration>
      <library_version>$Revision$</library_version>
      <priority>99</priority>
      <title>Echelle, extended source, infrequent nod to blank sky</title>
      <totalDuration units="seconds">21117.88</totalDuration>
      <SpNote type="no" subtype="none">
        <meta_gui_collapsed>false</meta_gui_collapsed>
        <note>This is only for use when:
a) the sky background is stable,
b) your target is extended, and
c) you cannot afford to spend 50% of your time observing blank sky;

i.e. faint, extended, echelle targets.

The sequence is that you start with a SKY frame, and then take several OBJECT frames.  The DR will subtract the SKY from each of the following OBJECT frames.  You can repeat this as many times as you like.

See more details in the Science target observation of this MSB.</note>
        <title>Extended source with infrequent nod to blank sky</title>
      </SpNote>
      <SpNote observeInstruction="true" type="no" subtype="none">
        <meta_gui_collapsed>false</meta_gui_collapsed>
        <note></note>
        <title>OBSERVER NOTES</title>
      </SpNote>
      <SpNote type="no" subtype="none">
        <meta_gui_collapsed>false</meta_gui_collapsed>
        <note>Specify your science target instrument configuration here. This is inherited into all the observations within this MSB. 

You can adjust details for the flat and arc within the flat and arc observe components. 

You can adjust the exposure time and coadds for the standard star using the CGS4 iterator component in the standard star observation.

NB: Use ND_STARE mode for integer exposure times greater than 1 second. Use STARE mode otherwise.</note>
        <title>This CGS4 component</title>
      </SpNote>
      <SpInstCGS4 id="1" type="oc" subtype="inst.CGS4">
        <meta_gui_collapsed>false</meta_gui_collapsed>
        <meta_unique>true</meta_unique>
        <meta_version>1.0</meta_version>
        <acqMode>NDSTARE</acqMode>
        <centralWavelength>2.1</centralWavelength>
        <coadds>1</coadds>
        <cvfOffset>0.0</cvfOffset>
        <cvfWavelength>2.1</cvfWavelength>
        <disperser>echelle</disperser>
        <exposureTime>83.0</exposureTime>
        <filter>open</filter>
        <instAper>
          <value>-10.98</value>
          <value>-5.26</value>
          <value>0.0</value>
          <value>2.1</value>
        </instAper>
        <instPntgOffset>
          <value>0.0</value>
          <value>0.0</value>
        </instPntgOffset>
        <instPort>South</instPort>
        <mask>1pixel</mask>
        <neutralDensity>false</neutralDensity>
        <order>26</order>
        <polariser>none</polariser>
        <posAngle>0.0</posAngle>
        <sampling>2x2</sampling>
        <sourceMag>8-9</sourceMag>
      </SpInstCGS4>
      <SpNote type="no" subtype="none">
        <meta_gui_collapsed>false</meta_gui_collapsed>
        <note>Enter your  STANDARD STAR co-ordinates below (this is so that the flat and arc are executed at the location of the standard).  

These coordinates will be inherited by the  three observations (flat and arc, standard star and target spectroscopy) UNLESS they are over-written by a Target component inside the observation.  Obviously, this should be the case for the science target.   .

Note - for the standard, you don't need to specify a guide star;  the telescope will know to guide on the standard itself.

</note>
        <title>Standard Star Target component</title>
      </SpNote>
      <SpTelescopeObsComp id="0" type="oc" subtype="targetList">
        <meta_gui_collapsed>false</meta_gui_collapsed>
        <meta_gui_selectedTelescopePos>Base</meta_gui_selectedTelescopePos>
        <meta_unique>true</meta_unique>
        <BASE TYPE="Base">
          <target>
            <targetName>Standard star</targetName>
            <spherSystem SYSTEM="J2000">
              <c1>0:00:00</c1>
              <c2>0:00:00</c2>
            </spherSystem>
          </target>
        </BASE>
      </SpTelescopeObsComp>
      <SpObs msb="false" optional="true" remaining="1" type="ob" subtype="none">
        <meta_gui_collapsed>false</meta_gui_collapsed>
        <estimatedDuration units="seconds">99.80000000000001</estimatedDuration>
        <standard>false</standard>
        <title>flat and an arc</title>
        <SpNote type="no" subtype="none">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <note>Simply takes a flat field and an arc lamp frame.

Will inherit the science target, so that the telescope orientation (and thus instrument flexure) will be the same in the flat and arc as in the science frames.

Will also inherit the CGS4 configuration from the component at the top of the MSB, thus guaranteeing that the correct config is used. Edit the exposure times and other details in the flat and arc observe components if necessary.

Be sure to hit the default button in the flat and arc editors if you change the configuration.

If your exposure times are less than 1 second or non-integers, yse STARE mode, otherwise use ND_STARE mode.</note>
          <title>Flat and Arc</title>
        </SpNote>
        <SpDRRecipe type="oc" subtype="DRRecipe">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <meta_unique>true</meta_unique>
          <ArcInGroup>false</ArcInGroup>
          <ArcRecipe>REDUCE_ARC</ArcRecipe>
          <BiasInGroup>false</BiasInGroup>
          <BiasRecipe>REDUCE_BIAS</BiasRecipe>
          <DarkInGroup>false</DarkInGroup>
          <DarkRecipe>REDUCE_DARK</DarkRecipe>
          <FlatInGroup>false</FlatInGroup>
          <FlatRecipe>REDUCE_FLAT</FlatRecipe>
          <FocusInGroup>false</FocusInGroup>
          <FocusRecipe>REDUCE_FOCUS</FocusRecipe>
          <ObjectInGroup>true</ObjectInGroup>
          <ObjectRecipe>REDUCE_SINGLE_FRAME</ObjectRecipe>
          <SkyInGroup>true</SkyInGroup>
          <SkyRecipe>REDUCE_SKY</SkyRecipe>
          <title>REDUCE_SINGLE_FRAME</title>
        </SpDRRecipe>
        <SpIterFolder type="if" subtype="none">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <SpIterCGS4CalObs type="ic" subtype="CGS4calUnitObs">
            <meta_gui_collapsed>false</meta_gui_collapsed>
            <acqMode>NDSTARE</acqMode>
            <calType>Flat</calType>
            <coadds>5</coadds>
            <cvfWavelength>2.1</cvfWavelength>
            <exposureTime>0.25</exposureTime>
            <filter>open</filter>
            <flatSampling>AS_OBJECT</flatSampling>
            <lamp>Black Body (3.2)</lamp>
            <neutralDensity>false</neutralDensity>
            <repeatCount>1</repeatCount>
          </SpIterCGS4CalObs>
          <SpIterCGS4CalObs type="ic" subtype="CGS4calUnitObs">
            <meta_gui_collapsed>false</meta_gui_collapsed>
            <acqMode>NDSTARE</acqMode>
            <calType>Arc</calType>
            <coadds>5</coadds>
            <cvfWavelength>2.1</cvfWavelength>
            <exposureTime>1.0</exposureTime>
            <filter>open</filter>
            <flatSampling>AS_OBJECT</flatSampling>
            <lamp>Argon Arc</lamp>
            <neutralDensity>false</neutralDensity>
            <repeatCount>1</repeatCount>
          </SpIterCGS4CalObs>
        </SpIterFolder>
      </SpObs>
      <SpObs msb="false" optional="true" remaining="1" type="ob" subtype="none">
        <meta_gui_collapsed>true</meta_gui_collapsed>
        <estimatedDuration units="seconds">87.68</estimatedDuration>
        <standard>true</standard>
        <title>standard star</title>
        <SpNote type="no" subtype="none">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <note>Takes a standard star observation.

Inherits the CGS4 component from above. Use the CGS4 itterator in the standard star sequence to specify the exposure time and coadds for the standard star.

</note>
          <title>Standard Star</title>
        </SpNote>
        <SpDRRecipe type="oc" subtype="DRRecipe">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <meta_unique>true</meta_unique>
          <ArcInGroup>false</ArcInGroup>
          <ArcRecipe>REDUCE_ARC</ArcRecipe>
          <BiasInGroup>false</BiasInGroup>
          <BiasRecipe>REDUCE_BIAS</BiasRecipe>
          <DRRecipe>JITTER_SELF_FLAT</DRRecipe>
          <DarkInGroup>false</DarkInGroup>
          <DarkRecipe>REDUCE_DARK</DarkRecipe>
          <FlatInGroup>false</FlatInGroup>
          <FlatRecipe>REDUCE_FLAT</FlatRecipe>
          <FocusInGroup>false</FocusInGroup>
          <FocusRecipe>REDUCE_FOCUS</FocusRecipe>
          <ObjectInGroup>true</ObjectInGroup>
          <ObjectRecipe>STANDARD_STAR</ObjectRecipe>
          <SkyInGroup>true</SkyInGroup>
          <SkyRecipe>REDUCE_SKY</SkyRecipe>
          <title>STANDARD_STAR</title>
        </SpDRRecipe>
        <SpIterFolder type="if" subtype="none">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <SpNote type="no" subtype="none">
            <meta_gui_collapsed>false</meta_gui_collapsed>
            <note>Use this iterator to adjust the exposure time, coadds and readout mode for your standard star observations. For integer exposure times greater than 1 second use ND_STARE, otherwise use STARE mode.</note>
            <title>This CGS4 iterator</title>
          </SpNote>
          <SpIterCGS4 type="ic" subtype="instCGS4">
            <meta_gui_collapsed>false</meta_gui_collapsed>
            <acqModeIter>STARE</acqModeIter>
            <coaddsIter>1</coaddsIter>
            <exposureTimeIter>1</exposureTimeIter>
            <iterConfigList>
              <value>exposureTimeIter</value>
              <value>coaddsIter</value>
              <value>acqModeIter</value>
            </iterConfigList>
          </SpIterCGS4>
          <SpIterRepeat type="ic" subtype="repeat">
            <meta_gui_collapsed>false</meta_gui_collapsed>
            <repeatCount>2</repeatCount>
            <title>Repeat 2X</title>
            <SpIterOffset type="ic" subtype="offset">
              <meta_gui_collapsed>false</meta_gui_collapsed>
              <meta_gui_selectedOffsetPos>Offset2</meta_gui_selectedOffsetPos>
              <obsArea>
                <PA>0.0</PA>
                <OFFSET>
                  <DC1>0.0</DC1>
                  <DC2>0.0</DC2>
                </OFFSET>
                <OFFSET>
                  <DC1>0.0</DC1>
                  <DC2>-11.74</DC2>
                </OFFSET>
                <OFFSET>
                  <DC1>0.0</DC1>
                  <DC2>-11.74</DC2>
                </OFFSET>
                <OFFSET>
                  <DC1>0.0</DC1>
                  <DC2>0.0</DC2>
                </OFFSET>
              </obsArea>
              <SpIterObserve type="ic" subtype="observe">
                <meta_gui_collapsed>false</meta_gui_collapsed>
                <repeatCount>1</repeatCount>
              </SpIterObserve>
            </SpIterOffset>
          </SpIterRepeat>
        </SpIterFolder>
      </SpObs>
      <SpObs msb="false" optional="false" remaining="1" type="ob" subtype="none">
        <meta_gui_collapsed>true</meta_gui_collapsed>
        <estimatedDuration units="seconds">20450.4</estimatedDuration>
        <standard>false</standard>
        <title>Science Target</title>
        <SpNote type="no" subtype="none">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <note>This is the Science Target Observation.


This is the "Extended source, infrequent nod to blank sky" science target. By default, it goes 60" perpendicular to the slit. Edit the offset iterator containing the sky observations to change this. If you highlight the offset iterator whilst having the Target Information Plot window open, it will display the offset positions.

You can change the number of object frames that follow each sky frame by editing the number of times to observe in the Observe Component.</note>
          <title>Science Target</title>
        </SpNote>
        <SpNote type="no" subtype="none">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <note>This is the Science Target Observation. You should enter your science target coordinates here along with a guide star if necessary.</note>
          <title>Target information</title>
        </SpNote>
        <SpTelescopeObsComp type="oc" subtype="targetList">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <meta_gui_selectedTelescopePos>Base</meta_gui_selectedTelescopePos>
          <meta_unique>true</meta_unique>
          <BASE TYPE="Base">
            <target>
              <targetName>Science target</targetName>
              <spherSystem SYSTEM="J2000">
                <c1>0:00:00</c1>
                <c2>0:00:00</c2>
              </spherSystem>
            </target>
          </BASE>
        </SpTelescopeObsComp>
        <SpDRRecipe type="oc" subtype="DRRecipe">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <meta_unique>true</meta_unique>
          <ArcInGroup>false</ArcInGroup>
          <ArcRecipe>REDUCE_ARC</ArcRecipe>
          <BiasInGroup>false</BiasInGroup>
          <BiasRecipe>REDUCE_BIAS</BiasRecipe>
          <DRRecipe>JITTER_SELF_FLAT</DRRecipe>
          <DarkInGroup>false</DarkInGroup>
          <DarkRecipe>REDUCE_DARK</DarkRecipe>
          <FlatInGroup>false</FlatInGroup>
          <FlatRecipe>REDUCE_FLAT</FlatRecipe>
          <FocusInGroup>false</FocusInGroup>
          <FocusRecipe>REDUCE_FOCUS</FocusRecipe>
          <ObjectInGroup>true</ObjectInGroup>
          <ObjectRecipe>EXTENDED_SOURCE_WITH_SEPARATE_SKY</ObjectRecipe>
          <SkyInGroup>false</SkyInGroup>
          <SkyRecipe>REDUCE_SKY</SkyRecipe>
          <title>EXTENDED_SOURCE_WITH_SEPARATE_SKY</title>
        </SpDRRecipe>
        <SpIterFolder type="if" subtype="none">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <SpIterRepeat type="ic" subtype="repeat">
            <meta_gui_collapsed>false</meta_gui_collapsed>
            <repeatCount>10</repeatCount>
            <title>Repeat 10X</title>
            <SpIterOffset type="ic" subtype="offset">
              <meta_gui_collapsed>false</meta_gui_collapsed>
              <meta_gui_selectedOffsetPos>Offset0</meta_gui_selectedOffsetPos>
              <obsArea>
                <PA>0.0</PA>
                <OFFSET>
                  <DC1>60.0</DC1>
                  <DC2>0.0</DC2>
                </OFFSET>
              </obsArea>
              <SpIterSky type="ic" subtype="sky">
                <meta_gui_collapsed>false</meta_gui_collapsed>
                <repeatCount>1</repeatCount>
              </SpIterSky>
            </SpIterOffset>
            <SpIterOffset type="ic" subtype="offset">
              <meta_gui_collapsed>false</meta_gui_collapsed>
              <meta_gui_selectedOffsetPos>Offset0</meta_gui_selectedOffsetPos>
              <obsArea>
                <PA>0.0</PA>
                <OFFSET>
                  <DC1>0.0</DC1>
                  <DC2>0.0</DC2>
                </OFFSET>
              </obsArea>
              <SpIterObserve type="ic" subtype="observe">
                <meta_gui_collapsed>false</meta_gui_collapsed>
                <repeatCount>5</repeatCount>
              </SpIterObserve>
            </SpIterOffset>
          </SpIterRepeat>
        </SpIterFolder>
      </SpObs>
    </SpMSB>
  </SpLibraryFolder>
</SpLibrary>