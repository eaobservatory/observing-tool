<!DOCTYPE html>
<html>
<head>
    <title>Generic</title>
    <link rel="stylesheet" href="ot_help.css" type="text/css" />
</head>
<body>
<nav>
<a href="index.html">&#x2190; JCMT OT Primer Main Page</a>
</nav>

<h1>Creating your program</h1>

<p>
The JCMT OT software enables users to fully specify the observations required
to be carried out at the telescope for a specific program. In this section we
describe how to initially create a program, how to populate a program with MSBs
(for information bout what is an MSB see <a href="intro.html#MSB">here</a>)
from a library provided, and how to save/upload your program to our database.
</p>

<h2 id="gs" class="likesectionHead">Getting started</h2>


<p> 
To begin you should initialise the JCMT OT. Remember that the software must
already be downloaded and installed for these pages to be
relevant (see our
<a href="http://www.eaobservatory.org/jcmt/observing/software-installation/">software
installation page</a> &mdash; make sure you have downloaded the latest version!)
</p>


<p>
You will see two windows pop up. One has a colour picture of the
telescope - that is the JCMT root window. You can use its menus to
open and save files, access the MSB libraries for both ACSIS and SCUBA-2,
and fetch programs from our database. 
</p>

<p>
<img src="images/root.png" width="281" height="248" class="figure" />
</p>

<p>
The window with the JCMT line drawing, which pops on top of the root
window, provides a shortcut to some of the most common startup
actions, so we call that the startup screen:
</p>

<p>
<img src="images/startup.png" alt="Image of startup screen" class="figure" width="720" height="337">
</p>

<p>
For now, press "Create New Program" on the startup screen. The
startup window will be replaced by an science program window. If
you are using a proxy server to connect to the internet now would
be a good time to configure the OT to use this &mdash; see the
instructions <a href="advanced.html#proxy">here</a>.
</p>

<p>
("Open Existing Program" lets you open a science program that
you've previously edited and saved in your own computer system.  "Fetch
Program" allows you to download a program that that you have
completed and uploaded to our observing database.  To download
the program, of course, you will need the project
ID (e.g. m15ai77) and
<a href="http://omp.eao.hawaii.edu/cgi-bin/issuepwd.pl">password</a>.
</p>

<h2 id="ysp" class="likesectionHead">Your science program</h2>

<p>
Look at your blank science program window. It's essentially
divided in four sections:
</p>

<ol>
    <li>The menu and general tool bars at the top
    <li>The program tool bar down the left side
    <li>The program panel in the middle
    <li>The editor panel on the right
</ol>

<p>
The bar between the program panel and the editor panel can be
dragged around to enlarge or reduce them.
</p>

<p>
Currently, the only thing in your program panel is a "Science Program"
line. We'll add things to it later. For now, take the time to fill in
its details in the Science Program editor on the right. The most
important field here is the Project ID field. <em>You have to get this
right otherwise you will not be able to submit your program to
us</em>. Your project ID is what you were assigned when you submitted
your proposal for telescope time. It is of the form m15a followed by a
country letter and a two digit proposal number (sometimes followed by
a letter).
</p>

<p>
<img src="images/sciprog.png" alt="Science Program window" class="figure" width="828" height="692" />
</p>

<p>
Also on the panel are estimates of the total time the specified
program will take with and without optional observations,
which are currently both 0 since we haven't specified any
observations yet.
</p>



<h2 id="syp" class="likesectionHead">Saving your progress</h2>

<p>
Now that we've done something we can save it. Open the File menu
in your Science Program window and choose "Save As...".
</p>

<p>
<img src="images/filesave.png" alt="File Save menu" class="figure" width="588" height="418" />
</p>

<p>
You will be prompted for a filename and so on:
</p>

<p>
<img src="images/saveas.png" alt="Save As window" class="figure" width="516" height="353" />
</p>

<p>
The file format is XML, which is a text (not binary) format that
you can read in later with the OT, or email to your
collaborators. If you have a question, you can also email your
file to your "Friend of the Project" along with your question.
</p>

<p>
You might have noticed that the title of your Science Program
was italics and now that you've saved the file, the title is
normal font. When you edit a component
of your Science Program its title changes font to indicate that
you need to save your work.
</p>


<h2 id="lib" class="likesectionHead">The Libraries</h2>

<p>
The libraries containing commonly used MSBs can be found by by going to the JCMT
root window.
</p>

<p>
<img src="images/root-menu.png" alt="The MSB library" width="281" height="248" class="figure" />
</p>

<h3 id="lib-acsis">The ACSIS Library</h3>

<p>By clicking on the ACSIS library in the JCMT root window a new window
will appear displaying a number of
folders containing commonly used ACSIS MSBs:
</p>

<p>
<img src="het_images/het_copy.png" alt="The ACSIS MSB library" class="figure" />
</p>

<p>
It is possible to open up and look inside the key ACSIS library components
see inside the various types of MSBs.
</p>

<p>
<img src="het_images/het_library2.png" alt="The ACSIS MSB library" class="figure" />
</p>


<h3 id="lib-sc2">The SCUBA-2 Library</h3>

<p>By clicking on the SCUBA-2 library in the JCMT root window  new window
will appear displaying a number of
folders containing commonly used SCUBA-2 MSBs:
</p>

<p>
<img src="s2-images/SCUBA2_copy.png" alt="The SC2 MSB library" class="figure" />
</p>

It is possible to open up and look inside the key SCUBA-2 library components
see inside the various types of MSBs.

<p>
<img src="s2-images/SCUBA2_library3.png" alt="The SC2 MSB library" class="figure" />
</p>



<h2 id="ele" class="likesectionHead">Elements of a Science Program</h2>

<p>
The best way to get a feel for the various elements within an MSB and its
structure it is best to copy over an existing one from either the ACSIS
or SCUBA-2 library into a blank Science Program.Remember a Science program
will contain one or more MSBs - depending on the specific program of work.
</p>

<h3 id="exp-harp">Example of a basic MSB: a HARP stare</h3>

<p> 
In order to produce this example I have copied over the HARP "Position
switch sample" from the ACSIS library into an empty Program.
</p>

<p>
To open up the MSB click on the push "lever". Inside you will find a
Note, a Site Quality Component, Het Setup component, a DR Recipe component,
a second Note (for calibrations), a Target Info. component, and an observation
component which is labeled "Science Observation". Inside the "Science
Observation" component we see a Sequence iterator, a Repeat iterator and
finally a stare:
<p>

<p>
<img src="het_images/het_example.png" alt="The SC21 MSB library" class="figure" />
</p>


<h3 id="exp-sc2">Example of a basic MSB: a SCUBA-2 Daisy</h3>

<p> 
In order to produce this example I have copied over the "Point Source Daisy map"
from the SCUBA-2 library into an empty Program. 
</p>

<p>
To open up the MSB click on the push "lever". Just as we saw in the ACSIS example
we find a Note, a Site Quality Component, Het Setup component, a DR Recipe component,
a Target Information component, and an observation component which is labeled 
"Science Observation". Inside the "Science Observation" component we see a
Sequence iterator, and finally a stare:
</p>

<p>
<img src="s2-images/SCUBA2_example.png" alt="The SC21 MSB library" class="figure" />
</p>


<h3 id="thingies">Components, Iterators And All That</h3>

<p>
The various icons that appear when making your science program/MSB
are specific. The explanation for what these icons are are given below:
</p>
<ul class="custom_marker">
    <li>
        <p>
        <img src="images/icon_msb.png" alt="*" width="16" height="16" />
        MSBs are individually schedulable blocks and
        contain one or more fully specified science
        observation and any calibrations. 

        <ul>
        <li>You should provide a unique name for the MSB - i.e.
         "CO (3-2) observation of M82"
        <li>You should specify the number of times you with the
         program to be Observed - by increasing the Observe counter
        <li>You should edit the Priority 
        <li>the OT will Provide the length of the current MSB as it stands</li>
        </ul>

        </p>
    </li>

    <li>
        <p>
        <img src="images/icon_observation.png" alt="*" width="16" height="16" />
        Observations are observations of a single astronomical
        target and contain components and a sequence.
        </p>
    </li>

    <li>
        <p>
        <img src="images/icon_component.png" alt="*" width="16" height="16" />
        Components are configurators for the JCMT systems such as
        the instrument (het setup component), the telescope (Target
        component) and the scheduler (Site Quality component).

 <ul>
    <li>Site Quality</li>
        <ul>
        <li>You should specify specific tau limits for an MSB with particular
        tau constrains</li>
        </ul>
    </ul>
 <p>
 <ul>
    <li>DR Recipe</li>
        <ul>
        <li>You should select the most appropriate DR Recipe for an observation</li>
        </ul>
    </ul>
 <p>
 <ul>
    <li>JCMT Instrument</li>
        <ul>
        <li>The precise component varies depending on if it is a continuum
        or heterodyne observation</li>
        </ul>
    </ul>
 <p>
 <ul>
    <li>Target Information</li>
        <ul>
        <li>You should specify the target information here</li>
        <li>If required (i.e. for Heterodyne observations without a chop position) you should specify a reference position</li>
        </ul>
 </ul>
        </p>
    </li>

    <li>
        <p>
        <img src="images/icon_iterator.png" alt="*" width="16" height="16" />
        Iterators are potentially multiple actions and
        contain other iterators and one or more
        eyes.
        </p>
    </li>

    <li>
        <p>
        <img src="images/icon_eye.png" alt="*" width="18" height="18" />
        Eyes are actions that results in the actual taking
        of data &mdash; a single data file per eye to be precise.
        </p>
    </li>

    <li>
        <p>
        <img src="images/icon_note.png" alt="*" width="18" height="18" />
        Notes are a repository of useful information and can
        go anywhere.
        <ul>
        <li>You should provide some details about your project - depth
        required/binning etc. This will help the observer and telescope
        operator understand your program.</li>
        </ul>
        </p>
    </li>
</ul>




<h2 id="check" class="likesectionHead">Checklist</h2>
<p>When creating your own program you should ensure you:</p>
<ul>
    <li><p>Fill in your Science Program details</p></li>
    <li><p>Fetch a template MSB from the library</p></li>
    <li><p>Set the target co-ordinates</p></li>
    <li><p>select the DR recipe</p></li>
</ul>

<p>
And also where necessary:
</p>

<ul>
    <li><p>Increase the number of "observations" required and scan time if necessary for the MSBs</p></li>
    <li><p>Modify the chop/update an off/reference position</p></li>
    <li><p>select the instrument set up</p></li>
    <li><p>Make an informative note for the observer</p></li>
</ul>



<h2 id="validation" class="likesectionHead">Validation</h2>
<p>
When you think you are happy with your MSB, your are
<strong>strongly</strong> advised to validate the MSB before
submitting it to the database.
To do this, click on your science programme and press the "Validation"
button on the bar above. This will tell you if there's anything
seriously wrong with your MSBs &mdash; the output can be a bit cryptic
though &mdash; so do contact your Friend of Project if you can't figure
out what it means. You can also check individual MSBs and observations.
Check the validation messages and contact your Friend of the Project if
you need help.
</p>



<h2 id="database" class="likesectionHead">Submitting to our database</h2>

<p>
When you are happy about the MSBs you have created you can submit
them to our database. As soon as you do this, they may be observed
so don't do this unless you mean it! To submit your program to our
database, pull down the Database menu on your Science Program window:
</p>

<p>
<img src="images/submit.png" alt="Submitting" width="603"  class="figure" />
</p>




<p>
A little window will pop up using the Project ID that you put
into your Science Program at the start
(see <a href="#ysp">Your science program</a>).
It will also ask you for a password.

<p>
<img src="images/submit_window.png" alt="Submitting" width="300"  class="figure" />
</p>


You can get a password from our password generator at
<a href="http://omp.eao.hawaii.edu/cgi-bin/issuepwd.pl">
http://omp.eao.hawaii.edu/cgi-bin/issuepwd.pl </a>. If you
forget it, go there to get another one. If you are PI on more
than one project you'll need a password per project so that you
can share it with your different sets of Co-Is. The password you
get will also allow you access to your
<a href="http://omp.eao.hawaii.edu/cgi-bin/feedback.pl">Feedback Area</a>
to check on the progress of your project, double-check
your MSBs, retrieve your data and exchange views with our
staff. Check it out. Both the above links can also be found off
on OMP home page
<a href="http://omp.eao.hawaii.edu/">http://omp.eao.hawaii.edu</a>
</p>

<p>
When you do get your password and submit your program, you will
receive a summary of all the MSBs contained in your
program. Check to make sure that everything is okay. If the
are major problems with you science program the database may complain
and refuse to accept the submission. If you don't understand what
the problem is, email us along with a copy of the problematic
project, but check the
<a href="faq.html">Frequently Asked Questions </a> for hints first.
</p>

<p>
One last thing: don't forget to save your Science Program to
your local file too. But &mdash; always start a new session by
fetching the program from our database before making any
changes, since our system modifies your science program to
indicate which observations have been observed.
</p>



<h2 class="likesectionHead">Integration times</h2>

<p>
Note that throughout this document <b>integration times</b> are the
<em>"on"-source</em> time only, instead of <em>"on+off"</em> as
before.
</p>



<h2 class="likesectionHead">Advanced OT Topics</h2>

<p>
There is a section on
<a href="advanced.html#advanced">Advanced Topics</a>
that observers should read. There you will learn more about
how the Target and Heterodyne components can interact with each other,
and also how to use the
<a href="advanced.html#andor">AND/OR folders</a>
when you have many MSBs in your programme.
<a href="advanced.html#survey">Survey containers</a> may significantly
simplify your setup if used properly.
</p>


