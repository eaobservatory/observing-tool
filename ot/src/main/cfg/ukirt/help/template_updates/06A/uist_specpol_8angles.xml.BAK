<?xml version="1.0" encoding="ISO-8859-1"?>
<SpProg type="pr" subtype="none"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xmlns="http://omp.eao.hawaii.edu/schema/TOML">

  <meta_gui_collapsed>false</meta_gui_collapsed>
  <meta_gui_filename>uist_specpol_8angles.xml</meta_gui_filename>
  <ot_version>20060207</ot_version>
  <telescope>ukirt</telescope>
  <SpNote type="no" subtype="none">
    <meta_gui_collapsed>false</meta_gui_collapsed>
    <note>THIS MSB IS COMPATIBLE WITH THE 06A RELEASE OF THE UKIRT OT.
PLEASE DO NOT USE IT WITH ANY PREVIOUS OR SUBSEQUENT OT VERSION;
IN SUBSEQUENT RELEASES IT WILL APPEAR IN THE TEMPLATE LIBRARY.

TO USE THE MSB, OPEN YOUR SCIENCE PROGRAMME AND COPY/PASTE THIS MSB INTO IT.

</note>
    <title>UPDATE TEMPLATE MSB FOR 06A</title>
  </SpNote>
  <SpMSB checksum="ff1db0105def4b8d7b43c7eb661e3961" remaining="5" type="og" subtype="msb">
    <meta_gui_collapsed>false</meta_gui_collapsed>
    <SpInstUISTRef idref="1"/>
    <SpTelescopeObsCompRef idref="0"/>
    <estimatedDuration units="seconds">4468.13996</estimatedDuration>
    <library_version>$Revision: 1.5 $</library_version>
    <priority>99</priority>
    <title>UIST Specpol (8 angles)</title>
    <totalDuration units="seconds">4878.41988</totalDuration>
    <SpNote type="no" subtype="none">
      <meta_gui_collapsed>false</meta_gui_collapsed>
      <note>Enter your science target co-ordinates below.  When you have done so you can use the "position editor" to  select a guide star, to fine tune the co-ordinate based on a sky-survey picture, examine offset locations on the field, etc.

These coordinates will be inherited by the three observations below UNLESS they are over-written by a Target component in the observation.

For a step-by-step guide to how to use the position editor use "help".</note>
      <title>Target information</title>
    </SpNote>
    <SpTelescopeObsComp id="0" type="oc" subtype="targetList">
      <meta_gui_collapsed>false</meta_gui_collapsed>
      <meta_gui_selectedTelescopePos>Base</meta_gui_selectedTelescopePos>
      <meta_unique>true</meta_unique>
      <BASE TYPE="Base">
        <target>
          <targetName></targetName>
          <spherSystem SYSTEM="J2000">
            <c1>0:0:0.0</c1>
            <c2>0:0:0.0</c2>
            <rv defn="radio" frame="LSR">0.0</rv>
          </spherSystem>
        </target>
      </BASE>
    </SpTelescopeObsComp>
    <SpNote type="no" subtype="none">
      <meta_gui_collapsed>false</meta_gui_collapsed>
      <note>This example sets up the HK grism with an east-west 5 pixel pol slit.  Select another grism, angle and/or slit from the drop down menus.  Note that the POL option has also been ticked.

The wavplate is moved using an ITERATOR - i.e. waveplate moves are much like offsets on the sky;  see the examples below.

These parameters will be inherited by the flat/arc, the standard, and the science target observations.  Only the exposure time will be changed (using UIST iterators) within each observations, where necessary

NOTE:  If you change ANYTHING in the UIST component, open the "flat and arc " observation below, click on the flat eyeball and select "set default".  Do the same on the arc.  This ensures all changes are picked up by the calibrations.</note>
      <title>Configuration information</title>
    </SpNote>
    <SpInstUIST id="1" type="oc" subtype="inst.UIST">
      <meta_gui_collapsed>false</meta_gui_collapsed>
      <meta_unique>true</meta_unique>
      <meta_version>3</meta_version>
      <DAConf>ND1</DAConf>
      <DAConfMinExpT>0.81</DAConfMinExpT>
      <DAConfMinExpTime>0.81</DAConfMinExpTime>
      <arrayAngle>0.54</arrayAngle>
      <biasDutyCycle>0.507</biasDutyCycle>
      <biasIdlePeriod>0.0022</biasIdlePeriod>
      <biasMustIdles>100</biasMustIdles>
      <biasNResets>2</biasNResets>
      <biasObsTime>9.468</biasObsTime>
      <biasReadArea>1024x1024</biasReadArea>
      <biasRefPixelX>512.5</biasRefPixelX>
      <biasRefPixelY>512.5</biasRefPixelY>
      <biasWaveform>uist_starev11</biasWaveform>
      <camera>spectroscopy</camera>
      <centralWavelength>1.9534</centralWavelength>
      <chopDelay>0.0</chopDelay>
      <chopFrequency>0.0</chopFrequency>
      <coadds>1</coadds>
      <configType>Normal</configType>
      <darkFilter>black_blank</darkFilter>
      <disperser>HK+pol</disperser>
      <dispersion>0.00109</dispersion>
      <dutyCycle>0.9655622565576161</dutyCycle>
      <expTimeOT>60.0</expTimeOT>
      <exposureTime>60.0</exposureTime>
      <filter>B2</filter>
      <filterCategory>broad</filterCategory>
      <focus>2.60</focus>
      <idlePeriod>0.0022</idlePeriod>
      <imager>0.12</imager>
      <instAper>
        <value>24.73</value>
        <value>0.91</value>
        <value>0.00</value>
        <value>2.00</value>
      </instAper>
      <instPntgOffset>
        <value>17.24</value>
        <value>8.2076</value>
      </instPntgOffset>
      <instPort>South</instPort>
      <mask>pol_mask_spec_5</mask>
      <maskHeight>20.0</maskHeight>
      <maskWidth>5.0</maskWidth>
      <mode>NDSTARE</mode>
      <mustIdles>100</mustIdles>
      <nreads>61</nreads>
      <nresets>1</nresets>
      <nullCycles>0</nullCycles>
      <nullExposures>0</nullExposures>
      <nullReads>1</nullReads>
      <obsTimeOT>10.0</obsTimeOT>
      <observationTime>62.13996</observationTime>
      <order>1</order>
      <pixelFOV>0.1205 x 0.1205</pixelFOV>
      <pixelScale>0.12</pixelScale>
      <polarimetry>yes</polarimetry>
      <posAngle>-90.0</posAngle>
      <pupil_imaging>no</pupil_imaging>
      <readArea>1024x1024</readArea>
      <readInterval>1.0</readInterval>
      <readMode>NDSTARE</readMode>
      <readout>NDSTARE</readout>
      <readoutOT>NDSTARE 1024x1024</readoutOT>
      <refPixelL>512.5</refPixelL>
      <refPixelS>480.5</refPixelS>
      <refPixelX>480.5</refPixelX>
      <refPixelY>480.5</refPixelY>
      <resetDelay>0.11</resetDelay>
      <resolution>358.42201834862385</resolution>
      <scienceArea>0.6 x 20.0 arcsec</scienceArea>
      <source_mag>9-10</source_mag>
      <spectralCoverage>1.395um-2.506um</spectralCoverage>
      <target_acq>no</target_acq>
      <waveform>uist_starev11</waveform>
    </SpInstUIST>
    <SpObs msb="false" optional="true" remaining="1" type="ob" subtype="none">
      <meta_gui_collapsed>false</meta_gui_collapsed>
      <estimatedDuration units="seconds">35.279920000000004</estimatedDuration>
      <standard>true</standard>
      <title>Flat and arc</title>
      <SpDRRecipe type="oc" subtype="DRRecipe">
        <meta_gui_collapsed>false</meta_gui_collapsed>
        <meta_unique>true</meta_unique>
        <ArcInGroup>false</ArcInGroup>
        <ArcRecipe>REDUCE_ARC</ArcRecipe>
        <BiasInGroup>false</BiasInGroup>
        <BiasRecipe>REDUCE_BIAS</BiasRecipe>
        <DRRecipe>JITTER_SELF_FLAT</DRRecipe>
        <DarkInGroup>false</DarkInGroup>
        <DarkRecipe>REDUCE_DARK</DarkRecipe>
        <FlatInGroup>false</FlatInGroup>
        <FlatRecipe>REDUCE_FLAT</FlatRecipe>
        <FocusInGroup>false</FocusInGroup>
        <FocusRecipe>REDUCE_FOCUS</FocusRecipe>
        <ObjectInGroup>true</ObjectInGroup>
        <ObjectRecipe>REDUCE_SINGLE_FRAME</ObjectRecipe>
        <SkyInGroup>true</SkyInGroup>
        <SkyRecipe>REDUCE_SKY</SkyRecipe>
        <title>REDUCE_SINGLE_FRAME</title>
      </SpDRRecipe>
      <SpIterFolder type="if" subtype="none">
        <meta_gui_collapsed>false</meta_gui_collapsed>
        <SpIterUISTCalObs type="ic" subtype="UISTCalObs">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <arcSource>undefined</arcSource>
          <calType>Flat</calType>
          <centralWavelength>1.953</centralWavelength>
          <chopDelay>0.0</chopDelay>
          <chopFrequency>0.0</chopFrequency>
          <coadds>1</coadds>
          <dutyCycle>0.7371043592351805</dutyCycle>
          <expTimeOT>6.0</expTimeOT>
          <exposureTime>6.0</exposureTime>
          <filter>B2</filter>
          <flatSource>BB_5.0mm</flatSource>
          <focus>2.60</focus>
          <idlePeriod>0.0022</idlePeriod>
          <mode>NDSTARE</mode>
          <mustIdles>100</mustIdles>
          <nreads>7</nreads>
          <nresets>1</nresets>
          <nullCycles>0</nullCycles>
          <nullExposures>0</nullExposures>
          <nullReads>1</nullReads>
          <obsTimeOT>20.0</obsTimeOT>
          <observationTime>8.13996</observationTime>
          <order>1</order>
          <readInterval>1.0</readInterval>
          <repeatCount>1</repeatCount>
          <resetDelay>0.11</resetDelay>
          <waveform>uist_starev11</waveform>
        </SpIterUISTCalObs>
        <SpIterUISTCalObs type="ic" subtype="UISTCalObs">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <arcSource>argon</arcSource>
          <calType>Arc</calType>
          <centralWavelength>1.9534</centralWavelength>
          <chopDelay>0.0</chopDelay>
          <chopFrequency>0.0</chopFrequency>
          <coadds>1</coadds>
          <dutyCycle>0.9148781461863902</dutyCycle>
          <expTimeOT>22.5</expTimeOT>
          <exposureTime>23.0</exposureTime>
          <filter>B2</filter>
          <flatSource>undefined</flatSource>
          <focus>2.60</focus>
          <idlePeriod>0.0022</idlePeriod>
          <mode>NDSTARE</mode>
          <mustIdles>100</mustIdles>
          <nreads>24</nreads>
          <nresets>1</nresets>
          <nullCycles>0</nullCycles>
          <nullExposures>0</nullExposures>
          <nullReads>1</nullReads>
          <obsTimeOT>15.0</obsTimeOT>
          <observationTime>25.13996</observationTime>
          <order>1</order>
          <readInterval>1.0</readInterval>
          <repeatCount>1</repeatCount>
          <resetDelay>0.11</resetDelay>
          <waveform>uist_starev11</waveform>
        </SpIterUISTCalObs>
      </SpIterFolder>
    </SpObs>
    <SpObs msb="false" optional="true" remaining="1" type="ob" subtype="none">
      <meta_gui_collapsed>false</meta_gui_collapsed>
      <meta_gui_selected>false</meta_gui_selected>
      <estimatedDuration units="seconds">375.0</estimatedDuration>
      <standard>true</standard>
      <title>Pol standard</title>
      <SpNote type="no" subtype="none">
        <meta_gui_collapsed>false</meta_gui_collapsed>
        <note>POINT_SOURCE_POL can be used on any point source;  a polarised or unpolarised standard, or your science target.  It assumes 4 object-sky pairs are acquired, one at each of the nominal waveplate angles (0,45,22.5,67.5 degs).</note>
        <title>DR Recipe Selection</title>
      </SpNote>
      <SpTelescopeObsComp type="oc" subtype="targetList">
        <meta_gui_selectedTelescopePos>Base</meta_gui_selectedTelescopePos>
        <meta_unique>true</meta_unique>
        <BASE TYPE="Base">
          <target>
            <targetName></targetName>
            <spherSystem SYSTEM="J2000">
              <c1>0:00:00</c1>
              <c2>0:00:00</c2>
              <rv defn="radio" frame="LSR">0.0</rv>
            </spherSystem>
          </target>
        </BASE>
      </SpTelescopeObsComp>
      <SpDRRecipe type="oc" subtype="DRRecipe">
        <meta_gui_collapsed>false</meta_gui_collapsed>
        <meta_unique>true</meta_unique>
        <ArcInGroup>false</ArcInGroup>
        <ArcRecipe>REDUCE_ARC</ArcRecipe>
        <BiasInGroup>false</BiasInGroup>
        <BiasRecipe>REDUCE_BIAS</BiasRecipe>
        <DRRecipe>JITTER_SELF_FLAT</DRRecipe>
        <DarkInGroup>false</DarkInGroup>
        <DarkRecipe>REDUCE_DARK</DarkRecipe>
        <FlatInGroup>false</FlatInGroup>
        <FlatRecipe>REDUCE_FLAT</FlatRecipe>
        <FocusInGroup>false</FocusInGroup>
        <FocusRecipe>REDUCE_FOCUS</FocusRecipe>
        <ObjectInGroup>true</ObjectInGroup>
        <ObjectRecipe>POINT_SOURCE_POL</ObjectRecipe>
        <SkyInGroup>true</SkyInGroup>
        <SkyRecipe>POINT_SOURCE_POL</SkyRecipe>
        <title>POINT_SOURCE_POL</title>
      </SpDRRecipe>
      <SpIterFolder type="if" subtype="none">
        <meta_gui_collapsed>false</meta_gui_collapsed>
        <SpNote type="no" subtype="none">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <note>Use the observation below to select a short exposure time for imaging acquisition (depending on the source brightness).  For standards, 1 sec should be enough; for faint science targets, 5sec x 3 coadds is usually ok for point sources down to about 17th mag (use coadds rather than one long exposure to avoid latency).

Note about the standard:  
================

Chances are, the bright standard will be too bright for imaging acquisition (it may leave a latent image on the array after imaging acquisition).  To get around this the TSS will in actual fact acquire a nearby 9-10 mag star.  Once this is done, the relative offset between the optical and infrared beams will be calibrated (for on-axis guiding); s/he will then slew back to the brighter standand and, because the standard is also the guide star (again on-axis guiding),  simply switching on the guider will put the star down the UIST slit.   THIS IS WHY THE BRIGHTESTS SELECTABLE SOURCE MAG FOR TARGET ACQUISITION IS 9TH.  SO CHOOSE 9-10 FOR YOUR STANDARD.</note>
          <title>Imaging Acquisition</title>
        </SpNote>
        <SpIterUISTTargetAcq type="ic" subtype="instUISTTargetAcq">
          <meta_gui_collapsed>true</meta_gui_collapsed>
          <coadds>1</coadds>
          <disperser>aq_HK+pol</disperser>
          <dispersion>0.0</dispersion>
          <exposureTime>1.0</exposureTime>
          <filter>B2</filter>
          <mask>pol_aperture</mask>
          <maskHeight>120.0</maskHeight>
          <maskWidth>1024.0</maskWidth>
          <repeatCount>1</repeatCount>
          <resolution>0.0</resolution>
          <scienceArea>122.88 x 120.0 arcsec</scienceArea>
          <source_mag>9-10</source_mag>
        </SpIterUISTTargetAcq>
        <SpNote type="no" subtype="none">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <note>Use the UIST iterator below to set the exposure time for the standard star (usually only a few seconds on a 5-6th mag F or A-type, as compared to perhaps hundreds of seconds on the faint science target).  

Everything else (grism, slit width, slit angle, etc.) will be the same as for the science target.</note>
          <title>Exp time on standard</title>
        </SpNote>
        <SpIterUISTSpecIFU type="ic" subtype="instUISTSpecIFU">
          <meta_gui_collapsed>true</meta_gui_collapsed>
          <exposureTimeIter>17.0</exposureTimeIter>
          <iterConfigList>
            <value>source_magIter</value>
            <value>exposureTimeIter</value>
          </iterConfigList>
          <source_magIter>7-8</source_magIter>
          <SpIterRepeat type="ic" subtype="repeat">
            <meta_gui_collapsed>false</meta_gui_collapsed>
            <repeatCount>1</repeatCount>
            <title>Repeat 1X</title>
            <SpNote type="no" subtype="none">
              <meta_gui_collapsed>false</meta_gui_collapsed>
              <note>The offsets below nod the source +40 then -40 rows along the slit  (note that the pol slit mask is only 20" long)</note>
              <title>offset info</title>
            </SpNote>
            <SpNote type="no" subtype="none">
              <meta_gui_collapsed>false</meta_gui_collapsed>
              <note>This sequence interleaves irpol waveplate rotations and slit nodding.

The whole sequence looks like this:

Waveplate 0 degrees
object1
object2
waveplate 45 degrees
object2
object1
waveplate 22.5 degrees
object1 
object2
waveplate 67.5 degrees
object2
object1

where object1 and object2 are two positions on the pol slit.</note>
              <title>irpol info</title>
            </SpNote>
            <SpIterIRPOL type="ic" subtype="instIRPOL">
              <meta_gui_collapsed>false</meta_gui_collapsed>
              <IRPOLIter>0</IRPOLIter>
              <iterConfigList>IRPOLIter</iterConfigList>
              <SpIterOffset type="ic" subtype="offset">
                <meta_gui_collapsed>false</meta_gui_collapsed>
                <meta_gui_selectedOffsetPos>Offset0</meta_gui_selectedOffsetPos>
                <obsArea>
                  <PA>-90.0</PA>
                  <OFFSET>
                    <DC1>0.0</DC1>
                    <DC2>-4.8</DC2>
                  </OFFSET>
                  <OFFSET>
                    <DC1>0.0</DC1>
                    <DC2>4.8</DC2>
                  </OFFSET>
                </obsArea>
                <SpIterObserve type="ic" subtype="observe">
                  <meta_gui_collapsed>false</meta_gui_collapsed>
                  <repeatCount>1</repeatCount>
                </SpIterObserve>
              </SpIterOffset>
            </SpIterIRPOL>
            <SpIterIRPOL type="ic" subtype="instIRPOL">
              <meta_gui_collapsed>false</meta_gui_collapsed>
              <IRPOLIter>45</IRPOLIter>
              <iterConfigList>IRPOLIter</iterConfigList>
              <SpIterOffset type="ic" subtype="offset">
                <meta_gui_collapsed>false</meta_gui_collapsed>
                <meta_gui_selectedOffsetPos>Offset0</meta_gui_selectedOffsetPos>
                <obsArea>
                  <PA>-90.0</PA>
                  <OFFSET>
                    <DC1>0.0</DC1>
                    <DC2>4.8</DC2>
                  </OFFSET>
                  <OFFSET>
                    <DC1>0.0</DC1>
                    <DC2>-4.8</DC2>
                  </OFFSET>
                </obsArea>
                <SpIterObserve type="ic" subtype="observe">
                  <meta_gui_collapsed>false</meta_gui_collapsed>
                  <repeatCount>1</repeatCount>
                </SpIterObserve>
              </SpIterOffset>
            </SpIterIRPOL>
            <SpIterIRPOL type="ic" subtype="instIRPOL">
              <meta_gui_collapsed>false</meta_gui_collapsed>
              <IRPOLIter>22.5</IRPOLIter>
              <iterConfigList>IRPOLIter</iterConfigList>
              <SpIterOffset type="ic" subtype="offset">
                <meta_gui_collapsed>false</meta_gui_collapsed>
                <meta_gui_selectedOffsetPos>Offset0</meta_gui_selectedOffsetPos>
                <obsArea>
                  <PA>-90.0</PA>
                  <OFFSET>
                    <DC1>0.0</DC1>
                    <DC2>-4.8</DC2>
                  </OFFSET>
                  <OFFSET>
                    <DC1>0.0</DC1>
                    <DC2>4.8</DC2>
                  </OFFSET>
                </obsArea>
                <SpIterObserve type="ic" subtype="observe">
                  <meta_gui_collapsed>false</meta_gui_collapsed>
                  <repeatCount>1</repeatCount>
                </SpIterObserve>
              </SpIterOffset>
            </SpIterIRPOL>
            <SpIterIRPOL type="ic" subtype="instIRPOL">
              <meta_gui_collapsed>false</meta_gui_collapsed>
              <IRPOLIter>67.5</IRPOLIter>
              <iterConfigList>IRPOLIter</iterConfigList>
              <SpIterOffset type="ic" subtype="offset">
                <meta_gui_collapsed>false</meta_gui_collapsed>
                <meta_gui_selectedOffsetPos>Offset0</meta_gui_selectedOffsetPos>
                <obsArea>
                  <PA>-90.0</PA>
                  <OFFSET>
                    <DC1>0.0</DC1>
                    <DC2>4.8</DC2>
                  </OFFSET>
                  <OFFSET>
                    <DC1>0.0</DC1>
                    <DC2>-4.8</DC2>
                  </OFFSET>
                </obsArea>
                <SpIterObserve type="ic" subtype="observe">
                  <meta_gui_collapsed>false</meta_gui_collapsed>
                  <repeatCount>1</repeatCount>
                </SpIterObserve>
              </SpIterOffset>
            </SpIterIRPOL>
            <SpIterIRPOL type="ic" subtype="instIRPOL">
              <meta_gui_collapsed>false</meta_gui_collapsed>
              <IRPOLIter>90</IRPOLIter>
              <iterConfigList>IRPOLIter</iterConfigList>
              <SpIterOffset type="ic" subtype="offset">
                <meta_gui_collapsed>false</meta_gui_collapsed>
                <meta_gui_selectedOffsetPos>Offset0</meta_gui_selectedOffsetPos>
                <obsArea>
                  <PA>-90.0</PA>
                  <OFFSET>
                    <DC1>0.0</DC1>
                    <DC2>-4.8</DC2>
                  </OFFSET>
                  <OFFSET>
                    <DC1>0.0</DC1>
                    <DC2>4.8</DC2>
                  </OFFSET>
                </obsArea>
                <SpIterObserve type="ic" subtype="observe">
                  <meta_gui_collapsed>false</meta_gui_collapsed>
                  <repeatCount>1</repeatCount>
                </SpIterObserve>
              </SpIterOffset>
            </SpIterIRPOL>
            <SpIterIRPOL type="ic" subtype="instIRPOL">
              <meta_gui_collapsed>false</meta_gui_collapsed>
              <IRPOLIter>135</IRPOLIter>
              <iterConfigList>IRPOLIter</iterConfigList>
              <SpIterOffset type="ic" subtype="offset">
                <meta_gui_collapsed>false</meta_gui_collapsed>
                <meta_gui_selectedOffsetPos>Offset0</meta_gui_selectedOffsetPos>
                <obsArea>
                  <PA>-90.0</PA>
                  <OFFSET>
                    <DC1>0.0</DC1>
                    <DC2>4.8</DC2>
                  </OFFSET>
                  <OFFSET>
                    <DC1>0.0</DC1>
                    <DC2>-4.8</DC2>
                  </OFFSET>
                </obsArea>
                <SpIterObserve type="ic" subtype="observe">
                  <meta_gui_collapsed>false</meta_gui_collapsed>
                  <repeatCount>1</repeatCount>
                </SpIterObserve>
              </SpIterOffset>
            </SpIterIRPOL>
            <SpIterIRPOL type="ic" subtype="instIRPOL">
              <meta_gui_collapsed>false</meta_gui_collapsed>
              <IRPOLIter>112.5</IRPOLIter>
              <iterConfigList>IRPOLIter</iterConfigList>
              <SpIterOffset type="ic" subtype="offset">
                <meta_gui_collapsed>false</meta_gui_collapsed>
                <meta_gui_selectedOffsetPos>Offset0</meta_gui_selectedOffsetPos>
                <obsArea>
                  <PA>-90.0</PA>
                  <OFFSET>
                    <DC1>0.0</DC1>
                    <DC2>-4.8</DC2>
                  </OFFSET>
                  <OFFSET>
                    <DC1>0.0</DC1>
                    <DC2>4.8</DC2>
                  </OFFSET>
                </obsArea>
                <SpIterObserve type="ic" subtype="observe">
                  <meta_gui_collapsed>false</meta_gui_collapsed>
                  <repeatCount>1</repeatCount>
                </SpIterObserve>
              </SpIterOffset>
            </SpIterIRPOL>
            <SpIterIRPOL type="ic" subtype="instIRPOL">
              <meta_gui_collapsed>false</meta_gui_collapsed>
              <IRPOLIter>157.5</IRPOLIter>
              <iterConfigList>IRPOLIter</iterConfigList>
              <SpIterOffset type="ic" subtype="offset">
                <meta_gui_collapsed>false</meta_gui_collapsed>
                <meta_gui_selectedOffsetPos>Offset0</meta_gui_selectedOffsetPos>
                <obsArea>
                  <PA>-90.0</PA>
                  <OFFSET>
                    <DC1>0.0</DC1>
                    <DC2>4.8</DC2>
                  </OFFSET>
                  <OFFSET>
                    <DC1>0.0</DC1>
                    <DC2>-4.8</DC2>
                  </OFFSET>
                </obsArea>
                <SpIterObserve type="ic" subtype="observe">
                  <meta_gui_collapsed>false</meta_gui_collapsed>
                  <repeatCount>1</repeatCount>
                </SpIterObserve>
              </SpIterOffset>
            </SpIterIRPOL>
          </SpIterRepeat>
        </SpIterUISTSpecIFU>
        <SpNote type="no" subtype="none">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <note>Waveplate back to 0 degrees.  The last offset already sets the telescope back to offset 0,0.</note>
          <title>Return to zero</title>
        </SpNote>
        <SpIterIRPOL type="ic" subtype="instIRPOL">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <IRPOLIter>0</IRPOLIter>
          <iterConfigList>IRPOLIter</iterConfigList>
        </SpIterIRPOL>
        <SpIterOffset type="ic" subtype="offset">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <meta_gui_selectedOffsetPos>Offset0</meta_gui_selectedOffsetPos>
          <obsArea>
            <PA>-90.0</PA>
            <OFFSET>
              <DC1>0.0</DC1>
              <DC2>0.0</DC2>
            </OFFSET>
          </obsArea>
        </SpIterOffset>
      </SpIterFolder>
    </SpObs>
    <SpObs msb="false" optional="false" remaining="1" type="ob" subtype="none">
      <meta_gui_collapsed>false</meta_gui_collapsed>
      <meta_gui_selected>false</meta_gui_selected>
      <estimatedDuration units="seconds">4288.13996</estimatedDuration>
      <standard>false</standard>
      <title>science target</title>
      <SpNote type="no" subtype="none">
        <meta_gui_collapsed>false</meta_gui_collapsed>
        <note>POINT_SOURCE_POL can be used on any point source;  a polarised or unpolarised standard, or your science target.  It assumes 4 object-sky pairs are acquired, one at each of the nominal waveplate angles (0,45,22.5,67.5 degs).</note>
        <title>DR Recipe Selection</title>
      </SpNote>
      <SpDRRecipe type="oc" subtype="DRRecipe">
        <meta_gui_collapsed>false</meta_gui_collapsed>
        <meta_unique>true</meta_unique>
        <ArcInGroup>false</ArcInGroup>
        <ArcRecipe>REDUCE_ARC</ArcRecipe>
        <BiasInGroup>false</BiasInGroup>
        <BiasRecipe>REDUCE_BIAS</BiasRecipe>
        <DRRecipe>JITTER_SELF_FLAT</DRRecipe>
        <DarkInGroup>false</DarkInGroup>
        <DarkRecipe>REDUCE_DARK</DarkRecipe>
        <FlatInGroup>false</FlatInGroup>
        <FlatRecipe>REDUCE_FLAT</FlatRecipe>
        <FocusInGroup>false</FocusInGroup>
        <FocusRecipe>REDUCE_FOCUS</FocusRecipe>
        <ObjectInGroup>true</ObjectInGroup>
        <ObjectRecipe>POINT_SOURCE_POL</ObjectRecipe>
        <SkyInGroup>true</SkyInGroup>
        <SkyRecipe>POINT_SOURCE_POL</SkyRecipe>
        <title>POINT_SOURCE_POL</title>
      </SpDRRecipe>
      <SpIterFolder type="if" subtype="none">
        <meta_gui_collapsed>false</meta_gui_collapsed>
        <SpNote type="no" subtype="none">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <note>Use the observation below to select a short exposure time for imaging acquisition (depending on the source brightness).  For standards, 1 sec should be enough; for faint science targets, 5sec x 3 coadds is usually ok for point sources down to about 17th mag (use coadds rather than one long exposure to avoid latency).</note>
          <title>Imaging Acquisition</title>
        </SpNote>
        <SpIterUISTTargetAcq type="ic" subtype="instUISTTargetAcq">
          <meta_gui_collapsed>true</meta_gui_collapsed>
          <coadds>1</coadds>
          <disperser>aq_HK+pol</disperser>
          <dispersion>0.0</dispersion>
          <exposureTime>1.0</exposureTime>
          <filter>B2</filter>
          <mask>pol_aperture</mask>
          <maskHeight>120.0</maskHeight>
          <maskWidth>1024.0</maskWidth>
          <repeatCount>1</repeatCount>
          <resolution>0.0</resolution>
          <scienceArea>122.88 x 120.0 arcsec</scienceArea>
          <source_mag>9-10</source_mag>
        </SpIterUISTTargetAcq>
        <SpIterRepeat type="ic" subtype="repeat">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <repeatCount>4</repeatCount>
          <title>Repeat 4X</title>
          <SpNote type="no" subtype="none">
            <meta_gui_collapsed>false</meta_gui_collapsed>
            <note>The offsets below nod the source +40 then -40 rows along the slit  (note that the pol slit mask is only 20" long)</note>
            <title>offset info</title>
          </SpNote>
          <SpNote type="no" subtype="none">
            <meta_gui_collapsed>false</meta_gui_collapsed>
            <note>This sequence interleaves irpol waveplate rotations and slit nodding.

The whole sequence looks like this:

Waveplate 0 degrees
object1
object2
waveplate 45 degrees
object2
object1
waveplate 22.5 degrees
object1 
object2
waveplate 67.5 degrees
object2
object1

where object1 and object2 are two positions on the pol slit.</note>
            <title>irpol info</title>
          </SpNote>
          <SpIterIRPOL type="ic" subtype="instIRPOL">
            <meta_gui_collapsed>true</meta_gui_collapsed>
            <IRPOLIter>0</IRPOLIter>
            <iterConfigList>IRPOLIter</iterConfigList>
            <SpIterOffset type="ic" subtype="offset">
              <meta_gui_collapsed>true</meta_gui_collapsed>
              <meta_gui_selectedOffsetPos>Offset0</meta_gui_selectedOffsetPos>
              <obsArea>
                <PA>-90.0</PA>
                <OFFSET>
                  <DC1>0.0</DC1>
                  <DC2>-4.8</DC2>
                </OFFSET>
                <OFFSET>
                  <DC1>0.0</DC1>
                  <DC2>4.8</DC2>
                </OFFSET>
              </obsArea>
              <SpIterObserve type="ic" subtype="observe">
                <meta_gui_collapsed>false</meta_gui_collapsed>
                <repeatCount>1</repeatCount>
              </SpIterObserve>
            </SpIterOffset>
          </SpIterIRPOL>
          <SpIterIRPOL type="ic" subtype="instIRPOL">
            <meta_gui_collapsed>true</meta_gui_collapsed>
            <IRPOLIter>45</IRPOLIter>
            <iterConfigList>IRPOLIter</iterConfigList>
            <SpIterOffset type="ic" subtype="offset">
              <meta_gui_collapsed>true</meta_gui_collapsed>
              <meta_gui_selectedOffsetPos>Offset0</meta_gui_selectedOffsetPos>
              <obsArea>
                <PA>-90.0</PA>
                <OFFSET>
                  <DC1>0.0</DC1>
                  <DC2>4.8</DC2>
                </OFFSET>
                <OFFSET>
                  <DC1>0.0</DC1>
                  <DC2>-4.8</DC2>
                </OFFSET>
              </obsArea>
              <SpIterObserve type="ic" subtype="observe">
                <meta_gui_collapsed>false</meta_gui_collapsed>
                <repeatCount>1</repeatCount>
              </SpIterObserve>
            </SpIterOffset>
          </SpIterIRPOL>
          <SpIterIRPOL type="ic" subtype="instIRPOL">
            <meta_gui_collapsed>true</meta_gui_collapsed>
            <IRPOLIter>22.5</IRPOLIter>
            <iterConfigList>IRPOLIter</iterConfigList>
            <SpIterOffset type="ic" subtype="offset">
              <meta_gui_collapsed>true</meta_gui_collapsed>
              <meta_gui_selectedOffsetPos>Offset0</meta_gui_selectedOffsetPos>
              <obsArea>
                <PA>-90.0</PA>
                <OFFSET>
                  <DC1>0.0</DC1>
                  <DC2>-4.8</DC2>
                </OFFSET>
                <OFFSET>
                  <DC1>0.0</DC1>
                  <DC2>4.8</DC2>
                </OFFSET>
              </obsArea>
              <SpIterObserve type="ic" subtype="observe">
                <meta_gui_collapsed>false</meta_gui_collapsed>
                <repeatCount>1</repeatCount>
              </SpIterObserve>
            </SpIterOffset>
          </SpIterIRPOL>
          <SpIterIRPOL type="ic" subtype="instIRPOL">
            <meta_gui_collapsed>true</meta_gui_collapsed>
            <IRPOLIter>67.5</IRPOLIter>
            <iterConfigList>IRPOLIter</iterConfigList>
            <SpIterOffset type="ic" subtype="offset">
              <meta_gui_collapsed>true</meta_gui_collapsed>
              <meta_gui_selectedOffsetPos>Offset0</meta_gui_selectedOffsetPos>
              <obsArea>
                <PA>-90.0</PA>
                <OFFSET>
                  <DC1>0.0</DC1>
                  <DC2>4.8</DC2>
                </OFFSET>
                <OFFSET>
                  <DC1>0.0</DC1>
                  <DC2>-4.8</DC2>
                </OFFSET>
              </obsArea>
              <SpIterObserve type="ic" subtype="observe">
                <meta_gui_collapsed>false</meta_gui_collapsed>
                <repeatCount>1</repeatCount>
              </SpIterObserve>
            </SpIterOffset>
          </SpIterIRPOL>
          <SpIterIRPOL type="ic" subtype="instIRPOL">
            <meta_gui_collapsed>true</meta_gui_collapsed>
            <IRPOLIter>90</IRPOLIter>
            <iterConfigList>IRPOLIter</iterConfigList>
            <SpIterOffset type="ic" subtype="offset">
              <meta_gui_collapsed>true</meta_gui_collapsed>
              <meta_gui_selectedOffsetPos>Offset0</meta_gui_selectedOffsetPos>
              <obsArea>
                <PA>-90.0</PA>
                <OFFSET>
                  <DC1>0.0</DC1>
                  <DC2>-4.8</DC2>
                </OFFSET>
                <OFFSET>
                  <DC1>0.0</DC1>
                  <DC2>4.8</DC2>
                </OFFSET>
              </obsArea>
              <SpIterObserve type="ic" subtype="observe">
                <meta_gui_collapsed>false</meta_gui_collapsed>
                <repeatCount>1</repeatCount>
              </SpIterObserve>
            </SpIterOffset>
          </SpIterIRPOL>
          <SpIterIRPOL type="ic" subtype="instIRPOL">
            <meta_gui_collapsed>true</meta_gui_collapsed>
            <IRPOLIter>135</IRPOLIter>
            <iterConfigList>IRPOLIter</iterConfigList>
            <SpIterOffset type="ic" subtype="offset">
              <meta_gui_collapsed>true</meta_gui_collapsed>
              <meta_gui_selectedOffsetPos>Offset0</meta_gui_selectedOffsetPos>
              <obsArea>
                <PA>-90.0</PA>
                <OFFSET>
                  <DC1>0.0</DC1>
                  <DC2>4.8</DC2>
                </OFFSET>
                <OFFSET>
                  <DC1>0.0</DC1>
                  <DC2>-4.8</DC2>
                </OFFSET>
              </obsArea>
              <SpIterObserve type="ic" subtype="observe">
                <meta_gui_collapsed>false</meta_gui_collapsed>
                <repeatCount>1</repeatCount>
              </SpIterObserve>
            </SpIterOffset>
          </SpIterIRPOL>
          <SpIterIRPOL type="ic" subtype="instIRPOL">
            <meta_gui_collapsed>true</meta_gui_collapsed>
            <IRPOLIter>112.5</IRPOLIter>
            <iterConfigList>IRPOLIter</iterConfigList>
            <SpIterOffset type="ic" subtype="offset">
              <meta_gui_collapsed>true</meta_gui_collapsed>
              <meta_gui_selectedOffsetPos>Offset0</meta_gui_selectedOffsetPos>
              <obsArea>
                <PA>-90.0</PA>
                <OFFSET>
                  <DC1>0.0</DC1>
                  <DC2>-4.8</DC2>
                </OFFSET>
                <OFFSET>
                  <DC1>0.0</DC1>
                  <DC2>4.8</DC2>
                </OFFSET>
              </obsArea>
              <SpIterObserve type="ic" subtype="observe">
                <meta_gui_collapsed>false</meta_gui_collapsed>
                <repeatCount>1</repeatCount>
              </SpIterObserve>
            </SpIterOffset>
          </SpIterIRPOL>
          <SpIterIRPOL type="ic" subtype="instIRPOL">
            <meta_gui_collapsed>true</meta_gui_collapsed>
            <IRPOLIter>157.5</IRPOLIter>
            <iterConfigList>IRPOLIter</iterConfigList>
            <SpIterOffset type="ic" subtype="offset">
              <meta_gui_collapsed>true</meta_gui_collapsed>
              <meta_gui_selectedOffsetPos>Offset0</meta_gui_selectedOffsetPos>
              <obsArea>
                <PA>-90.0</PA>
                <OFFSET>
                  <DC1>0.0</DC1>
                  <DC2>4.8</DC2>
                </OFFSET>
                <OFFSET>
                  <DC1>0.0</DC1>
                  <DC2>-4.8</DC2>
                </OFFSET>
              </obsArea>
              <SpIterObserve type="ic" subtype="observe">
                <meta_gui_collapsed>false</meta_gui_collapsed>
                <repeatCount>1</repeatCount>
              </SpIterObserve>
            </SpIterOffset>
          </SpIterIRPOL>
        </SpIterRepeat>
        <SpNote type="no" subtype="none">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <note>Waveplate back to 0 degrees.  The last offset already sets the telescope back to offset 0,0.</note>
          <title>Return to zero</title>
        </SpNote>
        <SpIterIRPOL type="ic" subtype="instIRPOL">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <IRPOLIter>0</IRPOLIter>
          <iterConfigList>IRPOLIter</iterConfigList>
        </SpIterIRPOL>
      </SpIterFolder>
    </SpObs>
  </SpMSB>
</SpProg>
