<!DOCTYPE html>
<html>
<head>
    <title>The JCMT OT primer</title>
    <link rel="stylesheet" href="ot_help.css" type="text/css" />
</head>
<body>
<h1>The JCMT OT primer</h1>

<img src="images/root.png" width="281" height="248" class="dropright" />

<p>
This document is a primer on how to use the JCMT Observing Tool (JCMT
OT) to prepare and submit observations (see <a href="faq.html#why">Why
do I have to do this?</a>). It assumes that you have already
downloaded and installed the software (see our
<a href="http://www.eaobservatory.org/jcmt/observing/software-installation/">software installation page</a>
&mdash; make sure you have downloaded
the latest version!). If you are using a JAC or summit machine, the
software is already installed. You will also need the <a
href="http://omp.eao.hawaii.edu/cgi-bin/issuepwd.pl">OMP password</a>
for your project in order to be able to <a
href="recap.html#database">upload</a> your MSBs to our observing
database.
</p>

<p>
If you are viewing this document through the JCMT-OT Help menu, there
may be a more up-to-date version on our web site at
<a href="http://www.eaobservatory.org/JCMT/observing-tool/">
http://www.eaobservatory.org/JCMT/observing-tool/</a>.
</p>

<p>
If, after reading this guide you have any questions about preparing
your observations, please consult with your "Friend of the Project"
or email
<a href="mailto:jcmtot@eaobservatory.org">jcmtot@eaobservatory.org</a>.
</p>



<h2 id="contents">Contents</h2>

<p>
Because the OT is a graphical tool, the initial description of
how to use it will undoubtedly appear long-winded. But if you use
the text and screen shots to give yourself some practice you'll
find that you'll actually be able to prepare your program in a
modest number of steps.
</p>

<ul>
    <li><a href="#gen">General information</a></li>
    <li><a href="#gs">Getting started</a></li>
    <li><a href="#ysp">Your science program</a></li>
    <li><a href="#syp">Saving your progress</a></li>
    <li><a href="#ggtm">Getting going: The MSB</a></li>
    <li><a href="het_example.html"><b>Heterodyne MSBs</b></a>
        <ul>
            <li>A Guided Tour of an Example MSB (Beam-Switched <i>Sample</i>)
                <ul>
                    <li><a href="het_example.html#het_anat"> Anatomy of a beam-switched MSB </a></li>
                    <li><a href="het_example.html#ria">Really Important Aside - or is it Inside? </a></li>
                    <li><a href="het_example.html#het_eoam">Elements of an MSB</a></li>
                    <li><a href="het_example.html#thingies">Components, Iterators and All That</a></li>
                    <li><a href="het_example.html#het_thsc">The Het Setup component</a>
                        <ul>
                            <li><a href="het_example.html#het_freq_ed">The Frequency Editor</a>
                            <li><a href="./het_sp_config.html">ACSIS Special Configurations</a>
                        </ul>
                    </li>
                    <li><a href="het_example.html#het_rcpe">DRRecipe Component</a></li>
                    <li><a href="het_example.html#het_tsc">Site Quality</a></li>
                    <li><a href="het_example.html#het_tsched">Scheduling Constraints</a></li>
                    <li><a href="het_example.html#het_tfoc">The Observation component</a></li>
                    <li><a href="het_example.html#het_tcc">The target component</a></li>
                    <li><a href="het_example.html#Moving_Objects">Moving objects</a></li>
                    <li><a href="het_example.html#het_tpe">The position editor</a></li>
                    <li><a href="het_example.html#het_tci">The chop iterator</a></li>
                    <li><a href="het_example.html#het_offset">The offset iterator</a></li>
                    <li><a href="het_example.html#het_sample">The photom/sample eye</a></li>
                    <li><a href="het_example.html#het_time">The repeat iterator and integration time in general</a></li>
                    <li><a href="het_example.html#het_note">Adding  a note</a></li>
                    <li><a href="het_example.html#het_summary">Summary: Making your heterodyne MSB</a></li>
                </ul>
            </li>
            <li><a href="het_example.html#het_msblib">The Heterodyne MSB library</a>
                <ul>
                    <li><a href="het_example.html#het_sam_folder">Samples</a></li>
                    <li><a href="het_example.html#het_grid_folder">Grid Maps</a></li>
                    <li><a href="het_example.html#het_jig_folder">Jiggle Maps</a></li>
                    <li><a href="het_example.html#het_rast_folder">Scan Maps</a></li>
                        <ul>
                            <li><a href="het_example.html#rxa_rast_example">
                                Making a Scan Map With a Non-Array Receiver (RxA/RxW)</a></li>
                            <li><a href="het_example.html#harp_rast_example">
                                Making a Scan Map With an Array Receiver (HARP)</a></li>
                        </ul>
                    </li>
                </ul>
            </li>
        </ul>
    </li>
    <li><a href="scuba2_example.html"><b>SCUBA-2 MSBs</b></a>
        <ul>
            <li><a href="scuba2_example.html#info">General Information</a></li>
            <li><a href="scuba2_example.html#start">Getting started</a></li>
            <li><a href="scuba2_example.html#daisy">Daisy MSBs </a>
                <ul>
                    <li><a href="scuba2_example.html#ex_daisy">Example: Daisy</a></li>
                </ul>
            </li>
            <li><a href="scuba2_example.html#pong">Pong MSBs</a>
                <ul>
                    <li><a href="scuba2_example.html#ex_daisy">Example: Pong900</a></li>
                </ul>
            </li>
            <li><a href="scuba2_example.html#notes">Notes</a>
                <ul>
                    <li><a href="scuba2_example.html#notes_recipe">Assigning a DR recipe</a></li>
                    <li><a href="scuba2_example.html#notes_elev">Elevation constraints</a></li>
                    <li><a href="scuba2_example.html#notes_cals">Frequency of calibrators</a></li>
                </ul>
            </li>
            <li><a href="scuba2_example.html#qus">Questions</a>
                <ul>
                    <li><a href="scuba2_example.html#qus_ot">
                        My version of the OT does not show the same options as the example?</a></li>
                    <li><a href="scuba2_example.html#qus_time">
                        Why is the length of my observation slightly longer than my integration time?</a></li>
                    <li><a href="scuba2_example.html#qus_pongtime">
                        The noise estimate from the OT seems to be incorrect?</a></li>
                    <li><a href="scuba2_example.html#qus_bigger">
                        I want to make a map bigger than an degree, what's the best way?</a></li>
                    <li><a href="scuba2_example.html#qus_timesround">
                        I only want to go once round my pong map, am I allowed?</a></li>
                    <li><a href="scuba2_example.html#qus_load">
                        My project wont load when I enter my project number?</a></li>
                    <li><a href="scuba2_example.html#qus_survey">
                        I have a lot of sources,  how can I speed up creation of my MSBs?</a></li>
                    <li><a href="scuba2_example.html#qus_submit">
                        How do I submit my project?</a></li>
                </ul>
            </li>
        </ul>
    </li>
    <li><a href="recap.html#recap"><b>Recap</b></a>
        <ul>
            <li><a href="recap.html#database">Submitting to our database</a></li>
        </ul>
    </li>
    <li><a href="faq.html#faq"><b>Frequently Asked Questions</b></a>
        <ul>
            <li><a href="faq.html#why">
                Why do I have to do this?</a></li>
            <li><a href="faq.html#deadline">
                What is the deadline for submissions?</a></li>
            <li><a href="faq.html#scheduling">
                What happens to my MSBs after I submit them?</a></li>
            <li><a href="faq.html#length">
                What length should my MSB be?</a></li>
            <li><a href="faq.html#redundancy">
                My MSBs only last half an hour so it is a waste to do a calibration for each one!</a></li>
            <li><a href="faq.html#library">
                I want to do something that is not in the library</a></li>
            <li><a href="faq.html#server">
                What does the warning "Some of the observations in the MSB
                contained default settings for the target information" mean?</a></li>
            <li><a href="faq.html#timeest">
                I don't agree with the time estimates shown in the OT</a></li>
        </ul>
    </li>
    <li><a href="advanced.html#advanced"><b>Advanced topics</b></a>
        <ul>
            <li><a href="advanced.html#placement">
                A note about placement</a></li>
            <li><a href="advanced.html#velocities">
                Velocities: The Het and Target component</a></li>
            <li><a href="advanced.html#replication">
                Generating a programme from a catalogue file</a></li>
            <li><a href="advanced.html#constraints">
                Additional scheduling constraints</a></li>
            <li><a href="advanced.html#andor">
                AND and OR Folders</a></li>
            <li><a href="advanced.html#survey">
                Survey Container</a></li>
            <li><a href="advanced.html#proxy">
                To those behind a firewall: Setting your proxy server</a></li>
        </ul>
    </li>
</ul>

<h2 id="gen">General information</h2>

<p>
This version of the <em><b>JCMT OT</b></em> enables users to build
their science program for heterodyne and SCUBA-2 observations. A
<a href="het_example.html#het_msblib">heterodyne template library</a>
and
<a href="scuba2_example.html#start">SCUBA-2 template library</a>
are provided
which allow users to create MSBs for any available observing mode:
<em>Samples, Grids,
Jiggles</em> and <em>Scans</em> for heterodyne,
and <em>PONG </em>or <em>DAISY scans</em> for SCUBA-2.
</p>

<p>
Investigators are urged to
carefully inspect the example for a beam-switched observation below
and to read the more extensive explanation and instructions presented
for each observing mode. While the components will look familiar to
experienced JCMT observers, most have changed, sometimes in a fairly
subtle manner.
</p>

<h3>Calibrations</h3>

<p>
The JCMT observing software needs further development to enable a more
flexible inclusion of calibration observations: presently there is no
easy way to add calibration observation MSBs.  The JCMT telescope
operators (TSS) will insert calibrations, pointings, foci, etc. into
the observing sequence as appropriate.  Without any specific
instructions in the science program calibrations will be carried out
by observing a 'standard' line in a suitable calibration source.
</p>

<p>
PIs are strongly advised to, at a minimum, add instructions and wishes
regarding calibrations in the <i>Calibration Note</i> to the TSS and
observers. A sample note has been included with the library templates.
For information on standard sources, lines, and observational setup, see:
<a href="http://www.eaobservatory.org/jcmt/instrumentation/heterodyne/calibration/">
JCMT Heterodyne Standards</a>. 
<em>Please be aware that the submm positions for calibrators as used
at the JCMT may differ substantially from the the ones in archives
such as SIMBAD.</em>
</p>

<p>
There are several options for calibrations and ways to customize them:
</p>

<ol>
    <li>
        <p>
        No special calibration MSBs are provided in the Science Program:
        the calibrations will be carried out on a suitable calibration source
        selected by the TSS at a 'standard' frequency, possibly different from
        MSB tuning or redshift. For many applications, this is the most
        appropriate option.
        </p>
    </li>

    <li>
        <p>
        A number of separate calibration MSBs on suitable targets are
        added to the science program, clearly identified as calibrations in
        their title. Typically the set of calibration MSBs should cover the
        RA-range of the science observations to ensure that at least one
        calibration MSB is available at any time.  PIs can customize the
        <i>Het setup</i> but need to take care to pick an appropriate
        switching-scheme for each calibrator chosen.  The TSS will insert the
        calibration MSBs into the observing queue as needed and per
        instruction in the science program.
        </p>

        <ul>
            <li>
                <p>
                The ACSIS library has a set of special template MSBs for a
                position-switch, beam-switch, or scan calibration. The MSBs start
                with a series of (optional) pointing and focus observations. The
                calibration itself is a regular observation that has been marked as a
                calibration.  Configure the <i>Het setup</i> and
                <i>Target Component</i> to customize the calibration for your project. Typically
                choose either a position-switch, beam-switch, or scan calibration,
                depending on the selected calibration target (many of which require a
                position-switch).  Observational details for the calibrators can be
                found at this location:
                <a href="http://www.eaobservatory.org/jcmt/instrumentation/heterodyne/calibration/">
                JCMT Heterodyne Standards</a>.  The calibration MSBs should be added
                to the science program with a high priority (low number) and high
                repeat counter to ensure that they will come up prominently and
                repeatedly in the JCMT Query Tool.
                </p>
            </li>
        </ul>
    </li>

    <li>
        <p>
        Calibration observations are part of the science MSBs:
        </p>

        <ul>
            <li>

                <p>
                Embed the calibration observation of a specific standard source
                and line in your science MSB by copying and pasting the desired
                components from the calibration template described above under
                option 2 (please read those instructions). The MSB should look like:
                </p>

                <p>
                <pre>
                       -------------------------
                       MSB
                         ...
                         Het setup
                         Science Target
                         <font color="green">Calibration Observation (marked as Calibration)</font>
                         Science Observation
                       -------------------------
                </pre>
                </p>

                <p>
                Please be aware of <i>inheritance</i>: in the example above you will need to
                add another <i>Target Component</i> inside Calibration Observations with the
                coordinates and offsets of the calibrator! Likewise, if the
                calibration needs to be done at a different frequency, another
                <i>Het setup</i> needs to be added inside the Calibration Observation. This will
                result in the appropriate retune between the calibrator and the
                science target. This should NOT be done for the manually tuned
                RxW. <b>WARNING:</b> If you include a calibration observation in this manner,
                both your target and calibration source must be observable before the
                MSB can be scheduled, which can severely restrict the night-time
                available to the project in case of an unfortunate combination of
                calibration and science targets.
                </p>
            </li>
        </ul>
    </li>
</ol>


<p>
Issues to consider regarding calibrations may be:
</p>

<ul>
    <li>
        <p>How important is a precise calibration? For many projects it is
        sufficient to ensure that the telescope and receiver are within
        spec.
        </p>
    </li>

    <li>
        <p>
        Can the calibration be done at a 'standard' frequency, possibly
        different from MSB tuning or redshift? Or should the calibration be
        done with the <i>Het setup</i> of the science observation and, if not
        close to a standard frequency, should a line-rich source be selected
        that will allow for the relative calibration of observations from
        night-to-night?
        </p>
    </li>

    <li>
        <p>
        Can the calibration be done using a different bandwidth than the
        science observation? Is an increase in bandwidth allowed to catch
        a nearby standard line? Increasing the bandwidth should not affect the
        calibration, except that the peak of very narrow lines will drop
        because of the lower resolution.
        </p>
    </li>

    <li>
        <p>
        Is it important to observe a planet? Can this be done at one of
        the standard frequencies or should the <i>Het setup</i> from the
        science MSB be used?  Efficiencies derived from isolated observations
        of the continuum level of planets typically are not very
        accurate.
        </p>
    </li>
</ul>

<h3>Integration times</h3>

<p>
Note that throughout this document <b>integration times</b> are the
<em>"on"-source</em> time only, instead of <em>"on+off"</em> as
before.
</p>


<h3>Advanced OT Topics</h3>

<p>
There is a section on
<a href="advanced.html#advanced">Advanced Topics</a>
that observers should read. There you will learn more about
how the Target and Heterodyne components can interact with each other,
and also how to use the
<a href="advanced.html#andor">AND/OR folders</a>
when you have many MSBs in your programme.
<a href="advanced.html#survey">Survey containers</a> may significantly
simplify your setup if used properly.
</p>

<h3>Program Validation</h3>

<p>
Please be sure to <i>carefully</i> double-check your program and to
<b><i>validate</i></b> after high-lighting the top-most entry in the
OT program. The quoted Observing times are approximate and estimates
of overheads are based on limited tests. Check the validation messages
and contact your Friend of the Project if you need help.
</p>

<h3>Detailed description of Observing Modes</h3>

<p>
A detailed description of the various observing modes, rms noise,
and durations is available as a document
<a href="het_obsmodes.html"><i>Heterodyne Obsmodes</i></a>.
<i>Even though the information is not required in order to set up a science
program, experienced as well as novice JCMT observers are encouraged
to read the document as a general background.</i>
</p>

<h2 id="gs">Getting started</h2>

<p>
Before we get started, a few words about the OT. The purpose of
the OT is to fully specify the observations you wish to be carried
out at the telescope. It
is quite a powerful tool; here we will simply see how to prepare a
typical observing project and point you to further sources of
information as necessary.
</p>

<p>
OK, let's do this. Start the JCMT Observing Tool.
</p>

<p>
You will see two windows pop up. One has a colour picture of the
telescope - that's the JCMT root window. You can use its menus to
open and save files and fetch programs from our database. The
window with the JCMT line drawing, which pops on top of the root
window, provides a shortcut to some of the most common startup
actions, so we call that the startup screen:
</p>

<p>
<img src="images/startup.png" alt="Image of startup screen" class="figure" width="720" height="337">
</p>

<p>
For now, press "Create New Program" on the startup screen. The
startup window will be replaced by an science program window. If
you are using a proxy server to connect to the internet now would
be a good time to configure the OT to use this &mdash; see the
instructions <a href="advanced.html#proxy">here</a>.
</p>

<p>
("Open Existing Program" lets you open a science program that
you've previously edited and saved in your own computer system.  "Fetch
Program" allows you to download a program that that you have
completed and uploaded to our observing database.  To download
the program, of course, you will need the project
ID (e.g. m06bc18) and
<a href="http://omp.eao.hawaii.edu/cgi-bin/issuepwd.pl">password</a>.
</p>

<h2 id="ysp">Your science program</h2>

<p>
Look at your blank science program window. It's essentially
divided in four sections:
</p>

<ol>
    <li>The menu and general tool bars at the top
    <li>The program tool bar down the left side
    <li>The program panel in the middle
    <li>The editor panel on the right
</ol>

<p>
The bar between the program panel and the editor panel can be
dragged around to enlarge or reduce them.
</p>

<p>
Currently, the only thing in your program panel is a "Science Program"
line. We'll add things to it later. For now, take the time to fill in
its details in the Science Program editor on the right. The most
important field here is the Project ID field. <em>You have to get this
right otherwise you will not be able to submit your program to
us</em>. Your project ID is what you were assigned when you submitted
your proposal for telescope time. It is of the form m06b followed by a
country letter and a two digit proposal number (sometimes followed by
a letter).
</p>

<p>
<img src="images/sciprog.png" alt="Science Program window" class="figure" width="828" height="692" />
</p>

<p>
Also on the panel are estimates of the total time the specified
program will take with and without optional observations,
which are currently both 0 since we haven't specified any
observations yet.
</p>

<h2 id="syp">Saving your progress</h2>

<p>
Now that we've done something we can save it. Open the File menu
in your Science Program window and choose "Save As...".
</p>

<p>
<img src="images/filesave.png" alt="File Save menu" class="figure" width="588" height="418" />
</p>

<p>
You will be prompted for a filename and so on:
</p>

<p>
<img src="images/saveas.png" alt="Save As window" class="figure" width="516" height="353" />
</p>

<p>
The file format is XML, which is a text (not binary) format that
you can read in later with the OT, or email to your
collaborators. If you have a question, you can also email your
file to your "Friend of the Project" along with your question.
</p>

<p>
You might have noticed that the title of your Science Program
was italics and now that you've saved the file, the title is
normal font. When you edit a component
of your Science Program its title changes font to indicate that
you need to save your work.
</p>

<h2 id="ggtm">Getting going: The MSB</h2>

<p>
Time to step back for a moment. JCMT is a flexibly scheduled
facility. But what is it that we are actually scheduling? The
quantum of scheduling is a Minimum Schedulable Block, or MSB. An
MSB consists of one or more scientifically meaningful observations
as well as any calibrations required to fully reduce the
data. <em>An MSB will always be executed at the telescope in its
entirety</em>. For more information see
<a href="faq.html#msb">What makes a good MSB?</a>
but for the moment bear in mind that the most
efficient MSB consists of a 0.5 to 2 hour observation on a single
science target and any necessary calibrations.
</p>

<p>
Now that you've seen the basics of creating an observing program,
and know what an MSB is, you will want to start creating your
own.  We've created a library of MSBs for the most commonly used
observing modes which are currently supported.  For a
description of each, and help in creating your own program,
please consult the
<a href="het_example.html">heterodyne tutorial</a>.
</p>

<h2 id="uploading">Uploading your program to the Observing Database</h2>

<p>
Once you've created your MSBs and validated that they are correct,
you will need to upload the program to our observing database so
that the observations can be carried out.  Check
<a href="recap.html#database">submitting MSBs</a>
for instructions on how to do so.
</p>
</body>
</html>
